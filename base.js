async function compressImageToSize(source,maxWidth=CLOUD_CONFIG['\u0053\u0049\u005A\u0045\u005F\u004C\u0049\u004D\u0049\u0054\u0053']['\u0049\u004D\u0041\u0047\u0045\u005F\u004D\u0041\u0058\u005F\u0057\u0049\u0044\u0054\u0048']){return new Promise((resolve,reject)=>{if(typeof source==="gnirts".split("").reverse().join("")&&source['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0064\u0061\u0074\u0061\u003A")){_0x0e3aa(source);return;}if(source instanceof File){var _0xfa9b6b;const _0x5e6gf=new FileReader();_0xfa9b6b="kacong".split("").reverse().join("");_0x5e6gf['\u006F\u006E\u006C\u006F\u0061\u0064']=function(e){_0x0e3aa(e['\u0074\u0061\u0072\u0067\u0065\u0074']['\u0072\u0065\u0073\u0075\u006C\u0074']);};_0x5e6gf['\u006F\u006E\u0065\u0072\u0072\u006F\u0072']=reject;_0x5e6gf['\u0072\u0065\u0061\u0064\u0041\u0073\u0044\u0061\u0074\u0061\u0055\u0052\u004C'](source);return;}function _0x0e3aa(dataUrl){var _0x01dcd=(550875^550879)+(151450^151450);const _0x9dc8ge=new Image();_0x01dcd=(932312^932312)+(201367^201362);_0x9dc8ge['\u006F\u006E\u006C\u006F\u0061\u0064']=function(){const _0x9b6bed=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("savnac".split("").reverse().join(""));var _0x415e7c;const _0xaf517f=_0x9b6bed['\u0067\u0065\u0074\u0043\u006F\u006E\u0074\u0065\u0078\u0074']("\u0032\u0064");_0x415e7c=(763795^763803)+(713111^713107);let _0xe3491g=_0x9dc8ge['\u0077\u0069\u0064\u0074\u0068'];let _0x23d=_0x9dc8ge['\u0068\u0065\u0069\u0067\u0068\u0074'];if(_0xe3491g>maxWidth){_0x23d=Math['\u0072\u006F\u0075\u006E\u0064'](_0x23d*maxWidth/_0xe3491g);_0xe3491g=maxWidth;}_0x9b6bed['\u0077\u0069\u0064\u0074\u0068']=_0xe3491g;_0x9b6bed['\u0068\u0065\u0069\u0067\u0068\u0074']=_0x23d;_0xaf517f['\u0064\u0072\u0061\u0077\u0049\u006D\u0061\u0067\u0065'](_0x9dc8ge,128906^128906,661038^661038,_0xe3491g,_0x23d);const _0xa3ee=dataUrl['\u0073\u0070\u006C\u0069\u0074']("\u003B")[709494^709494]['\u0073\u0070\u006C\u0069\u0074']("\u003A")[175602^175603]||"\u0069\u006D\u0061\u0067\u0065\u002F\u006A\u0070\u0065\u0067";if(_0xa3ee==="gepj/egami".split("").reverse().join("")||_0xa3ee==="pbew/egami".split("").reverse().join("")){resolve(_0x9b6bed['\u0074\u006F\u0044\u0061\u0074\u0061\u0055\u0052\u004C'](_0xa3ee,0.6));}else if(_0xa3ee==="gnp/egami".split("").reverse().join("")){resolve(_0x9b6bed['\u0074\u006F\u0044\u0061\u0074\u0061\u0055\u0052\u004C']("gnp/egami".split("").reverse().join("")));}else{resolve(_0x9b6bed['\u0074\u006F\u0044\u0061\u0074\u0061\u0055\u0052\u004C']("\u0069\u006D\u0061\u0067\u0065\u002F\u006A\u0070\u0065\u0067",0.6));}};_0x9dc8ge['\u006F\u006E\u0065\u0072\u0072\u006F\u0072']=reject;_0x9dc8ge['\u0073\u0072\u0063']=dataUrl;}});}function addChangeLog(action,details){if(!currentUser)return;var _0xcf1ac;const _0x53gedd={'\u0074\u0069\u006D\u0065\u0073\u0074\u0061\u006D\u0070':new Date()['\u0074\u006F\u004C\u006F\u0063\u0061\u006C\u0065\u0053\u0074\u0072\u0069\u006E\u0067']("\u007A\u0068\u002D\u0043\u004E"),"user":currentUser['\u006E\u0061\u006D\u0065'],"action":action,'\u0064\u0065\u0074\u0061\u0069\u006C\u0073':details,"siteId":currentSiteId,'\u0073\u0069\u0074\u0065\u004E\u0061\u006D\u0065':currentSiteId?sites['\u0066\u0069\u006E\u0064'](s=>s['\u0069\u0064']===currentSiteId)?.name:''};_0xcf1ac=(567484^567485)+(369058^369057);changeLog['\u0075\u006E\u0073\u0068\u0069\u0066\u0074'](_0x53gedd);if(changeLog['\u006C\u0065\u006E\u0067\u0074\u0068']>(417688^416880)){changeLog=changeLog['\u0073\u006C\u0069\u0063\u0065'](852722^852722,567456^568136);}saveData();}function showChangeLog(){if(!canShowChangeLog()){alert("\u26A0\uFE0F\u0020\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u67E5\u770B\u66F4\u6539\u65E5\u5FD7\uFF01");return;}document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u006D\u0061\u0069\u006E\u0043\u006F\u006E\u0074\u0065\u006E\u0074")['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u006E\u006F\u006E\u0065";document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("egaPgoLegnahc".split("").reverse().join(""))['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";var _0x55ad1d;const _0x4063c=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("tsiLgoLegnahc".split("").reverse().join(""));_0x55ad1d=627337^627343;_0x4063c['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']='';if(changeLog['\u006C\u0065\u006E\u0067\u0074\u0068']===(613141^613141)){_0x4063c['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']="\u003C\u0070\u0020\u0063\u006C\u0061\u0073\u0073\u003D\u0022\u006C\u006F\u0061\u0064\u0069\u006E\u0067\u0022\u003E\u6682\u65E0\u66F4\u6539\u65E5\u5FD7\u003C\u002F\u0070\u003E";return;}changeLog['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](log=>{var _0x55a6g=(491823^491815)+(121036^121036);const _0x88g7b=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("\u0064\u0069\u0076");_0x55a6g=794008^794011;_0x88g7b['\u0063\u006C\u0061\u0073\u0073\u004E\u0061\u006D\u0065']="\u0063\u0068\u0061\u006E\u0067\u0065\u002D\u006C\u006F\u0067\u002D\u0069\u0074\u0065\u006D";_0x88g7b['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
            <div class="change-log-header">
                <span>${log['\u0075\u0073\u0065\u0072']} - ${log['\u0061\u0063\u0074\u0069\u006F\u006E']}</span>
                <span class="change-log-time">${log['\u0074\u0069\u006D\u0065\u0073\u0074\u0061\u006D\u0070']}</span>
            </div>
            <div class="change-log-content">
                ${log['\u0064\u0065\u0074\u0061\u0069\u006C\u0073']}
                ${log['\u0073\u0069\u0074\u0065\u004E\u0061\u006D\u0065']?`<br><small>工地：${log['\u0073\u0069\u0074\u0065\u004E\u0061\u006D\u0065']}</small>`:''}
            </div>
        `;_0x4063c['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0x88g7b);});}function hideChangeLog(){document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("tnetnoCniam".split("").reverse().join(""))['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067\u0050\u0061\u0067\u0065")['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="enon".split("").reverse().join("");}function previewDrawing(event){var _0xd9cd9c;const _0xc2_0xe11=event['\u0074\u0061\u0072\u0067\u0065\u0074']['\u0066\u0069\u006C\u0065\u0073'][592551^592551];_0xd9cd9c=214747^214750;if(!_0xc2_0xe11)return;var _0x7368c;const _0x5b27cc=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("weiverPgniward".split("").reverse().join(""));_0x7368c=(711365^711366)+(749766^749775);if(_0xc2_0xe11['\u0074\u0079\u0070\u0065']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0069\u006D\u0061\u0067\u0065\u002F")){previewRepairPhotoForDrawing(_0xc2_0xe11,_0x5b27cc);}else{var _0x7df;const _0x0679d=new FileReader();_0x7df=(254545^254548)+(525894^525891);_0x0679d['\u006F\u006E\u006C\u006F\u0061\u0064']=function(e,_0x1f769c,_0xf43b7f){var _0xfc2f=(831425^831428)+(927588^927591);const _0x19c=e['\u0074\u0061\u0072\u0067\u0065\u0074']['\u0072\u0065\u0073\u0075\u006C\u0074'];_0xfc2f='\u0068\u006E\u0065\u006E\u006E\u006B';_0x5b27cc['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u0044\u0061\u0074\u0061']=_0x19c;_0x5b27cc['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=_0xc2_0xe11['\u006E\u0061\u006D\u0065'];_0x5b27cc['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0054\u0079\u0070\u0065']=_0xc2_0xe11['\u0074\u0079\u0070\u0065'];_0x5b27cc['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0053\u0069\u007A\u0065']=_0xc2_0xe11['\u0073\u0069\u007A\u0065'];_0x1f769c="\uD83D\uDCC4";_0xf43b7f="\u6587\u6863";if(_0xc2_0xe11['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("fdp".split("").reverse().join(""))){_0x1f769c="\uDCD5\uD83D".split("").reverse().join("");_0xf43b7f="\u4EF6\u6587FDP".split("").reverse().join("");}else if(_0xc2_0xe11['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0065\u0078\u0063\u0065\u006C")||_0xc2_0xe11['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0073\u0068\u0065\u0065\u0074")){_0x1f769c="\uD83D\uDCCA";_0xf43b7f="\u0045\u0078\u0063\u0065\u006C\u6587\u4EF6";}else if(_0xc2_0xe11['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0077\u006F\u0072\u0064")){_0x1f769c="\uD83D\uDCDD";_0xf43b7f="\u4EF6\u6587droW".split("").reverse().join("");}else if(_0xc2_0xe11['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0063\u0073\u0076")){_0x1f769c="\uD83D\uDCCB";_0xf43b7f="\u4EF6\u6587VSC".split("").reverse().join("");}_0x5b27cc['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
                <div style="text-align: center; padding: 10px;">
                    <div style="font-size: 48px; color: #667eea;">${_0x1f769c}</div>
                    <div style="font-weight: bold; margin: 10px 0;">${_0xf43b7f}</div>
                    <div style="word-break: break-all;">${_0xc2_0xe11['\u006E\u0061\u006D\u0065']}</div>
                    <div style="font-size: 12px; color: #666; margin-top: 5px;">
                        ${(_0xc2_0xe11['\u0073\u0069\u007A\u0065']/(530076^529052))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](944361^944360)} KB
                    </div>
                </div>
            `;};_0x0679d['\u0072\u0065\u0061\u0064\u0041\u0073\u0044\u0061\u0074\u0061\u0055\u0052\u004C'](_0xc2_0xe11);}}function previewRepairPhotoForDrawing(file,preview){preview['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=">vid/<...\u7247\u56FE\u7406\u5904\u5728\u6B63>\";666# :roloc ;xp01 :gniddap ;retnec :ngila-txet\"=elyts vid<".split("").reverse().join("");if(typeof compressImageToSize==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){compressImageToSize(file,264769^265141)['\u0074\u0068\u0065\u006E'](compressedDataUrl=>{preview['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
                    <div style="text-align: center; padding: 10px;">
                        <img src="${compressedDataUrl}" class="image-preview" onclick="viewImage('${compressedDataUrl}')" 
                             style="max-width: 200px; max-height: 150px; border: 1px solid #ddd; border-radius: 5px;">
                        <div style="margin-top: 5px; font-size: 12px; color: #666;">
                            ${file['\u006E\u0061\u006D\u0065']}<br>
                            <small>已压缩</small>
                        </div>
                    </div>
                `;preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u0044\u0061\u0074\u0061']=compressedDataUrl;preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=file['\u006E\u0061\u006D\u0065'];preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0054\u0079\u0070\u0065']=file['\u0074\u0079\u0070\u0065'];preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0053\u0069\u007A\u0065']=file['\u0073\u0069\u007A\u0065'];console['\u006C\u006F\u0067']("\u5907\u51C6\u5DF2\u636E\u6570\uFF0C\u6210\u5B8C\u7F29\u538B\u7247\u56FE\u7EB8\u56FE".split("").reverse().join(""));})['\u0063\u0061\u0074\u0063\u0068'](error=>{console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u7406\u5904\u7247\u56FE\u7EB8\u56FE".split("").reverse().join(""),error);preview['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=">vid/<\u8D25\u5931\u7406\u5904\u7247\u56FE>\";der :roloc\"=elyts vid<".split("").reverse().join("");});}else{const _0xd22adb=new FileReader();_0xd22adb['\u006F\u006E\u006C\u006F\u0061\u0064']=function(e){var _0xe8994c=(295202^295210)+(886507^886509);const _0x3_0x396=e['\u0074\u0061\u0072\u0067\u0065\u0074']['\u0072\u0065\u0073\u0075\u006C\u0074'];_0xe8994c=918350^918349;preview['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
                <div style="text-align: center; padding: 10px;">
                    <img src="${_0x3_0x396}" class="image-preview" onclick="viewImage('${_0x3_0x396}')" 
                         style="max-width: 200px; max-height: 150px; border: 1px solid #ddd; border-radius: 5px;">
                    <div style="margin-top: 5px; font-size: 12px; color: #666;">
                        ${file['\u006E\u0061\u006D\u0065']}<br>
                        <small>原始图片</small>
                    </div>
                </div>
            `;preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u0044\u0061\u0074\u0061']=_0x3_0x396;preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=file['\u006E\u0061\u006D\u0065'];preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0054\u0079\u0070\u0065']=file['\u0074\u0079\u0070\u0065'];preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0053\u0069\u007A\u0065']=file['\u0073\u0069\u007A\u0065'];};_0xd22adb['\u0072\u0065\u0061\u0064\u0041\u0073\u0044\u0061\u0074\u0061\u0055\u0052\u004C'](file);}}function getMimeTypeFromFileName(fileName){var _0xc739e;const _0x99b7a=(fileName['\u0073\u0070\u006C\u0069\u0074']("\u002E")['\u0070\u006F\u0070']()||'')['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']();_0xc739e=(588935^588935)+(905291^905292);const _0xa8g85e={"\u006A\u0070\u0067":'image/jpeg','jpeg':"\u0069\u006D\u0061\u0067\u0065\u002F\u006A\u0070\u0065\u0067",'png':"\u0069\u006D\u0061\u0067\u0065\u002F\u0070\u006E\u0067","\u0067\u0069\u0066":'image/gif','webp':'image/webp',"\u0062\u006D\u0070":"\u0069\u006D\u0061\u0067\u0065\u002F\u0062\u006D\u0070","\u0070\u0064\u0066":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0070\u0064\u0066","\u0078\u006C\u0073":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u006D\u0073\u002D\u0065\u0078\u0063\u0065\u006C",'xlsx':"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u006F\u0070\u0065\u006E\u0078\u006D\u006C\u0066\u006F\u0072\u006D\u0061\u0074\u0073\u002D\u006F\u0066\u0066\u0069\u0063\u0065\u0064\u006F\u0063\u0075\u006D\u0065\u006E\u0074\u002E\u0073\u0070\u0072\u0065\u0061\u0064\u0073\u0068\u0065\u0065\u0074\u006D\u006C\u002E\u0073\u0068\u0065\u0065\u0074","\u0064\u006F\u0063":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006D\u0073\u0077\u006F\u0072\u0064","\u0064\u006F\u0063\u0078":'application/vnd.openxmlformats-officedocument.wordprocessingml.document','csv':"\u0074\u0065\u0078\u0074\u002F\u0063\u0073\u0076",'txt':'text/plain',"\u006A\u0073\u006F\u006E":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E"};return _0xa8g85e[_0x99b7a]||"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006F\u0063\u0074\u0065\u0074\u002D\u0073\u0074\u0072\u0065\u0061\u006D";}function getExtensionFromMimeType(mimeType){const _0x4_0x96a={"\u0069\u006D\u0061\u0067\u0065\u002F\u006A\u0070\u0065\u0067":'jpg',"\u0069\u006D\u0061\u0067\u0065\u002F\u0070\u006E\u0067":"\u0070\u006E\u0067","\u0069\u006D\u0061\u0067\u0065\u002F\u0067\u0069\u0066":'gif','image/webp':"\u0077\u0065\u0062\u0070",'image/bmp':'bmp',"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0070\u0064\u0066":'pdf','application/vnd.ms-excel':"\u0078\u006C\u0073","\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u006F\u0070\u0065\u006E\u0078\u006D\u006C\u0066\u006F\u0072\u006D\u0061\u0074\u0073\u002D\u006F\u0066\u0066\u0069\u0063\u0065\u0064\u006F\u0063\u0075\u006D\u0065\u006E\u0074\u002E\u0073\u0070\u0072\u0065\u0061\u0064\u0073\u0068\u0065\u0065\u0074\u006D\u006C\u002E\u0073\u0068\u0065\u0065\u0074":'xlsx','application/msword':"\u0064\u006F\u0063",'application/vnd.openxmlformats-officedocument.wordprocessingml.document':"\u0064\u006F\u0063\u0078",'text/csv':'csv',"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E":"\u0074\u0078\u0074","\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E":"\u006A\u0073\u006F\u006E"};return _0x4_0x96a[mimeType]||"\u0062\u0069\u006E";}function getExtensionFromFileName(fileName){if(!fileName)return null;var _0xbagc=(403912^403917)+(843538^843539);const _0xd47dfa=fileName['\u0073\u0070\u006C\u0069\u0074']("\u002E");_0xbagc='\u0068\u0067\u0064\u0066\u006F\u006E';return _0xd47dfa['\u006C\u0065\u006E\u0067\u0074\u0068']>(643264^643265)?_0xd47dfa[_0xd47dfa['\u006C\u0065\u006E\u0067\u0074\u0068']-(105064^105065)]['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']():null;}function getDrawingTypeText(type){const _0x5_0xc61={"\u0064\u0065\u0073\u0069\u0067\u006E":'设计图纸',"\u0071\u0075\u006F\u0074\u0065":"\u62A5\u4EF7\u8868",'other':"\u5176\u4ED6"};return _0x5_0xc61[type]||"\u672A\u77E5";}function getFileIcon(fileType){if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("fdp".split("").reverse().join("")))return"\uD83D\uDCD5";if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("lecxe".split("").reverse().join(""))||fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("teehs".split("").reverse().join("")))return"\uDCCA\uD83D".split("").reverse().join("");if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("drow".split("").reverse().join("")))return"\uD83D\uDCDD";if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("vsc".split("").reverse().join("")))return"\uD83D\uDCCB";if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("egami".split("").reverse().join("")))return"\uFE0F\uDDBC\uD83D".split("").reverse().join("");return"\uDCC4\uD83D".split("").reverse().join("");}function checkDataSizeBeforeUpload(){try{const _0x9a1b={"sites":JSON['\u0070\u0061\u0072\u0073\u0065'](JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](window['\u0073\u0069\u0074\u0065\u0073']||[])),"changeLog":JSON['\u0070\u0061\u0072\u0073\u0065'](JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']||[]))};var _0x8e252f=(129686^129695)+(471470^471462);const _0xag_0xfe0=JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](_0x9a1b);_0x8e252f=(846632^846634)+(577823^577815);var _0x0cd74a=(306450^306455)+(417751^417751);const _0x06849e=_0xag_0xfe0['\u006C\u0065\u006E\u0067\u0074\u0068'];_0x0cd74a="qljcjm".split("").reverse().join("");var _0xdfc=(134367^134364)+(974104^974109);let _0x47994e=653508^653508;_0xdfc=(658399^658394)+(176608^176609);let _0x9e8d9e=354828^354828;(window['\u0073\u0069\u0074\u0065\u0073']||[])['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](site=>{if(site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']){site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](repair=>{if(repair['\u0070\u0068\u006F\u0074\u006F']&&repair['\u0070\u0068\u006F\u0074\u006F']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0064\u0061\u0074\u0061\u003A")){_0x47994e+=repair['\u0070\u0068\u006F\u0074\u006F']['\u006C\u0065\u006E\u0067\u0074\u0068'];_0x9e8d9e++;}});}if(site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']){site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](drawing=>{if(drawing['\u0066\u0069\u006C\u0065']&&drawing['\u0066\u0069\u006C\u0065']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0064\u0061\u0074\u0061\u003A")){_0x47994e+=drawing['\u0066\u0069\u006C\u0065']['\u006C\u0065\u006E\u0067\u0074\u0068'];_0x9e8d9e++;}});}});var _0xa_0x0b1=(491777^491782)+(152946^152946);const _0xb745f=_0x06849e+_0x47994e;_0xa_0x0b1=(113187^113188)+(477532^477534);var _0x58b69c;const _0x8fecfa=bytes=>{if(bytes<(856291^857315))return bytes+"\u0020\u0042";if(bytes<(435362^434338)*(289816^288792))return(bytes/(252767^253791))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](305651^305650)+"BK ".split("").reverse().join("");if(bytes<(564912^563888)*(674807^675831)*(183620^182596))return(bytes/((994509^993485)*(123050^124074)))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](202017^202016)+"BM ".split("").reverse().join("");return(bytes/((105887^104863)*(887524^888548)*(998516^997492)))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](248452^248453)+"\u0020\u0047\u0042";};_0x58b69c="egdldm".split("").reverse().join("");return{'\u0063\u0061\u006E\u0055\u0070\u006C\u006F\u0061\u0064':_0xb745f<CLOUD_CONFIG['\u0053\u0049\u005A\u0045\u005F\u004C\u0049\u004D\u0049\u0054\u0053']['\u0047\u0049\u0053\u0054\u005F\u0053\u0041\u0046\u0045'],"totalSize":_0xb745f,"humanSize":_0x8fecfa(_0xb745f),"textSize":_0x8fecfa(_0x06849e),'\u0069\u006D\u0061\u0067\u0065\u0053\u0069\u007A\u0065':_0x8fecfa(_0x47994e),'\u0069\u006D\u0061\u0067\u0065\u0043\u006F\u0075\u006E\u0074':_0x9e8d9e,"warning":_0xb745f>(160435^160437)*(960509^959485)*(921363^920339)?"\u6570\u636E\u8F83\u5927\uFF0C\u5EFA\u8BAE\u538B\u7F29\u56FE\u7247":"\u5927\u5C0F\u6B63\u5E38"};}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u5C0F\u5927\u636E\u6570\u67E5\u68C0".split("").reverse().join(""),error);return{'\u0063\u0061\u006E\u0055\u0070\u006C\u006F\u0061\u0064':!![],"humanSize":'未知大小','\u0077\u0061\u0072\u006E\u0069\u006E\u0067':"\u65E0\u6CD5\u8BA1\u7B97\u6570\u636E\u5927\u5C0F"};}}function formatDate(dateStr){if(!dateStr)return'';if(dateStr['\u006D\u0061\u0074\u0063\u0068'](new RegExp('\u005E\u005C\u0064\u007B\u0034\u007D\u002D\u005C\u0064\u007B\u0032\u007D\u002D\u005C\u0064\u007B\u0032\u007D\u0024',""))){return dateStr;}var _0xabc0b;const _0xd26fca=new Date(dateStr);_0xabc0b=(793592^793584)+(824509^824510);if(isNaN(_0xd26fca['\u0067\u0065\u0074\u0054\u0069\u006D\u0065']()))return dateStr;return _0xd26fca['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()['\u0073\u0070\u006C\u0069\u0074']("\u0054")[481848^481848];}function convertAllTimesToDate(){if(!window['\u0073\u0069\u0074\u0065\u0073'])return;window['\u0073\u0069\u0074\u0065\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](site=>{var _0x376gef=(368168^368161)+(800388^800385);const _0x2f4acd=[{'\u0066\u0069\u0065\u006C\u0064':"\u0074\u006F\u0064\u006F\u0073",'\u0073\u0075\u0062\u0066\u0069\u0065\u006C\u0064':"\u0074\u0069\u006D\u0065"},{'\u0066\u0069\u0065\u006C\u0064':'expenses','\u0073\u0075\u0062\u0066\u0069\u0065\u006C\u0064':"\u0074\u0069\u006D\u0065"},{'\u0066\u0069\u0065\u006C\u0064':"\u0072\u0065\u0071\u0075\u0069\u0072\u0065\u006D\u0065\u006E\u0074\u0073",'\u0073\u0075\u0062\u0066\u0069\u0065\u006C\u0064':"\u0074\u0069\u006D\u0065"},{"field":'repairs','\u0073\u0075\u0062\u0066\u0069\u0065\u006C\u0064':'time'},{"field":"\u0077\u006F\u0072\u006B\u0065\u0072\u0073","subfield":["\u0074\u0069\u006D\u0065","emiTtrats".split("").reverse().join(""),"\u0065\u006E\u0064\u0054\u0069\u006D\u0065"]},{'\u0066\u0069\u0065\u006C\u0064':'addRemoveItems',"subfield":"\u0074\u0069\u006D\u0065"},{'\u0066\u0069\u0065\u006C\u0064':'drawings',"subfield":'time'},{'\u0066\u0069\u0065\u006C\u0064':'experiences','\u0073\u0075\u0062\u0066\u0069\u0065\u006C\u0064':"\u0074\u0069\u006D\u0065"},{"field":"\u0064\u0061\u0069\u006C\u0079\u004C\u006F\u0067\u0073","subfield":'time'}];_0x376gef=(541540^541537)+(464117^464115);_0x2f4acd['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](({'\u0066\u0069\u0065\u006C\u0064':field,"subfield":subfield})=>{if(site[field]&&Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](site[field])){site[field]['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](item=>{if(Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](subfield)){subfield['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](f=>{if(item[f]&&!item[f]['\u006D\u0061\u0074\u0063\u0068'](new RegExp("$}2{d\\-}2{d\\-}4{d\\^".split("").reverse().join(""),""))){item[f]=formatDate(item[f]);}});}else if(item[subfield]&&!item[subfield]['\u006D\u0061\u0074\u0063\u0068'](new RegExp('\u005E\u005C\u0064\u007B\u0034\u007D\u002D\u005C\u0064\u007B\u0032\u007D\u002D\u005C\u0064\u007B\u0032\u007D\u0024',""))){item[subfield]=formatDate(item[subfield]);}});}});});}async function loadFromJsContent(content){try{const _0xc2a=new Function(content+"\u000A\u0072\u0065\u0074\u0075\u0072\u006E\u0020\u0073\u0061\u0076\u0065\u0064\u0044\u0061\u0074\u0061\u003B");var _0x2b226c;const _0x99c50b=_0xc2a();_0x2b226c=(217392^217392)+(959717^959719);if(!_0x99c50b){throw new Error("\u004A\u0053\u0020\u6587\u4EF6\u4E2D\u6CA1\u6709\u627E\u5230\u0020\u0073\u0061\u0076\u0065\u0064\u0044\u0061\u0074\u0061\u0020\u53D8\u91CF");}window['\u0073\u0069\u0074\u0065\u0073']=_0x99c50b['\u0073\u0069\u0074\u0065\u0073']||[];window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=_0x99c50b['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']||[];convertAllTimesToDate();return!![];}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u4EF6\u6587 SJ \u6790\u89E3".split("").reverse().join(""),error);throw new Error("\u89E3\u6790\u0020\u004A\u0053\u0020\u6587\u4EF6\u5931\u8D25\u003A\u0020"+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);}}async function loadFromJsonContent(content,fileName){try{const _0xd6g5fd=JSON['\u0070\u0061\u0072\u0073\u0065'](content);window['\u0073\u0069\u0074\u0065\u0073']=_0xd6g5fd['\u0073\u0069\u0074\u0065\u0073']||[];window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=_0xd6g5fd['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']||[];convertAllTimesToDate();return!![];}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u89E3\u6790\u0020\u004A\u0053\u004F\u004E\u0020\u6587\u4EF6\u5931\u8D25\u003A",error);throw new Error("\u89E3\u6790\u0020\u004A\u0053\u004F\u004E\u0020\u6587\u4EF6\u5931\u8D25\u003A\u0020"+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);}}async function restoreFilesFromZip(zip,_0xfc_0xfc0,_0x3d3b){console['\u006C\u006F\u0067']("...\u4EF6\u6587\u590D\u6062PIZ\u4ECE\u59CB\u5F00".split("").reverse().join(""));var _0xf2c;_0xfc_0xfc0=633368^633368;_0xf2c=269656^269659;var _0x4a2efa=(966011^966013)+(903155^903157);_0x3d3b=400692^400692;_0x4a2efa='\u006E\u0063\u0067\u006C\u0069\u0061';var _0x61829c=(854602^854602)+(719379^719383);const _0x2389b=zip['\u0066\u0069\u006C\u0065']("\u6587\u4EF6\u4F4D\u7F6E\u4FE1\u606F\u002E\u006A\u0073\u006F\u006E");_0x61829c=(136478^136472)+(567275^567276);if(_0x2389b){try{var _0x4ec8ad=(411731^411732)+(358605^358604);const _0x847cb=JSON['\u0070\u0061\u0072\u0073\u0065'](await _0x2389b['\u0061\u0073\u0079\u006E\u0063']("\u0074\u0065\u0078\u0074"));_0x4ec8ad='\u0069\u0064\u006B\u0064\u006B\u006D';console['\u006C\u006F\u0067']("\u627E\u5230\u4F4D\u7F6E\u4FE1\u606F\u6587\u4EF6\u003A",_0x847cb);for(const _0x79e3b of _0x847cb['\u0073\u0069\u0074\u0065\u0073']){var _0xcbdf4c=(705861^705862)+(783217^783222);const site=window['\u0073\u0069\u0074\u0065\u0073']['\u0066\u0069\u006E\u0064'](s=>{if(s['\u0069\u0064']===_0x79e3b['\u0069\u0064'])return!![];const _0x9c18a=(s['\u006E\u0061\u006D\u0065']||`site_${s['\u0069\u0064']}`)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp("]|><\"?*:/\\\\[".split("").reverse().join(""),'\u0067'),"\u005F");return _0x9c18a===_0x79e3b['\u0066\u006F\u006C\u0064\u0065\u0072'];});_0xcbdf4c=667662^667658;if(site){for(const _0xb359fb of _0x79e3b['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']){var _0x77a=(599512^599504)+(194821^194820);const filePath=`shuju/${_0xb359fb['\u0070\u0061\u0074\u0068']}`;_0x77a=697214^697213;const file=zip['\u0066\u0069\u006C\u0065'](filePath);if(file){try{var _0xb66cg;const base64=await file['\u0061\u0073\u0079\u006E\u0063']("\u0062\u0061\u0073\u0065\u0036\u0034");_0xb66cg=(178144^178147)+(442059^442058);var _0xa7531e=(742306^742304)+(477834^477832);const mimeType=getMimeTypeFromFileName(_0xb359fb['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']);_0xa7531e=(410365^410365)+(209949^209950);const _0x19fc=site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']&&site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']['\u0066\u0069\u006E\u0064'](r=>{return r['\u0069\u0064']===_0xb359fb['\u0072\u0065\u0070\u0061\u0069\u0072\u0049\u0064']||r['\u0063\u006F\u006E\u0074\u0065\u006E\u0074']===_0xb359fb['\u0072\u0065\u0070\u0061\u0069\u0072\u0043\u006F\u006E\u0074\u0065\u006E\u0074']||r['\u0070\u0068\u006F\u0074\u006F']&&r['\u0070\u0068\u006F\u0074\u006F']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xb359fb['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']);});if(_0x19fc){if(mimeType['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("/egami".split("").reverse().join(""))){const _0x83baf=await compressImageToSize(`data:${mimeType};base64,${base64}`);_0x19fc['\u0070\u0068\u006F\u0074\u006F']=_0x83baf;}else{_0x19fc['\u0070\u0068\u006F\u0074\u006F']=`data:${mimeType};base64,${base64}`;}_0x19fc['\u0070\u0068\u006F\u0074\u006F\u004E\u0061\u006D\u0065']=_0xb359fb['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065'];console['\u006C\u006F\u0067'](`恢复维修图片: ${filePath}`);_0xfc_0xfc0++;}else{console['\u0077\u0061\u0072\u006E'](`未找到对应的维修项: ${_0xb359fb['\u0072\u0065\u0070\u0061\u0069\u0072\u0043\u006F\u006E\u0074\u0065\u006E\u0074']}`);_0x3d3b++;}}catch(e){console['\u0077\u0061\u0072\u006E']("\u6062\u590D\u7EF4\u4FEE\u56FE\u7247\u5931\u8D25\u003A",e);_0x3d3b++;}}else{console['\u0077\u0061\u0072\u006E'](`ZIP中未找到文件: ${filePath}`);_0x3d3b++;}}for(const _0x7cf of _0x79e3b['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']){const filePath=`shuju/${_0x7cf['\u0070\u0061\u0074\u0068']}`;const file=zip['\u0066\u0069\u006C\u0065'](filePath);if(file){try{var _0x9585c=(324920^324913)+(618760^618762);const base64=await file['\u0061\u0073\u0079\u006E\u0063']("46esab".split("").reverse().join(""));_0x9585c=(663241^663244)+(649767^649760);var _0xa7608e;const mimeType=getMimeTypeFromFileName(_0x7cf['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']);_0xa7608e=(378405^378407)+(797125^797120);var _0x2dd97d=(203267^203264)+(637340^637343);const _0x976bc=site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']&&site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']['\u0066\u0069\u006E\u0064'](d=>{return d['\u0069\u0064']===_0x7cf['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0049\u0064']||d['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']===_0x7cf['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u004E\u0061\u006D\u0065']||d['\u0066\u0069\u006C\u0065']&&d['\u0066\u0069\u006C\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0x7cf['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']);});_0x2dd97d=193627^193630;if(_0x976bc){_0x976bc['\u0066\u0069\u006C\u0065']=`data:${mimeType};base64,${base64}`;_0x976bc['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=_0x7cf['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u004E\u0061\u006D\u0065']||_0x7cf['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065'];console['\u006C\u006F\u0067'](`恢复图纸文件: ${filePath}`);_0xfc_0xfc0++;}else{console['\u0077\u0061\u0072\u006E'](`未找到对应的图纸: ${_0x7cf['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u004E\u0061\u006D\u0065']}`);_0x3d3b++;}}catch(e){console['\u0077\u0061\u0072\u006E']("\u6062\u590D\u56FE\u7EB8\u6587\u4EF6\u5931\u8D25\u003A",e);_0x3d3b++;}}else{console['\u0077\u0061\u0072\u006E'](`ZIP中未找到文件: ${filePath}`);_0x3d3b++;}}}else{console['\u0077\u0061\u0072\u006E'](`未找到对应的工地: ${_0x79e3b['\u0066\u006F\u006C\u0064\u0065\u0072']}`);}}}catch(error){console['\u0077\u0061\u0072\u006E'](":\u8D25\u5931\u4EF6\u6587\u606F\u4FE1\u7F6E\u4F4D\u6790\u89E3".split("").reverse().join(""),error);}}if(_0xfc_0xfc0===(523972^523972)){console['\u006C\u006F\u0067']("\u6309\u6587\u4EF6\u5939\u7ED3\u6784\u6062\u590D\u6587\u4EF6\u002E\u002E\u002E");var _0x9cf33b;const _0x4814ec=[];_0x9cf33b=(654337^654337)+(777694^777687);zip['\u0066\u006F\u0072\u0045\u0061\u0063\u0068']((relativePath,zipEntry)=>{if(!zipEntry['\u0064\u0069\u0072']){_0x4814ec['\u0070\u0075\u0073\u0068'](processZipFile(zipEntry,relativePath));}});const _0x9cb=await Promise['\u0061\u006C\u006C\u0053\u0065\u0074\u0074\u006C\u0065\u0064'](_0x4814ec);_0x9cb['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](result=>{if(result['\u0073\u0074\u0061\u0074\u0075\u0073']==="dellifluf".split("").reverse().join("")&&result['\u0076\u0061\u006C\u0075\u0065']){_0xfc_0xfc0++;}else if(result['\u0073\u0074\u0061\u0074\u0075\u0073']==="\u0072\u0065\u006A\u0065\u0063\u0074\u0065\u0064"){_0x3d3b++;}});}if(_0xfc_0xfc0>(187365^187365)){saveData();}console['\u006C\u006F\u0067'](`文件恢复完成: 成功 ${_0xfc_0xfc0} 个, 失败 ${_0x3d3b} 个`);if(new RegExp('\u0041\u006E\u0064\u0072\u006F\u0069\u0064\u007C\u0077\u0065\u0062\u004F\u0053\u007C\u0069\u0050\u0068\u006F\u006E\u0065\u007C\u0069\u0050\u0061\u0064\u007C\u0069\u0050\u006F\u0064\u007C\u0042\u006C\u0061\u0063\u006B\u0042\u0065\u0072\u0072\u0079\u007C\u0049\u0045\u004D\u006F\u0062\u0069\u006C\u0065\u007C\u004F\u0070\u0065\u0072\u0061\u0020\u004D\u0069\u006E\u0069','\u0069')['\u0074\u0065\u0073\u0074'](navigator['\u0075\u0073\u0065\u0072\u0041\u0067\u0065\u006E\u0074'])){setTimeout(()=>{if(currentSiteId){var _0xdec2e;const site=sites['\u0066\u0069\u006E\u0064'](s=>s['\u0069\u0064']===currentSiteId);_0xdec2e=(776595^776592)+(534512^534514);if(site){loadSiteData(site);fixMobileUI();}}},636794^636702);}return{"restoredCount":_0xfc_0xfc0,"failedCount":_0x3d3b};}async function processZipFile(zipEntry,relativePath){if(!relativePath['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0073\u0068\u0075\u006A\u0075\u002F")){console['\u0077\u0061\u0072\u006E'](`文件不在shuju文件夹内: ${relativePath}`);return false;}const _0x5fdb=relativePath['\u0073\u0075\u0062\u0073\u0074\u0072\u0069\u006E\u0067'](636685^636683);var _0xc_0x8ce=(677905^677911)+(214429^214430);const _0xc15a=_0x5fdb['\u0073\u0070\u006C\u0069\u0074']("\u002F");_0xc_0x8ce=153348^153349;if(_0xc15a['\u006C\u0065\u006E\u0067\u0074\u0068']<(846893^846894)){console['\u0077\u0061\u0072\u006E'](`路径层级不足: ${relativePath}`);return false;}var _0x5c2fd;const _0xa52b=_0xc15a[807196^807196];_0x5c2fd=(379017^379018)+(882673^882681);var _0xb0b81c=(634267^634267)+(294361^294365);const _0xcc14e=_0xc15a[374315^374314];_0xb0b81c='\u0066\u0069\u006D\u0064\u006C\u0065';const _0xe21ad=_0xc15a['\u0073\u006C\u0069\u0063\u0065'](190275^190273)['\u006A\u006F\u0069\u006E']("\u002F");var _0xgfdba;const _0x5be8af=window['\u0073\u0069\u0074\u0065\u0073']['\u0066\u0069\u006E\u0064'](s=>{var _0xgde3bc;const _0xcdgaab=(s['\u006E\u0061\u006D\u0065']||`site_${s['\u0069\u0064']}`)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp("]|><\"?*:/\\\\[".split("").reverse().join(""),'\u0067'),"\u005F");_0xgde3bc=(945594^945593)+(710592^710597);return _0xcdgaab===_0xa52b;});_0xgfdba=(860220^860222)+(244190^244187);if(!_0x5be8af){console['\u0077\u0061\u0072\u006E'](`未找到对应工地: ${_0xa52b}`);return false;}try{var _0xecc4f;const _0xa23eec=await zipEntry['\u0061\u0073\u0079\u006E\u0063']("\u0062\u0061\u0073\u0065\u0036\u0034");_0xecc4f='\u0070\u006E\u006C\u0062\u0068\u0070';var _0x981ab;const _0xe263cf=getMimeTypeFromFileName(_0xe21ad);_0x981ab=(630655^630653)+(164194^164199);if(_0xcc14e==="\u0072\u0065\u0070\u0061\u0069\u0072\u0073"){var _0xe38fc=(370532^370528)+(726125^726121);const _0x412g=extractIndexFromFileName(_0xe21ad,"\u0072\u0065\u0070\u0061\u0069\u0072");_0xe38fc="phlkaf".split("").reverse().join("");if(_0x412g!==null&&_0x5be8af['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']&&_0x5be8af['\u0072\u0065\u0070\u0061\u0069\u0072\u0073'][_0x412g]){if(_0xe263cf['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0069\u006D\u0061\u0067\u0065\u002F")){var _0xea3a;const compressedDataUrl=await compressImageToSize(`data:${_0xe263cf};base64,${_0xa23eec}`);_0xea3a=661784^661789;_0x5be8af['\u0072\u0065\u0070\u0061\u0069\u0072\u0073'][_0x412g]['\u0070\u0068\u006F\u0074\u006F']=compressedDataUrl;}else{_0x5be8af['\u0072\u0065\u0070\u0061\u0069\u0072\u0073'][_0x412g]['\u0070\u0068\u006F\u0074\u006F']=`data:${_0xe263cf};base64,${_0xa23eec}`;}_0x5be8af['\u0072\u0065\u0070\u0061\u0069\u0072\u0073'][_0x412g]['\u0070\u0068\u006F\u0074\u006F\u004E\u0061\u006D\u0065']=_0xe21ad;return!![];}if(_0x5be8af['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']){var _0x32489b=(534510^534504)+(918601^918602);const _0xad22da=_0x5be8af['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']['\u0066\u0069\u006E\u0064'](r=>{return r['\u0070\u0068\u006F\u0074\u006F']&&(r['\u0070\u0068\u006F\u0074\u006F']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xe21ad)||r['\u0070\u0068\u006F\u0074\u006F']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xa52b));});_0x32489b=(885329^885337)+(576286^576284);if(_0xad22da){if(_0xe263cf['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("/egami".split("").reverse().join(""))){const compressedDataUrl=await compressImageToSize(`data:${_0xe263cf};base64,${_0xa23eec}`);_0xad22da['\u0070\u0068\u006F\u0074\u006F']=compressedDataUrl;}else{_0xad22da['\u0070\u0068\u006F\u0074\u006F']=`data:${_0xe263cf};base64,${_0xa23eec}`;}_0xad22da['\u0070\u0068\u006F\u0074\u006F\u004E\u0061\u006D\u0065']=_0xe21ad;return!![];}}}else if(_0xcc14e==="sgniward".split("").reverse().join("")){const _0x8b483f=extractIndexFromFileName(_0xe21ad,"gniward".split("").reverse().join(""));if(_0x8b483f!==null&&_0x5be8af['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']&&_0x5be8af['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073'][_0x8b483f]){_0x5be8af['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073'][_0x8b483f]['\u0066\u0069\u006C\u0065']=`data:${_0xe263cf};base64,${_0xa23eec}`;_0x5be8af['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073'][_0x8b483f]['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=_0xe21ad;return!![];}if(_0x5be8af['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']){var _0x3f53ee;const _0x9910d=_0x5be8af['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']['\u0066\u0069\u006E\u0064'](d=>{return d['\u0066\u0069\u006C\u0065']&&(d['\u0066\u0069\u006C\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xe21ad)||d['\u0066\u0069\u006C\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xa52b));});_0x3f53ee='\u0068\u0068\u0062\u0064\u0068\u006D';if(_0x9910d){_0x9910d['\u0066\u0069\u006C\u0065']=`data:${_0xe263cf};base64,${_0xa23eec}`;_0x9910d['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=_0xe21ad;return!![];}}}console['\u0077\u0061\u0072\u006E'](`无法匹配文件: ${relativePath}`);return false;}catch(error){console['\u0077\u0061\u0072\u006E'](`处理文件失败: ${relativePath}`,error);return false;}}function extractIndexFromFileName(fileName,prefix){const _0x5d4cd=new RegExp(`${prefix}_(\\d+)\\.`);var _0x5c85da;const _0x96590f=fileName['\u006D\u0061\u0074\u0063\u0068'](_0x5d4cd);_0x5c85da=615266^615265;return _0x96590f?parseInt(_0x96590f[529046^529047],645814^645820)-(836402^836403):null;}function removeAllBase64Data(sitesArray){if(!sitesArray)return;sitesArray['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](site=>{const _0xddb61g=(site['\u006E\u0061\u006D\u0065']||`site_${site['\u0069\u0064']}`)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp("]|><\"?*:/\\\\[".split("").reverse().join(""),'\u0067'),"\u005F");if(site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']){site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068']((repair,index)=>{if(repair['\u0070\u0068\u006F\u0074\u006F']&&repair['\u0070\u0068\u006F\u0074\u006F']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0064\u0061\u0074\u0061\u003A")){const extension=repair['\u0070\u0068\u006F\u0074\u006F']['\u006D\u0061\u0074\u0063\u0068'](new RegExp(";)+w\\(/\\egami:atad^".split("").reverse().join(""),""))?.[184549^184548]||"\u006A\u0070\u0067";repair['\u0070\u0068\u006F\u0074\u006F']=`[PHOTO:${_0xddb61g}/repairs/repair_${index+(606201^606200)}.${extension}]`;repair['\u0068\u0061\u0073\u0050\u0068\u006F\u0074\u006F']=!![];repair['\u0070\u0068\u006F\u0074\u006F\u004D\u0069\u0073\u0073\u0069\u006E\u0067']=false;}});}if(site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']){site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068']((drawing,index)=>{if(drawing['\u0066\u0069\u006C\u0065']&&drawing['\u0066\u0069\u006C\u0065']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0064\u0061\u0074\u0061\u003A")){const _0x971abf=drawing['\u0066\u0069\u006C\u0065']['\u006D\u0061\u0074\u0063\u0068'](new RegExp(";)+];^[(:atad^".split("").reverse().join(""),""));if(_0x971abf){const _0x964b=_0x971abf[887931^887930];var _0x692efa=(365714^365714)+(698003^698004);const extension=getExtensionFromMimeType(_0x964b)||"\u0062\u0069\u006E";_0x692efa=245031^245027;let _0x1ad=drawing['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']||`drawing_${index+(678586^678587)}.${extension}`;_0x1ad=_0x1ad['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u005B\u005C\u005C\u002F\u003A\u002A\u003F\u0022\u003C\u003E\u007C\u005D','\u0067'),"\u005F");drawing['\u0066\u0069\u006C\u0065']=`[FILE:${_0xddb61g}/drawings/${_0x1ad}]`;drawing['\u0068\u0061\u0073\u0046\u0069\u006C\u0065']=!![];drawing['\u0066\u0069\u006C\u0065\u004D\u0069\u0073\u0073\u0069\u006E\u0067']=false;}}});}});}function showSimpleToast(message,type="\u0069\u006E\u0066\u006F"){console['\u006C\u006F\u0067'](`${type}: ${message}`);if(type==="\u0065\u0072\u0072\u006F\u0072"){alert("\u274C\u0020"+message);}else if(type==="\u0077\u0061\u0072\u006E\u0069\u006E\u0067"){alert("\u26A0\uFE0F\u0020"+message);}else if(type==="sseccus".split("").reverse().join("")){alert("\u2705\u0020"+message);}else{alert(message);}}function formatFileSize(bytes,k){if(bytes===(662317^662317))return"\u0030\u0020\u0042\u0079\u0074\u0065\u0073";k=435731^434707;const _0xf0cf5e=["\u0042\u0079\u0074\u0065\u0073","BK".split("").reverse().join(""),"BM".split("").reverse().join(""),"\u0047\u0042"];const i=Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u006C\u006F\u0067'](bytes)/Math['\u006C\u006F\u0067'](k));return parseFloat((bytes/Math['\u0070\u006F\u0077'](k,i))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](454622^454620))+"\u0020"+_0xf0cf5e[i];}function fixMobileUI(){var _0xbcb4g=(434013^434004)+(470628^470637);const _0x52ccb=new RegExp("iniM arepO|eliboMEI|yrreBkcalB|doPi|daPi|enohPi|SObew|diordnA".split("").reverse().join(""),'\u0069')['\u0074\u0065\u0073\u0074'](navigator['\u0075\u0073\u0065\u0072\u0041\u0067\u0065\u006E\u0074']);_0xbcb4g=(760621^760617)+(122383^122376);if(!_0x52ccb)return;console['\u006C\u006F\u0067']("\u68C0\u6D4B\u5230\u79FB\u52A8\u7AEF\uFF0C\u4FEE\u590D\u754C\u9762\u4EA4\u4E92\u002E\u002E\u002E");var _0xeffcbf=(430471^430470)+(196594^196592);const _0x1dd4d=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("\u002E\u006D\u006F\u0064\u0061\u006C\u002D\u0063\u006F\u006E\u0074\u0065\u006E\u0074");_0xeffcbf=(809973^809973)+(427694^427694);if(_0x1dd4d){_0x1dd4d['\u0073\u0074\u0079\u006C\u0065']['\u006D\u0061\u0078\u0048\u0065\u0069\u0067\u0068\u0074']="\u0038\u0030\u0076\u0068";_0x1dd4d['\u0073\u0074\u0079\u006C\u0065']['\u006F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u0059']="\u0061\u0075\u0074\u006F";_0x1dd4d['\u0073\u0074\u0079\u006C\u0065']['\u0057\u0065\u0062\u006B\u0069\u0074\u004F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u0053\u0063\u0072\u006F\u006C\u006C\u0069\u006E\u0067']="\u0074\u006F\u0075\u0063\u0068";}var _0xeede7b=(316211^316210)+(196766^196759);const _0xf2e=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("aeratxet ,tceles ,tupni".split("").reverse().join(""));_0xeede7b='\u0071\u0069\u0064\u0071\u0062\u0067';_0xf2e['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](input=>{input['\u0073\u0074\u0079\u006C\u0065']['\u0066\u006F\u006E\u0074\u0053\u0069\u007A\u0065']="xp61".split("").reverse().join("");input['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0066\u006F\u0063\u0075\u0073",function(){setTimeout(()=>{this['\u0073\u0063\u0072\u006F\u006C\u006C\u0049\u006E\u0074\u006F\u0056\u0069\u0065\u0077']({'\u0062\u0065\u0068\u0061\u0076\u0069\u006F\u0072':'smooth','\u0062\u006C\u006F\u0063\u006B':'center'});},988097^987885);});});var _0x046b2b=(169511^169506)+(379218^379222);const _0x9_0x1fa=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u002E\u0062\u0074\u006E\u002C\u0020\u002E\u0061\u0063\u0074\u0069\u006F\u006E\u002D\u0062\u0074\u006E");_0x046b2b="lacndo".split("").reverse().join("");_0x9_0x1fa['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](btn=>{btn['\u0073\u0074\u0079\u006C\u0065']['\u006D\u0069\u006E\u0048\u0065\u0069\u0067\u0068\u0074']="xp44".split("").reverse().join("");btn['\u0073\u0074\u0079\u006C\u0065']['\u006D\u0069\u006E\u0057\u0069\u0064\u0074\u0068']="\u0034\u0034\u0070\u0078";btn['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0075\u0072\u0073\u006F\u0072']="\u0070\u006F\u0069\u006E\u0074\u0065\u0072";btn['\u0073\u0065\u0074\u0041\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065']("\u0072\u006F\u006C\u0065","nottub".split("").reverse().join(""));btn['\u0073\u0065\u0074\u0041\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065']("\u0061\u0072\u0069\u0061\u002D\u006C\u0061\u0062\u0065\u006C",btn['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']||"\u6309\u94AE");});const _0xde2bg=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u002E\u0064\u0061\u0074\u0061\u002D\u0074\u0061\u0062\u006C\u0065");_0xde2bg['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](table=>{table['\u0073\u0074\u0079\u006C\u0065']['\u0057\u0065\u0062\u006B\u0069\u0074\u004F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u0053\u0063\u0072\u006F\u006C\u006C\u0069\u006E\u0067']="hcuot".split("").reverse().join("");table['\u0073\u0074\u0079\u006C\u0065']['\u006F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u0058']="\u0061\u0075\u0074\u006F";});}function optimizeMobileTables(){const _0x77d=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("elbat-atad.".split("").reverse().join(""));if(_0x77d['\u006C\u0065\u006E\u0067\u0074\u0068']===(646013^646013))return;_0x77d['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](table=>{table['\u0073\u0074\u0079\u006C\u0065']['\u0074\u0061\u0062\u006C\u0065\u004C\u0061\u0079\u006F\u0075\u0074']="dexif".split("").reverse().join("");table['\u0073\u0074\u0079\u006C\u0065']['\u0077\u0069\u0064\u0074\u0068']="\u0031\u0030\u0030\u0025";var _0xfcd8cf=(718663^718660)+(187996^187996);const _0x76c7b=table['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0074\u0068");_0xfcd8cf=(671153^671153)+(433074^433077);_0x76c7b['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](th=>{th['\u0073\u0074\u0079\u006C\u0065']['\u0070\u006F\u0073\u0069\u0074\u0069\u006F\u006E']="\u0073\u0074\u0069\u0063\u006B\u0079";th['\u0073\u0074\u0079\u006C\u0065']['\u0074\u006F\u0070']="\u0030";th['\u0073\u0074\u0079\u006C\u0065']['\u007A\u0049\u006E\u0064\u0065\u0078']="\u0031";th['\u0073\u0074\u0079\u006C\u0065']['\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u0043\u006F\u006C\u006F\u0072']="\u0023\u0066\u0038\u0066\u0039\u0066\u0061";th['\u0073\u0074\u0079\u006C\u0065']['\u0070\u0061\u0064\u0064\u0069\u006E\u0067']="xp6 xp8".split("").reverse().join("");th['\u0073\u0074\u0079\u006C\u0065']['\u0066\u006F\u006E\u0074\u0053\u0069\u007A\u0065']="\u0031\u0032\u0070\u0078";});const _0xd6c=table['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0074\u0064");_0xd6c['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](td=>{td['\u0073\u0074\u0079\u006C\u0065']['\u0070\u0061\u0064\u0064\u0069\u006E\u0067']="\u0038\u0070\u0078\u0020\u0036\u0070\u0078";td['\u0073\u0074\u0079\u006C\u0065']['\u0066\u006F\u006E\u0074\u0053\u0069\u007A\u0065']="xp21".split("").reverse().join("");td['\u0073\u0074\u0079\u006C\u0065']['\u006C\u0069\u006E\u0065\u0048\u0065\u0069\u0067\u0068\u0074']="3.1".split("").reverse().join("");td['\u0073\u0074\u0079\u006C\u0065']['\u0077\u006F\u0072\u0064\u0042\u0072\u0065\u0061\u006B']="\u0062\u0072\u0065\u0061\u006B\u002D\u0077\u006F\u0072\u0064";});});}function setupBackGestureLock(_0xegb22c){var _0x559a7d;_0xegb22c=784401^784401;_0x559a7d=715266^715270;var _0xg3181e=(766497^766498)+(143146^143151);let _0x3e82ec=null;_0xg3181e=(284087^284081)+(393740^393733);history['\u0070\u0075\u0073\u0068\u0053\u0074\u0061\u0074\u0065'](null,null,window['\u006C\u006F\u0063\u0061\u0074\u0069\u006F\u006E']['\u0068\u0072\u0065\u0066']);window['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0070\u006F\u0070\u0073\u0074\u0061\u0074\u0065",function(e){e['\u0070\u0072\u0065\u0076\u0065\u006E\u0074\u0044\u0065\u0066\u0061\u0075\u006C\u0074']();_0xegb22c++;if(_0xegb22c===(310551^310550)){var _0x95c98d;const _0x8ef7d=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0062\u0061\u0063\u006B\u0047\u0065\u0073\u0074\u0075\u0072\u0065\u004C\u006F\u0063\u006B");_0x95c98d='\u0067\u0069\u006F\u0065\u0068\u006D';if(_0x8ef7d){_0x8ef7d['\u0063\u006C\u0061\u0073\u0073\u004C\u0069\u0073\u0074']['\u0061\u0064\u0064']("\u0073\u0068\u006F\u0077");setTimeout(()=>{_0x8ef7d['\u0063\u006C\u0061\u0073\u0073\u004C\u0069\u0073\u0074']['\u0072\u0065\u006D\u006F\u0076\u0065']("\u0073\u0068\u006F\u0077");},822315^821139);}if(_0x3e82ec)clearTimeout(_0x3e82ec);_0x3e82ec=setTimeout(()=>{_0xegb22c=325593^325593;},150082^149930);}else if(_0xegb22c>=(774959^774957)){if(confirm("\uFF1F\u5417\u7EDF\u7CFB\u51FA\u9000\u8981\u5B9A\u786E".split("").reverse().join(""))){if(typeof logout==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){logout();}else{location['\u0072\u0065\u006C\u006F\u0061\u0064']();}}else{_0xegb22c=881926^881926;}}history['\u0070\u0075\u0073\u0068\u0053\u0074\u0061\u0074\u0065'](null,null,window['\u006C\u006F\u0063\u0061\u0074\u0069\u006F\u006E']['\u0068\u0072\u0065\u0066']);});}function validateAndFixData(){try{console['\u006C\u006F\u0067']("\u5F00\u59CB\u9A8C\u8BC1\u548C\u4FEE\u590D\u6570\u636E\u002E\u002E\u002E");if(!Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](window['\u0073\u0069\u0074\u0065\u0073'])){console['\u0077\u0061\u0072\u006E']("\u0073\u0069\u0074\u0065\u0073\u0020\u4E0D\u662F\u6570\u7EC4\uFF0C\u91CD\u7F6E\u4E3A\u7A7A\u6570\u7EC4");window['\u0073\u0069\u0074\u0065\u0073']=[];}if(!Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067'])){console['\u0077\u0061\u0072\u006E']("\u7EC4\u6570\u7A7A\u4E3A\u7F6E\u91CD\uFF0C\u7EC4\u6570\u662F\u4E0D goLegnahc".split("").reverse().join(""));window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=[];}window['\u0073\u0069\u0074\u0065\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068']((site,index)=>{if(!site['\u0069\u0064']){console['\u0077\u0061\u0072\u006E'](`工地 ${index} 缺少id，重新生成`);site['\u0069\u0064']=generateId();}const _0x1b278e=["\u0074\u006F\u0064\u006F\u0073","sesnepxe".split("").reverse().join(""),"stnemeriuqer".split("").reverse().join(""),"sriaper".split("").reverse().join(""),"srekrow".split("").reverse().join(""),"\u0061\u0064\u0064\u0052\u0065\u006D\u006F\u0076\u0065\u0049\u0074\u0065\u006D\u0073","\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073","secneirepxe".split("").reverse().join(""),"sgoLyliad".split("").reverse().join("")];_0x1b278e['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](key=>{if(!Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](site[key])){site[key]=[];}});});console['\u006C\u006F\u0067']("\u6570\u636E\u9A8C\u8BC1\u5B8C\u6210\uFF0C\u5DE5\u5730\u6570\u91CF\u003A",window['\u0073\u0069\u0074\u0065\u0073']['\u006C\u0065\u006E\u0067\u0074\u0068']);return!![];}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u6570\u636E\u9A8C\u8BC1\u5931\u8D25\u003A",error);window['\u0073\u0069\u0074\u0065\u0073']=[];window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=[];return false;}}document['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("dedaoLtnetnoCMOD".split("").reverse().join(""),function(){setTimeout(()=>{if(typeof validateAndFixData==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){validateAndFixData();}},421366^420866);});function clearChangeLog(){if(!isAdmin()){alert("\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u6E05\u7A7A\u66F4\u6539\u65E5\u5FD7\uFF01");return;}if(!confirm("\u786E\u5B9A\u8981\u6E05\u7A7A\u6240\u6709\u66F4\u6539\u65E5\u5FD7\u5417\uFF1F\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D\uFF01")){return;}window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=[];saveData();showChangeLog();alert("\u66F4\u6539\u65E5\u5FD7\u5DF2\u6E05\u7A7A\uFF01");}window['\u0076\u0061\u006C\u0069\u0064\u0061\u0074\u0065\u0041\u006E\u0064\u0046\u0069\u0078\u0044\u0061\u0074\u0061']=validateAndFixData;window['\u0063\u006F\u006D\u0070\u0072\u0065\u0073\u0073\u0049\u006D\u0061\u0067\u0065\u0054\u006F\u0053\u0069\u007A\u0065']=compressImageToSize;window['\u0067\u0065\u0074\u004D\u0069\u006D\u0065\u0054\u0079\u0070\u0065\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=getMimeTypeFromFileName;window['\u0067\u0065\u0074\u0045\u0078\u0074\u0065\u006E\u0073\u0069\u006F\u006E\u0046\u0072\u006F\u006D\u004D\u0069\u006D\u0065\u0054\u0079\u0070\u0065']=getExtensionFromMimeType;window['\u0067\u0065\u0074\u0045\u0078\u0074\u0065\u006E\u0073\u0069\u006F\u006E\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=getExtensionFromFileName;window['\u0067\u0065\u0074\u0044\u0072\u0061\u0077\u0069\u006E\u0067\u0054\u0079\u0070\u0065\u0054\u0065\u0078\u0074']=getDrawingTypeText;window['\u0067\u0065\u0074\u0046\u0069\u006C\u0065\u0049\u0063\u006F\u006E']=getFileIcon;window['\u0063\u0068\u0065\u0063\u006B\u0044\u0061\u0074\u0061\u0053\u0069\u007A\u0065\u0042\u0065\u0066\u006F\u0072\u0065\u0055\u0070\u006C\u006F\u0061\u0064']=checkDataSizeBeforeUpload;window['\u0066\u006F\u0072\u006D\u0061\u0074\u0044\u0061\u0074\u0065']=formatDate;window['\u0063\u006F\u006E\u0076\u0065\u0072\u0074\u0041\u006C\u006C\u0054\u0069\u006D\u0065\u0073\u0054\u006F\u0044\u0061\u0074\u0065']=convertAllTimesToDate;window['\u0072\u0065\u006D\u006F\u0076\u0065\u0041\u006C\u006C\u0042\u0061\u0073\u0065\u0036\u0034\u0044\u0061\u0074\u0061']=removeAllBase64Data;window['\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u004A\u0073\u0043\u006F\u006E\u0074\u0065\u006E\u0074']=loadFromJsContent;window['\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u004A\u0073\u006F\u006E\u0043\u006F\u006E\u0074\u0065\u006E\u0074']=loadFromJsonContent;window['\u0072\u0065\u0073\u0074\u006F\u0072\u0065\u0046\u0069\u006C\u0065\u0073\u0046\u0072\u006F\u006D\u005A\u0069\u0070']=restoreFilesFromZip;window['\u0073\u0068\u006F\u0077\u0053\u0069\u006D\u0070\u006C\u0065\u0054\u006F\u0061\u0073\u0074']=showSimpleToast;window['\u0066\u006F\u0072\u006D\u0061\u0074\u0046\u0069\u006C\u0065\u0053\u0069\u007A\u0065']=formatFileSize;window['\u0066\u0069\u0078\u004D\u006F\u0062\u0069\u006C\u0065\u0055\u0049']=fixMobileUI;window['\u006F\u0070\u0074\u0069\u006D\u0069\u007A\u0065\u004D\u006F\u0062\u0069\u006C\u0065\u0054\u0061\u0062\u006C\u0065\u0073']=optimizeMobileTables;window['\u0073\u0065\u0074\u0075\u0070\u0042\u0061\u0063\u006B\u0047\u0065\u0073\u0074\u0075\u0072\u0065\u004C\u006F\u0063\u006B']=setupBackGestureLock;window['\u0070\u0072\u0065\u0076\u0069\u0065\u0077\u0044\u0072\u0061\u0077\u0069\u006E\u0067']=previewDrawing;window['\u0070\u0072\u0065\u0076\u0069\u0065\u0077\u0052\u0065\u0070\u0061\u0069\u0072\u0050\u0068\u006F\u0074\u006F\u0046\u006F\u0072\u0044\u0072\u0061\u0077\u0069\u006E\u0067']=previewRepairPhotoForDrawing;window['\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=showChangeLog;window['\u0068\u0069\u0064\u0065\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=hideChangeLog;window['\u0061\u0064\u0064\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=addChangeLog;