async function compressImageToSize(source,maxWidth=CLOUD_CONFIG['\u0053\u0049\u005A\u0045\u005F\u004C\u0049\u004D\u0049\u0054\u0053']['\u0049\u004D\u0041\u0047\u0045\u005F\u004D\u0041\u0058\u005F\u0057\u0049\u0044\u0054\u0048']){return new Promise((resolve,reject)=>{if(typeof source==="\u0073\u0074\u0072\u0069\u006E\u0067"&&source['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0064\u0061\u0074\u0061\u003A")){_0xd4d4c(source);return;}if(source instanceof File){var _0xcbe;const _0xd9bb9e=new FileReader();_0xcbe='\u0066\u0068\u006C\u0066\u0067\u0070';_0xd9bb9e['\u006F\u006E\u006C\u006F\u0061\u0064']=function(e){_0xd4d4c(e['\u0074\u0061\u0072\u0067\u0065\u0074']['\u0072\u0065\u0073\u0075\u006C\u0074']);};_0xd9bb9e['\u006F\u006E\u0065\u0072\u0072\u006F\u0072']=reject;_0xd9bb9e['\u0072\u0065\u0061\u0064\u0041\u0073\u0044\u0061\u0074\u0061\u0055\u0052\u004C'](source);return;}function _0xd4d4c(dataUrl){var _0xe24c5a;const _0xd2522g=new Image();_0xe24c5a=817200^817208;_0xd2522g['\u006F\u006E\u006C\u006F\u0061\u0064']=function(){var _0x1cbeee;const _0xbb9d=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("\u0063\u0061\u006E\u0076\u0061\u0073");_0x1cbeee=(858907^858898)+(408073^408073);const _0xb34a6a=_0xbb9d['\u0067\u0065\u0074\u0043\u006F\u006E\u0074\u0065\u0078\u0074']("\u0032\u0064");let _0xb8ae=_0xd2522g['\u0077\u0069\u0064\u0074\u0068'];var _0xa2869a;let _0x16fd=_0xd2522g['\u0068\u0065\u0069\u0067\u0068\u0074'];_0xa2869a=(835367^835365)+(504066^504070);if(_0xb8ae>maxWidth){_0x16fd=Math['\u0072\u006F\u0075\u006E\u0064'](_0x16fd*maxWidth/_0xb8ae);_0xb8ae=maxWidth;}_0xbb9d['\u0077\u0069\u0064\u0074\u0068']=_0xb8ae;_0xbb9d['\u0068\u0065\u0069\u0067\u0068\u0074']=_0x16fd;_0xb34a6a['\u0064\u0072\u0061\u0077\u0049\u006D\u0061\u0067\u0065'](_0xd2522g,858496^858496,467107^467107,_0xb8ae,_0x16fd);var _0xa_0x614;const _0x6gdg=dataUrl['\u0073\u0070\u006C\u0069\u0074']("\u003B")[374324^374324]['\u0073\u0070\u006C\u0069\u0074']("\u003A")[778993^778992]||"\u0069\u006D\u0061\u0067\u0065\u002F\u006A\u0070\u0065\u0067";_0xa_0x614=774558^774550;if(_0x6gdg==="\u0069\u006D\u0061\u0067\u0065\u002F\u006A\u0070\u0065\u0067"||_0x6gdg==="pbew/egami".split("").reverse().join("")){resolve(_0xbb9d['\u0074\u006F\u0044\u0061\u0074\u0061\u0055\u0052\u004C'](_0x6gdg,0.6));}else if(_0x6gdg==="\u0069\u006D\u0061\u0067\u0065\u002F\u0070\u006E\u0067"){resolve(_0xbb9d['\u0074\u006F\u0044\u0061\u0074\u0061\u0055\u0052\u004C']("\u0069\u006D\u0061\u0067\u0065\u002F\u0070\u006E\u0067"));}else{resolve(_0xbb9d['\u0074\u006F\u0044\u0061\u0074\u0061\u0055\u0052\u004C']("gepj/egami".split("").reverse().join(""),0.6));}};_0xd2522g['\u006F\u006E\u0065\u0072\u0072\u006F\u0072']=reject;_0xd2522g['\u0073\u0072\u0063']=dataUrl;}});}function addChangeLog(action,details){if(!currentUser)return;const _0x9556af={'\u0074\u0069\u006D\u0065\u0073\u0074\u0061\u006D\u0070':new Date()['\u0074\u006F\u004C\u006F\u0063\u0061\u006C\u0065\u0053\u0074\u0072\u0069\u006E\u0067']("\u007A\u0068\u002D\u0043\u004E"),'\u0075\u0073\u0065\u0072':currentUser['\u006E\u0061\u006D\u0065'],"action":action,'\u0064\u0065\u0074\u0061\u0069\u006C\u0073':details,'\u0073\u0069\u0074\u0065\u0049\u0064':currentSiteId,'\u0073\u0069\u0074\u0065\u004E\u0061\u006D\u0065':currentSiteId?sites['\u0066\u0069\u006E\u0064'](s=>s['\u0069\u0064']===currentSiteId)?.name:''};changeLog['\u0075\u006E\u0073\u0068\u0069\u0066\u0074'](_0x9556af);if(changeLog['\u006C\u0065\u006E\u0067\u0074\u0068']>(269382^270254)){changeLog=changeLog['\u0073\u006C\u0069\u0063\u0065'](452165^452165,410478^409734);}saveData();}function showChangeLog(){if(!canShowChangeLog()){alert("\uFF01\u5FD7\u65E5\u6539\u66F4\u770B\u67E5\u4EE5\u53EF\u5458\u7406\u7BA1\u6709\u53EA \uFE0F\u26A0".split("").reverse().join(""));return;}document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u006D\u0061\u0069\u006E\u0043\u006F\u006E\u0074\u0065\u006E\u0074")['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="enon".split("").reverse().join("");document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067\u0050\u0061\u0067\u0065")['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="kcolb".split("").reverse().join("");var _0x85f38a=(423339^423340)+(389955^389957);const _0x47741c=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("tsiLgoLegnahc".split("").reverse().join(""));_0x85f38a=747433^747436;_0x47741c['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']='';if(changeLog['\u006C\u0065\u006E\u0067\u0074\u0068']===(319289^319289)){_0x47741c['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=">p/<\u5FD7\u65E5\u6539\u66F4\u65E0\u6682>\"gnidaol\"=ssalc p<".split("").reverse().join("");return;}changeLog['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](log=>{const _0xfa64f=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("\u0064\u0069\u0076");_0xfa64f['\u0063\u006C\u0061\u0073\u0073\u004E\u0061\u006D\u0065']="meti-gol-egnahc".split("").reverse().join("");_0xfa64f['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
            <div class="change-log-header">
                <span>${log['\u0075\u0073\u0065\u0072']} - ${log['\u0061\u0063\u0074\u0069\u006F\u006E']}</span>
                <span class="change-log-time">${log['\u0074\u0069\u006D\u0065\u0073\u0074\u0061\u006D\u0070']}</span>
            </div>
            <div class="change-log-content">
                ${log['\u0064\u0065\u0074\u0061\u0069\u006C\u0073']}
                ${log['\u0073\u0069\u0074\u0065\u004E\u0061\u006D\u0065']?`<br><small>工地：${log['\u0073\u0069\u0074\u0065\u004E\u0061\u006D\u0065']}</small>`:''}
            </div>
        `;_0x47741c['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0xfa64f);});}function hideChangeLog(){document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("tnetnoCniam".split("").reverse().join(""))['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="kcolb".split("").reverse().join("");document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("egaPgoLegnahc".split("").reverse().join(""))['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u006E\u006F\u006E\u0065";}function previewDrawing(event){var _0x0de;const _0x19f33f=event['\u0074\u0061\u0072\u0067\u0065\u0074']['\u0066\u0069\u006C\u0065\u0073'][136101^136101];_0x0de=(931064^931069)+(977242^977246);if(!_0x19f33f)return;var _0xf7463g=(144805^144804)+(659665^659664);const _0x4b3ae=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("weiverPgniward".split("").reverse().join(""));_0xf7463g=769675^769676;if(_0x19f33f['\u0074\u0079\u0070\u0065']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0069\u006D\u0061\u0067\u0065\u002F")){previewRepairPhotoForDrawing(_0x19f33f,_0x4b3ae);}else{var _0xf_0x1f9;const _0x5c_0xd21=new FileReader();_0xf_0x1f9=(747388^747390)+(598749^598748);_0x5c_0xd21['\u006F\u006E\u006C\u006F\u0061\u0064']=function(e,_0xd1c9d,_0xb7dfc){var _0xb9g8bf=(936707^936704)+(460471^460478);const _0x2ac=e['\u0074\u0061\u0072\u0067\u0065\u0074']['\u0072\u0065\u0073\u0075\u006C\u0074'];_0xb9g8bf=(318896^318898)+(597479^597472);_0x4b3ae['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u0044\u0061\u0074\u0061']=_0x2ac;_0x4b3ae['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=_0x19f33f['\u006E\u0061\u006D\u0065'];_0x4b3ae['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0054\u0079\u0070\u0065']=_0x19f33f['\u0074\u0079\u0070\u0065'];_0x4b3ae['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0053\u0069\u007A\u0065']=_0x19f33f['\u0073\u0069\u007A\u0065'];_0xd1c9d="\uD83D\uDCC4";var _0x37f9e;_0xb7dfc="\u6863\u6587".split("").reverse().join("");_0x37f9e=793246^793245;if(_0x19f33f['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("fdp".split("").reverse().join(""))){_0xd1c9d="\uDCD5\uD83D".split("").reverse().join("");_0xb7dfc="\u4EF6\u6587FDP".split("").reverse().join("");}else if(_0x19f33f['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0065\u0078\u0063\u0065\u006C")||_0x19f33f['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0073\u0068\u0065\u0065\u0074")){_0xd1c9d="\uD83D\uDCCA";_0xb7dfc="\u4EF6\u6587lecxE".split("").reverse().join("");}else if(_0x19f33f['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0077\u006F\u0072\u0064")){_0xd1c9d="\uD83D\uDCDD";_0xb7dfc="\u0057\u006F\u0072\u0064\u6587\u4EF6";}else if(_0x19f33f['\u0074\u0079\u0070\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0063\u0073\u0076")){_0xd1c9d="\uD83D\uDCCB";_0xb7dfc="\u0043\u0053\u0056\u6587\u4EF6";}_0x4b3ae['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
                <div style="text-align: center; padding: 10px;">
                    <div style="font-size: 48px; color: #667eea;">${_0xd1c9d}</div>
                    <div style="font-weight: bold; margin: 10px 0;">${_0xb7dfc}</div>
                    <div style="word-break: break-all;">${_0x19f33f['\u006E\u0061\u006D\u0065']}</div>
                    <div style="font-size: 12px; color: #666; margin-top: 5px;">
                        ${(_0x19f33f['\u0073\u0069\u007A\u0065']/(624623^623599))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](816545^816544)} KB
                    </div>
                </div>
            `;};_0x5c_0xd21['\u0072\u0065\u0061\u0064\u0041\u0073\u0044\u0061\u0074\u0061\u0055\u0052\u004C'](_0x19f33f);}}function previewRepairPhotoForDrawing(file,preview){preview['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']="\u003C\u0064\u0069\u0076\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0074\u0065\u0078\u0074\u002D\u0061\u006C\u0069\u0067\u006E\u003A\u0020\u0063\u0065\u006E\u0074\u0065\u0072\u003B\u0020\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0031\u0030\u0070\u0078\u003B\u0020\u0063\u006F\u006C\u006F\u0072\u003A\u0020\u0023\u0036\u0036\u0036\u003B\u0022\u003E\u6B63\u5728\u5904\u7406\u56FE\u7247\u002E\u002E\u002E\u003C\u002F\u0064\u0069\u0076\u003E";if(typeof compressImageToSize==="noitcnuf".split("").reverse().join("")){compressImageToSize(file,267671^267363)['\u0074\u0068\u0065\u006E'](compressedDataUrl=>{preview['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
                    <div style="text-align: center; padding: 10px;">
                        <img src="${compressedDataUrl}" class="image-preview" onclick="viewImage('${compressedDataUrl}')" 
                             style="max-width: 200px; max-height: 150px; border: 1px solid #ddd; border-radius: 5px;">
                        <div style="margin-top: 5px; font-size: 12px; color: #666;">
                            ${file['\u006E\u0061\u006D\u0065']}<br>
                            <small>已压缩</small>
                        </div>
                    </div>
                `;preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u0044\u0061\u0074\u0061']=compressedDataUrl;preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=file['\u006E\u0061\u006D\u0065'];preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0054\u0079\u0070\u0065']=file['\u0074\u0079\u0070\u0065'];preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0053\u0069\u007A\u0065']=file['\u0073\u0069\u007A\u0065'];console['\u006C\u006F\u0067']("\u56FE\u7EB8\u56FE\u7247\u538B\u7F29\u5B8C\u6210\uFF0C\u6570\u636E\u5DF2\u51C6\u5907");})['\u0063\u0061\u0074\u0063\u0068'](error=>{console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u7406\u5904\u7247\u56FE\u7EB8\u56FE".split("").reverse().join(""),error);preview['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']="\u003C\u0064\u0069\u0076\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0063\u006F\u006C\u006F\u0072\u003A\u0020\u0072\u0065\u0064\u003B\u0022\u003E\u56FE\u7247\u5904\u7406\u5931\u8D25\u003C\u002F\u0064\u0069\u0076\u003E";});}else{const _0xd2_0xafc=new FileReader();_0xd2_0xafc['\u006F\u006E\u006C\u006F\u0061\u0064']=function(e){const _0xe8acga=e['\u0074\u0061\u0072\u0067\u0065\u0074']['\u0072\u0065\u0073\u0075\u006C\u0074'];preview['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
                <div style="text-align: center; padding: 10px;">
                    <img src="${_0xe8acga}" class="image-preview" onclick="viewImage('${_0xe8acga}')" 
                         style="max-width: 200px; max-height: 150px; border: 1px solid #ddd; border-radius: 5px;">
                    <div style="margin-top: 5px; font-size: 12px; color: #666;">
                        ${file['\u006E\u0061\u006D\u0065']}<br>
                        <small>原始图片</small>
                    </div>
                </div>
            `;preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u0044\u0061\u0074\u0061']=_0xe8acga;preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=file['\u006E\u0061\u006D\u0065'];preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0054\u0079\u0070\u0065']=file['\u0074\u0079\u0070\u0065'];preview['\u0064\u0061\u0074\u0061\u0073\u0065\u0074']['\u0066\u0069\u006C\u0065\u0053\u0069\u007A\u0065']=file['\u0073\u0069\u007A\u0065'];};_0xd2_0xafc['\u0072\u0065\u0061\u0064\u0041\u0073\u0044\u0061\u0074\u0061\u0055\u0052\u004C'](file);}}function getMimeTypeFromFileName(fileName){var _0x_0xgdc=(381421^381417)+(448569^448573);const _0x9ad=(fileName['\u0073\u0070\u006C\u0069\u0074']("\u002E")['\u0070\u006F\u0070']()||'')['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']();_0x_0xgdc=(223431^223426)+(920836^920844);var _0x26289e=(422333^422332)+(792481^792485);const _0x73439d={'jpg':"\u0069\u006D\u0061\u0067\u0065\u002F\u006A\u0070\u0065\u0067","\u006A\u0070\u0065\u0067":"\u0069\u006D\u0061\u0067\u0065\u002F\u006A\u0070\u0065\u0067","\u0070\u006E\u0067":"\u0069\u006D\u0061\u0067\u0065\u002F\u0070\u006E\u0067",'gif':"\u0069\u006D\u0061\u0067\u0065\u002F\u0067\u0069\u0066",'webp':'image/webp','bmp':"\u0069\u006D\u0061\u0067\u0065\u002F\u0062\u006D\u0070","\u0070\u0064\u0066":'application/pdf','xls':'application/vnd.ms-excel',"\u0078\u006C\u0073\u0078":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u006F\u0070\u0065\u006E\u0078\u006D\u006C\u0066\u006F\u0072\u006D\u0061\u0074\u0073\u002D\u006F\u0066\u0066\u0069\u0063\u0065\u0064\u006F\u0063\u0075\u006D\u0065\u006E\u0074\u002E\u0073\u0070\u0072\u0065\u0061\u0064\u0073\u0068\u0065\u0065\u0074\u006D\u006C\u002E\u0073\u0068\u0065\u0065\u0074","\u0064\u006F\u0063":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006D\u0073\u0077\u006F\u0072\u0064","\u0064\u006F\u0063\u0078":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u006F\u0070\u0065\u006E\u0078\u006D\u006C\u0066\u006F\u0072\u006D\u0061\u0074\u0073\u002D\u006F\u0066\u0066\u0069\u0063\u0065\u0064\u006F\u0063\u0075\u006D\u0065\u006E\u0074\u002E\u0077\u006F\u0072\u0064\u0070\u0072\u006F\u0063\u0065\u0073\u0073\u0069\u006E\u0067\u006D\u006C\u002E\u0064\u006F\u0063\u0075\u006D\u0065\u006E\u0074",'csv':'text/csv','txt':"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E",'json':"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E"};_0x26289e=(163104^163106)+(795945^795944);return _0x73439d[_0x9ad]||"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006F\u0063\u0074\u0065\u0074\u002D\u0073\u0074\u0072\u0065\u0061\u006D";}function getExtensionFromMimeType(mimeType){var _0x693b7b;const _0xgbb8cd={"\u0069\u006D\u0061\u0067\u0065\u002F\u006A\u0070\u0065\u0067":"\u006A\u0070\u0067",'image/png':"\u0070\u006E\u0067","\u0069\u006D\u0061\u0067\u0065\u002F\u0067\u0069\u0066":'gif','image/webp':'webp',"\u0069\u006D\u0061\u0067\u0065\u002F\u0062\u006D\u0070":"\u0062\u006D\u0070","\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0070\u0064\u0066":"\u0070\u0064\u0066","\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u006D\u0073\u002D\u0065\u0078\u0063\u0065\u006C":"\u0078\u006C\u0073","\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u006F\u0070\u0065\u006E\u0078\u006D\u006C\u0066\u006F\u0072\u006D\u0061\u0074\u0073\u002D\u006F\u0066\u0066\u0069\u0063\u0065\u0064\u006F\u0063\u0075\u006D\u0065\u006E\u0074\u002E\u0073\u0070\u0072\u0065\u0061\u0064\u0073\u0068\u0065\u0065\u0074\u006D\u006C\u002E\u0073\u0068\u0065\u0065\u0074":"\u0078\u006C\u0073\u0078","\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006D\u0073\u0077\u006F\u0072\u0064":'doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':"\u0064\u006F\u0063\u0078","\u0074\u0065\u0078\u0074\u002F\u0063\u0073\u0076":"\u0063\u0073\u0076",'text/plain':'txt',"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E":"\u006A\u0073\u006F\u006E"};_0x693b7b=(671842^671841)+(664947^664951);return _0xgbb8cd[mimeType]||"\u0062\u0069\u006E";}function getExtensionFromFileName(fileName){if(!fileName)return null;var _0x3e_0xaed=(729310^729311)+(461577^461582);const _0x4e14dc=fileName['\u0073\u0070\u006C\u0069\u0074']("\u002E");_0x3e_0xaed='\u006E\u0065\u006C\u0067\u0065\u0061';return _0x4e14dc['\u006C\u0065\u006E\u0067\u0074\u0068']>(923719^923718)?_0x4e14dc[_0x4e14dc['\u006C\u0065\u006E\u0067\u0074\u0068']-(791338^791339)]['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']():null;}function getDrawingTypeText(type){const _0x69ff4a={"\u0064\u0065\u0073\u0069\u0067\u006E":"\u8BBE\u8BA1\u56FE\u7EB8",'quote':'报价表',"\u006F\u0074\u0068\u0065\u0072":"\u5176\u4ED6"};return _0x69ff4a[type]||"\u672A\u77E5";}function getFileIcon(fileType){if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0070\u0064\u0066"))return"\uD83D\uDCD5";if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0065\u0078\u0063\u0065\u006C")||fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("teehs".split("").reverse().join("")))return"\uD83D\uDCCA";if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("drow".split("").reverse().join("")))return"\uDCDD\uD83D".split("").reverse().join("");if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0063\u0073\u0076"))return"\uDCCB\uD83D".split("").reverse().join("");if(fileType['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0069\u006D\u0061\u0067\u0065"))return"\uD83D\uDDBC\uFE0F";return"\uD83D\uDCC4";}function checkDataSizeBeforeUpload(){try{const _0x9afd3c={'\u0073\u0069\u0074\u0065\u0073':JSON['\u0070\u0061\u0072\u0073\u0065'](JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](window['\u0073\u0069\u0074\u0065\u0073']||[])),"changeLog":JSON['\u0070\u0061\u0072\u0073\u0065'](JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']||[]))};var _0x1a_0x685;const _0xce345d=JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](_0x9afd3c);_0x1a_0x685=(716865^716873)+(344697^344701);var _0x1b_0x331=(560704^560711)+(736012^736013);const _0x6956a=_0xce345d['\u006C\u0065\u006E\u0067\u0074\u0068'];_0x1b_0x331='\u0070\u006B\u0066\u0064\u0066\u006B';var _0x0113f=(139249^139251)+(600616^600608);let _0xe_0xad0=745355^745355;_0x0113f=(562477^562472)+(622887^622883);let _0xf7549d=471903^471903;(window['\u0073\u0069\u0074\u0065\u0073']||[])['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](site=>{if(site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']){site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](repair=>{if(repair['\u0070\u0068\u006F\u0074\u006F']&&repair['\u0070\u0068\u006F\u0074\u006F']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0064\u0061\u0074\u0061\u003A")){_0xe_0xad0+=repair['\u0070\u0068\u006F\u0074\u006F']['\u006C\u0065\u006E\u0067\u0074\u0068'];_0xf7549d++;}});}if(site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']){site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](drawing=>{if(drawing['\u0066\u0069\u006C\u0065']&&drawing['\u0066\u0069\u006C\u0065']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068'](":atad".split("").reverse().join(""))){_0xe_0xad0+=drawing['\u0066\u0069\u006C\u0065']['\u006C\u0065\u006E\u0067\u0074\u0068'];_0xf7549d++;}});}});const _0xee636c=_0x6956a+_0xe_0xad0;const _0x4f05ea=bytes=>{if(bytes<(891501^892525))return bytes+"B ".split("").reverse().join("");if(bytes<(827459^828483)*(647981^649005))return(bytes/(854270^855294))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](917799^917798)+"\u0020\u004B\u0042";if(bytes<(727663^728687)*(329065^328041)*(524553^525577))return(bytes/((138691^137667)*(960986^962010)))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](826565^826564)+"\u0020\u004D\u0042";return(bytes/((565245^564221)*(491221^490197)*(548934^549958)))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](897245^897244)+"\u0020\u0047\u0042";};return{"canUpload":_0xee636c<CLOUD_CONFIG['\u0053\u0049\u005A\u0045\u005F\u004C\u0049\u004D\u0049\u0054\u0053']['\u0047\u0049\u0053\u0054\u005F\u0053\u0041\u0046\u0045'],'\u0074\u006F\u0074\u0061\u006C\u0053\u0069\u007A\u0065':_0xee636c,'\u0068\u0075\u006D\u0061\u006E\u0053\u0069\u007A\u0065':_0x4f05ea(_0xee636c),"textSize":_0x4f05ea(_0x6956a),'\u0069\u006D\u0061\u0067\u0065\u0053\u0069\u007A\u0065':_0x4f05ea(_0xe_0xad0),'\u0069\u006D\u0061\u0067\u0065\u0043\u006F\u0075\u006E\u0074':_0xf7549d,'\u0077\u0061\u0072\u006E\u0069\u006E\u0067':_0xee636c>(159926^159920)*(329882^330906)*(382350^381326)?"\u6570\u636E\u8F83\u5927\uFF0C\u5EFA\u8BAE\u538B\u7F29\u56FE\u7247":"\u5927\u5C0F\u6B63\u5E38"};}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u5C0F\u5927\u636E\u6570\u67E5\u68C0".split("").reverse().join(""),error);return{'\u0063\u0061\u006E\u0055\u0070\u006C\u006F\u0061\u0064':!![],'\u0068\u0075\u006D\u0061\u006E\u0053\u0069\u007A\u0065':'未知大小','\u0077\u0061\u0072\u006E\u0069\u006E\u0067':"\u65E0\u6CD5\u8BA1\u7B97\u6570\u636E\u5927\u5C0F"};}}function formatDate(dateStr){if(!dateStr)return'';if(dateStr['\u006D\u0061\u0074\u0063\u0068'](new RegExp("$}2{d\\-}2{d\\-}4{d\\^".split("").reverse().join(""),""))){return dateStr;}const _0x2126de=new Date(dateStr);if(isNaN(_0x2126de['\u0067\u0065\u0074\u0054\u0069\u006D\u0065']()))return dateStr;return _0x2126de['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()['\u0073\u0070\u006C\u0069\u0074']("\u0054")[366666^366666];}function convertAllTimesToDate(){if(!window['\u0073\u0069\u0074\u0065\u0073'])return;window['\u0073\u0069\u0074\u0065\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](site=>{const _0xa79g=[{'\u0066\u0069\u0065\u006C\u0064':'todos',"subfield":'time'},{'\u0066\u0069\u0065\u006C\u0064':"\u0065\u0078\u0070\u0065\u006E\u0073\u0065\u0073","subfield":"\u0074\u0069\u006D\u0065"},{"field":'requirements','\u0073\u0075\u0062\u0066\u0069\u0065\u006C\u0064':"\u0074\u0069\u006D\u0065"},{'\u0066\u0069\u0065\u006C\u0064':"\u0072\u0065\u0070\u0061\u0069\u0072\u0073","subfield":"\u0074\u0069\u006D\u0065"},{'\u0066\u0069\u0065\u006C\u0064':"\u0077\u006F\u0072\u006B\u0065\u0072\u0073","subfield":["\u0074\u0069\u006D\u0065","\u0073\u0074\u0061\u0072\u0074\u0054\u0069\u006D\u0065","emiTdne".split("").reverse().join("")]},{"field":'addRemoveItems',"subfield":"\u0074\u0069\u006D\u0065"},{"field":"\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073",'\u0073\u0075\u0062\u0066\u0069\u0065\u006C\u0064':'time'},{'\u0066\u0069\u0065\u006C\u0064':'experiences',"subfield":"\u0074\u0069\u006D\u0065"},{'\u0066\u0069\u0065\u006C\u0064':'dailyLogs','\u0073\u0075\u0062\u0066\u0069\u0065\u006C\u0064':"\u0074\u0069\u006D\u0065"}];_0xa79g['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](({"field":field,"subfield":subfield})=>{if(site[field]&&Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](site[field])){site[field]['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](item=>{if(Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](subfield)){subfield['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](f=>{if(item[f]&&!item[f]['\u006D\u0061\u0074\u0063\u0068'](new RegExp('\u005E\u005C\u0064\u007B\u0034\u007D\u002D\u005C\u0064\u007B\u0032\u007D\u002D\u005C\u0064\u007B\u0032\u007D\u0024',""))){item[f]=formatDate(item[f]);}});}else if(item[subfield]&&!item[subfield]['\u006D\u0061\u0074\u0063\u0068'](new RegExp('\u005E\u005C\u0064\u007B\u0034\u007D\u002D\u005C\u0064\u007B\u0032\u007D\u002D\u005C\u0064\u007B\u0032\u007D\u0024',""))){item[subfield]=formatDate(item[subfield]);}});}});});}async function loadFromJsContent(content){try{var _0x0143d;const _0x9f1d=new Function(content+"\u000A\u0072\u0065\u0074\u0075\u0072\u006E\u0020\u0073\u0061\u0076\u0065\u0064\u0044\u0061\u0074\u0061\u003B");_0x0143d="kdloio".split("").reverse().join("");var _0x2d7f4b;const _0xfac6ce=_0x9f1d();_0x2d7f4b=(833162^833164)+(120270^120268);if(!_0xfac6ce){throw new Error("\u004A\u0053\u0020\u6587\u4EF6\u4E2D\u6CA1\u6709\u627E\u5230\u0020\u0073\u0061\u0076\u0065\u0064\u0044\u0061\u0074\u0061\u0020\u53D8\u91CF");}window['\u0073\u0069\u0074\u0065\u0073']=_0xfac6ce['\u0073\u0069\u0074\u0065\u0073']||[];window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=_0xfac6ce['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']||[];convertAllTimesToDate();return!![];}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u4EF6\u6587 SJ \u6790\u89E3".split("").reverse().join(""),error);throw new Error(" :\u8D25\u5931\u4EF6\u6587 SJ \u6790\u89E3".split("").reverse().join("")+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);}}async function loadFromJsonContent(content,fileName){try{var _0x6g48dd=(771398^771396)+(695116^695114);const _0x0f5b=JSON['\u0070\u0061\u0072\u0073\u0065'](content);_0x6g48dd=466511^466502;window['\u0073\u0069\u0074\u0065\u0073']=_0x0f5b['\u0073\u0069\u0074\u0065\u0073']||[];window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=_0x0f5b['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']||[];convertAllTimesToDate();return!![];}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u89E3\u6790\u0020\u004A\u0053\u004F\u004E\u0020\u6587\u4EF6\u5931\u8D25\u003A",error);throw new Error("\u89E3\u6790\u0020\u004A\u0053\u004F\u004E\u0020\u6587\u4EF6\u5931\u8D25\u003A\u0020"+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);}}async function restoreFilesFromZip(zip,_0x610ec,_0x0c5cc){console['\u006C\u006F\u0067']("...\u4EF6\u6587\u590D\u6062PIZ\u4ECE\u59CB\u5F00".split("").reverse().join(""));_0x610ec=871122^871122;_0x0c5cc=880565^880565;const _0x5c2=zip['\u0066\u0069\u006C\u0065']("\u6587\u4EF6\u4F4D\u7F6E\u4FE1\u606F\u002E\u006A\u0073\u006F\u006E");if(_0x5c2){try{var _0xdfa85e=(286290^286299)+(966543^966536);const _0x471fg=JSON['\u0070\u0061\u0072\u0073\u0065'](await _0x5c2['\u0061\u0073\u0079\u006E\u0063']("\u0074\u0065\u0078\u0074"));_0xdfa85e='\u0068\u006E\u0067\u006D\u0062\u006C';console['\u006C\u006F\u0067']("\u627E\u5230\u4F4D\u7F6E\u4FE1\u606F\u6587\u4EF6\u003A",_0x471fg);for(const _0x45ag of _0x471fg['\u0073\u0069\u0074\u0065\u0073']){var _0xfb_0xa37=(628948^628957)+(256607^256599);const site=window['\u0073\u0069\u0074\u0065\u0073']['\u0066\u0069\u006E\u0064'](s=>{if(s['\u0069\u0064']===_0x45ag['\u0069\u0064'])return!![];const _0x2bbaf=(s['\u006E\u0061\u006D\u0065']||`site_${s['\u0069\u0064']}`)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp("]|><\"?*:/\\\\[".split("").reverse().join(""),'\u0067'),"\u005F");return _0x2bbaf===_0x45ag['\u0066\u006F\u006C\u0064\u0065\u0072'];});_0xfb_0xa37=(738891^738882)+(729584^729585);if(site){for(const _0xa02afd of _0x45ag['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']){var _0x3ff47c=(739016^739008)+(935093^935090);const filePath=`shuju/${_0xa02afd['\u0070\u0061\u0074\u0068']}`;_0x3ff47c=(218429^218426)+(573449^573451);const file=zip['\u0066\u0069\u006C\u0065'](filePath);if(file){try{const base64=await file['\u0061\u0073\u0079\u006E\u0063']("\u0062\u0061\u0073\u0065\u0036\u0034");var _0xgb5c8d=(996373^996375)+(395935^395930);const mimeType=getMimeTypeFromFileName(_0xa02afd['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']);_0xgb5c8d=(561511^561509)+(663524^663520);var _0xg9ee=(622142^622137)+(671469^671464);const _0x5efac=site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']&&site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']['\u0066\u0069\u006E\u0064'](r=>{return r['\u0069\u0064']===_0xa02afd['\u0072\u0065\u0070\u0061\u0069\u0072\u0049\u0064']||r['\u0063\u006F\u006E\u0074\u0065\u006E\u0074']===_0xa02afd['\u0072\u0065\u0070\u0061\u0069\u0072\u0043\u006F\u006E\u0074\u0065\u006E\u0074']||r['\u0070\u0068\u006F\u0074\u006F']&&r['\u0070\u0068\u006F\u0074\u006F']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xa02afd['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']);});_0xg9ee=(206848^206849)+(153739^153743);if(_0x5efac){if(mimeType['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0069\u006D\u0061\u0067\u0065\u002F")){const _0x8gg0b=await compressImageToSize(`data:${mimeType};base64,${base64}`);_0x5efac['\u0070\u0068\u006F\u0074\u006F']=_0x8gg0b;}else{_0x5efac['\u0070\u0068\u006F\u0074\u006F']=`data:${mimeType};base64,${base64}`;}_0x5efac['\u0070\u0068\u006F\u0074\u006F\u004E\u0061\u006D\u0065']=_0xa02afd['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065'];console['\u006C\u006F\u0067'](`恢复维修图片: ${filePath}`);_0x610ec++;}else{console['\u0077\u0061\u0072\u006E'](`未找到对应的维修项: ${_0xa02afd['\u0072\u0065\u0070\u0061\u0069\u0072\u0043\u006F\u006E\u0074\u0065\u006E\u0074']}`);_0x0c5cc++;}}catch(e){console['\u0077\u0061\u0072\u006E'](":\u8D25\u5931\u7247\u56FE\u4FEE\u7EF4\u590D\u6062".split("").reverse().join(""),e);_0x0c5cc++;}}else{console['\u0077\u0061\u0072\u006E'](`ZIP中未找到文件: ${filePath}`);_0x0c5cc++;}}for(const _0xe1548g of _0x45ag['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']){var _0x87a9g;const filePath=`shuju/${_0xe1548g['\u0070\u0061\u0074\u0068']}`;_0x87a9g=(926083^926091)+(678232^678238);const file=zip['\u0066\u0069\u006C\u0065'](filePath);if(file){try{var _0x8174a=(769779^769780)+(222798^222799);const base64=await file['\u0061\u0073\u0079\u006E\u0063']("46esab".split("").reverse().join(""));_0x8174a=(310506^310508)+(167426^167434);const mimeType=getMimeTypeFromFileName(_0xe1548g['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']);const _0xf42fa=site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']&&site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']['\u0066\u0069\u006E\u0064'](d=>{return d['\u0069\u0064']===_0xe1548g['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0049\u0064']||d['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']===_0xe1548g['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u004E\u0061\u006D\u0065']||d['\u0066\u0069\u006C\u0065']&&d['\u0066\u0069\u006C\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xe1548g['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']);});if(_0xf42fa){_0xf42fa['\u0066\u0069\u006C\u0065']=`data:${mimeType};base64,${base64}`;_0xf42fa['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=_0xe1548g['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u004E\u0061\u006D\u0065']||_0xe1548g['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065'];console['\u006C\u006F\u0067'](`恢复图纸文件: ${filePath}`);_0x610ec++;}else{console['\u0077\u0061\u0072\u006E'](`未找到对应的图纸: ${_0xe1548g['\u006F\u0072\u0069\u0067\u0069\u006E\u0061\u006C\u004E\u0061\u006D\u0065']}`);_0x0c5cc++;}}catch(e){console['\u0077\u0061\u0072\u006E']("\u6062\u590D\u56FE\u7EB8\u6587\u4EF6\u5931\u8D25\u003A",e);_0x0c5cc++;}}else{console['\u0077\u0061\u0072\u006E'](`ZIP中未找到文件: ${filePath}`);_0x0c5cc++;}}}else{console['\u0077\u0061\u0072\u006E'](`未找到对应的工地: ${_0x45ag['\u0066\u006F\u006C\u0064\u0065\u0072']}`);}}}catch(error){console['\u0077\u0061\u0072\u006E'](":\u8D25\u5931\u4EF6\u6587\u606F\u4FE1\u7F6E\u4F4D\u6790\u89E3".split("").reverse().join(""),error);}}if(_0x610ec===(823859^823859)){console['\u006C\u006F\u0067']("...\u4EF6\u6587\u590D\u6062\u6784\u7ED3\u5939\u4EF6\u6587\u6309".split("").reverse().join(""));const _0x743e=[];zip['\u0066\u006F\u0072\u0045\u0061\u0063\u0068']((relativePath,zipEntry)=>{if(!zipEntry['\u0064\u0069\u0072']){_0x743e['\u0070\u0075\u0073\u0068'](processZipFile(zipEntry,relativePath));}});const _0x7ef4g=await Promise['\u0061\u006C\u006C\u0053\u0065\u0074\u0074\u006C\u0065\u0064'](_0x743e);_0x7ef4g['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](result=>{if(result['\u0073\u0074\u0061\u0074\u0075\u0073']==="\u0066\u0075\u006C\u0066\u0069\u006C\u006C\u0065\u0064"&&result['\u0076\u0061\u006C\u0075\u0065']){_0x610ec++;}else if(result['\u0073\u0074\u0061\u0074\u0075\u0073']==="\u0072\u0065\u006A\u0065\u0063\u0074\u0065\u0064"){_0x0c5cc++;}});}if(_0x610ec>(652838^652838)){saveData();}console['\u006C\u006F\u0067'](`文件恢复完成: 成功 ${_0x610ec} 个, 失败 ${_0x0c5cc} 个`);if(new RegExp("iniM arepO|eliboMEI|yrreBkcalB|doPi|daPi|enohPi|SObew|diordnA".split("").reverse().join(""),'\u0069')['\u0074\u0065\u0073\u0074'](navigator['\u0075\u0073\u0065\u0072\u0041\u0067\u0065\u006E\u0074'])){setTimeout(()=>{if(currentSiteId){var _0x22aaa=(592618^592611)+(995104^995104);const site=sites['\u0066\u0069\u006E\u0064'](s=>s['\u0069\u0064']===currentSiteId);_0x22aaa=(927802^927803)+(514676^514685);if(site){loadSiteData(site);fixMobileUI();}}},638203^638111);}return{"restoredCount":_0x610ec,"failedCount":_0x0c5cc};}async function processZipFile(zipEntry,relativePath){if(!relativePath['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0073\u0068\u0075\u006A\u0075\u002F")){console['\u0077\u0061\u0072\u006E'](`文件不在shuju文件夹内: ${relativePath}`);return false;}const _0xe939d=relativePath['\u0073\u0075\u0062\u0073\u0074\u0072\u0069\u006E\u0067'](138406^138400);const _0xa49bd=_0xe939d['\u0073\u0070\u006C\u0069\u0074']("\u002F");if(_0xa49bd['\u006C\u0065\u006E\u0067\u0074\u0068']<(311557^311558)){console['\u0077\u0061\u0072\u006E'](`路径层级不足: ${relativePath}`);return false;}var _0x4a8eac=(463914^463914)+(488009^488009);const _0x0fg=_0xa49bd[196318^196318];_0x4a8eac=(707172^707170)+(670398^670394);var _0x9722eg;const _0xef_0xf61=_0xa49bd[608181^608180];_0x9722eg=(857631^857631)+(348955^348953);var _0xc_0xb87=(796672^796681)+(111984^111993);const _0x4b4a=_0xa49bd['\u0073\u006C\u0069\u0063\u0065'](165614^165612)['\u006A\u006F\u0069\u006E']("\u002F");_0xc_0xb87=(604578^604579)+(424277^424277);var _0x2930c=(998828^998829)+(956268^956261);const _0x45f=window['\u0073\u0069\u0074\u0065\u0073']['\u0066\u0069\u006E\u0064'](s=>{var _0x35dac;const _0x3c_0x706=(s['\u006E\u0061\u006D\u0065']||`site_${s['\u0069\u0064']}`)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp("]|><\"?*:/\\\\[".split("").reverse().join(""),'\u0067'),"\u005F");_0x35dac=(993502^993502)+(591543^591539);return _0x3c_0x706===_0x0fg;});_0x2930c=(438172^438171)+(967003^967000);if(!_0x45f){console['\u0077\u0061\u0072\u006E'](`未找到对应工地: ${_0x0fg}`);return false;}try{const _0xb67ff=await zipEntry['\u0061\u0073\u0079\u006E\u0063']("46esab".split("").reverse().join(""));var _0x3d6f1b;const _0x9f7c=getMimeTypeFromFileName(_0x4b4a);_0x3d6f1b=(818592^818593)+(908256^908258);if(_0xef_0xf61==="\u0072\u0065\u0070\u0061\u0069\u0072\u0073"){var _0xcaacfc;const _0xacb1gd=extractIndexFromFileName(_0x4b4a,"riaper".split("").reverse().join(""));_0xcaacfc='\u0065\u0065\u0065\u0068\u006D\u006B';if(_0xacb1gd!==null&&_0x45f['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']&&_0x45f['\u0072\u0065\u0070\u0061\u0069\u0072\u0073'][_0xacb1gd]){if(_0x9f7c['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0069\u006D\u0061\u0067\u0065\u002F")){const compressedDataUrl=await compressImageToSize(`data:${_0x9f7c};base64,${_0xb67ff}`);_0x45f['\u0072\u0065\u0070\u0061\u0069\u0072\u0073'][_0xacb1gd]['\u0070\u0068\u006F\u0074\u006F']=compressedDataUrl;}else{_0x45f['\u0072\u0065\u0070\u0061\u0069\u0072\u0073'][_0xacb1gd]['\u0070\u0068\u006F\u0074\u006F']=`data:${_0x9f7c};base64,${_0xb67ff}`;}_0x45f['\u0072\u0065\u0070\u0061\u0069\u0072\u0073'][_0xacb1gd]['\u0070\u0068\u006F\u0074\u006F\u004E\u0061\u006D\u0065']=_0x4b4a;return!![];}if(_0x45f['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']){const _0x7983bd=_0x45f['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']['\u0066\u0069\u006E\u0064'](r=>{return r['\u0070\u0068\u006F\u0074\u006F']&&(r['\u0070\u0068\u006F\u0074\u006F']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0x4b4a)||r['\u0070\u0068\u006F\u0074\u006F']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0x0fg));});if(_0x7983bd){if(_0x9f7c['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("/egami".split("").reverse().join(""))){var _0x7a_0xca4=(430449^430451)+(799346^799349);const compressedDataUrl=await compressImageToSize(`data:${_0x9f7c};base64,${_0xb67ff}`);_0x7a_0xca4=308387^308385;_0x7983bd['\u0070\u0068\u006F\u0074\u006F']=compressedDataUrl;}else{_0x7983bd['\u0070\u0068\u006F\u0074\u006F']=`data:${_0x9f7c};base64,${_0xb67ff}`;}_0x7983bd['\u0070\u0068\u006F\u0074\u006F\u004E\u0061\u006D\u0065']=_0x4b4a;return!![];}}}else if(_0xef_0xf61==="\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073"){var _0xfgb2e;const _0x40d=extractIndexFromFileName(_0x4b4a,"\u0064\u0072\u0061\u0077\u0069\u006E\u0067");_0xfgb2e=(953789^953788)+(659594^659594);if(_0x40d!==null&&_0x45f['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']&&_0x45f['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073'][_0x40d]){_0x45f['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073'][_0x40d]['\u0066\u0069\u006C\u0065']=`data:${_0x9f7c};base64,${_0xb67ff}`;_0x45f['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073'][_0x40d]['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=_0x4b4a;return!![];}if(_0x45f['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']){const _0x86fe=_0x45f['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']['\u0066\u0069\u006E\u0064'](d=>{return d['\u0066\u0069\u006C\u0065']&&(d['\u0066\u0069\u006C\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0x4b4a)||d['\u0066\u0069\u006C\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0x0fg));});if(_0x86fe){_0x86fe['\u0066\u0069\u006C\u0065']=`data:${_0x9f7c};base64,${_0xb67ff}`;_0x86fe['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=_0x4b4a;return!![];}}}console['\u0077\u0061\u0072\u006E'](`无法匹配文件: ${relativePath}`);return false;}catch(error){console['\u0077\u0061\u0072\u006E'](`处理文件失败: ${relativePath}`,error);return false;}}function extractIndexFromFileName(fileName,prefix){var _0x9c819e=(386457^386463)+(128251^128250);const _0x28a2ec=new RegExp(`${prefix}_(\\d+)\\.`);_0x9c819e=664157^664156;const _0x357a=fileName['\u006D\u0061\u0074\u0063\u0068'](_0x28a2ec);return _0x357a?parseInt(_0x357a[571212^571213],734127^734117)-(567263^567262):null;}function removeAllBase64Data(sitesArray){if(!sitesArray)return;sitesArray['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](site=>{var _0x1ef=(986797^986788)+(725862^725857);const _0x9b40g=(site['\u006E\u0061\u006D\u0065']||`site_${site['\u0069\u0064']}`)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u005B\u005C\u005C\u002F\u003A\u002A\u003F\u0022\u003C\u003E\u007C\u005D','\u0067'),"\u005F");_0x1ef=(985199^985197)+(728768^728772);if(site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']){site['\u0072\u0065\u0070\u0061\u0069\u0072\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068']((repair,index)=>{if(repair['\u0070\u0068\u006F\u0074\u006F']&&repair['\u0070\u0068\u006F\u0074\u006F']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0064\u0061\u0074\u0061\u003A")){var _0x1gfb=(635479^635472)+(639138^639147);const extension=repair['\u0070\u0068\u006F\u0074\u006F']['\u006D\u0061\u0074\u0063\u0068'](new RegExp(";)+w\\(/\\egami:atad^".split("").reverse().join(""),""))?.[471824^471825]||"\u006A\u0070\u0067";_0x1gfb=(495062^495062)+(226463^226455);repair['\u0070\u0068\u006F\u0074\u006F']=`[PHOTO:${_0x9b40g}/repairs/repair_${index+(351104^351105)}.${extension}]`;repair['\u0068\u0061\u0073\u0050\u0068\u006F\u0074\u006F']=!![];repair['\u0070\u0068\u006F\u0074\u006F\u004D\u0069\u0073\u0073\u0069\u006E\u0067']=false;}});}if(site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']){site['\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068']((drawing,index)=>{if(drawing['\u0066\u0069\u006C\u0065']&&drawing['\u0066\u0069\u006C\u0065']['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068'](":atad".split("").reverse().join(""))){var _0x59491b=(108522^108521)+(130773^130775);const _0xfd_0x634=drawing['\u0066\u0069\u006C\u0065']['\u006D\u0061\u0074\u0063\u0068'](new RegExp('\u005E\u0064\u0061\u0074\u0061\u003A\u0028\u005B\u005E\u003B\u005D\u002B\u0029\u003B',""));_0x59491b=689867^689865;if(_0xfd_0x634){const _0xcb9ac=_0xfd_0x634[629401^629400];var _0xd_0x487;const extension=getExtensionFromMimeType(_0xcb9ac)||"nib".split("").reverse().join("");_0xd_0x487=524761^524763;let _0xcb55gd=drawing['\u0066\u0069\u006C\u0065\u004E\u0061\u006D\u0065']||`drawing_${index+(559344^559345)}.${extension}`;_0xcb55gd=_0xcb55gd['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp("]|><\"?*:/\\\\[".split("").reverse().join(""),'\u0067'),"\u005F");drawing['\u0066\u0069\u006C\u0065']=`[FILE:${_0x9b40g}/drawings/${_0xcb55gd}]`;drawing['\u0068\u0061\u0073\u0046\u0069\u006C\u0065']=!![];drawing['\u0066\u0069\u006C\u0065\u004D\u0069\u0073\u0073\u0069\u006E\u0067']=false;}}});}});}function showSimpleToast(message,type="ofni".split("").reverse().join("")){console['\u006C\u006F\u0067'](`${type}: ${message}`);if(type==="\u0065\u0072\u0072\u006F\u0072"){alert(" \u274C".split("").reverse().join("")+message);}else if(type==="\u0077\u0061\u0072\u006E\u0069\u006E\u0067"){alert("\u26A0\uFE0F\u0020"+message);}else if(type==="\u0073\u0075\u0063\u0063\u0065\u0073\u0073"){alert(" \u2705".split("").reverse().join("")+message);}else{alert(message);}}function formatFileSize(bytes,k){if(bytes===(442748^442748))return"\u0030\u0020\u0042\u0079\u0074\u0065\u0073";k=835632^836656;var _0x05eea;const _0x65cf=["\u0042\u0079\u0074\u0065\u0073","\u004B\u0042","\u004D\u0042","\u0047\u0042"];_0x05eea=167537^167542;var _0x849bd=(201095^201103)+(293594^293599);const i=Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u006C\u006F\u0067'](bytes)/Math['\u006C\u006F\u0067'](k));_0x849bd='\u006C\u0068\u0062\u0068\u006C\u006D';return parseFloat((bytes/Math['\u0070\u006F\u0077'](k,i))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](117066^117064))+"\u0020"+_0x65cf[i];}function fixMobileUI(){const _0x5f_0x6dd=new RegExp("iniM arepO|eliboMEI|yrreBkcalB|doPi|daPi|enohPi|SObew|diordnA".split("").reverse().join(""),'\u0069')['\u0074\u0065\u0073\u0074'](navigator['\u0075\u0073\u0065\u0072\u0041\u0067\u0065\u006E\u0074']);if(!_0x5f_0x6dd)return;console['\u006C\u006F\u0067']("...\u4E92\u4EA4\u9762\u754C\u590D\u4FEE\uFF0C\u7AEF\u52A8\u79FB\u5230\u6D4B\u68C0".split("").reverse().join(""));var _0x11970f;const _0x22e0e=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("tnetnoc-ladom.".split("").reverse().join(""));_0x11970f='\u006F\u006B\u006D\u0062\u0070\u0067';if(_0x22e0e){_0x22e0e['\u0073\u0074\u0079\u006C\u0065']['\u006D\u0061\u0078\u0048\u0065\u0069\u0067\u0068\u0074']="\u0038\u0030\u0076\u0068";_0x22e0e['\u0073\u0074\u0079\u006C\u0065']['\u006F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u0059']="otua".split("").reverse().join("");_0x22e0e['\u0073\u0074\u0079\u006C\u0065']['\u0057\u0065\u0062\u006B\u0069\u0074\u004F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u0053\u0063\u0072\u006F\u006C\u006C\u0069\u006E\u0067']="\u0074\u006F\u0075\u0063\u0068";}var _0xebf80b=(656367^656365)+(221529^221529);const _0xagf7a=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0069\u006E\u0070\u0075\u0074\u002C\u0020\u0073\u0065\u006C\u0065\u0063\u0074\u002C\u0020\u0074\u0065\u0078\u0074\u0061\u0072\u0065\u0061");_0xebf80b=(404540^404541)+(596448^596456);_0xagf7a['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](input=>{input['\u0073\u0074\u0079\u006C\u0065']['\u0066\u006F\u006E\u0074\u0053\u0069\u007A\u0065']="\u0031\u0036\u0070\u0078";input['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("sucof".split("").reverse().join(""),function(){setTimeout(()=>{this['\u0073\u0063\u0072\u006F\u006C\u006C\u0049\u006E\u0074\u006F\u0056\u0069\u0065\u0077']({"behavior":"\u0073\u006D\u006F\u006F\u0074\u0068",'\u0062\u006C\u006F\u0063\u006B':"\u0063\u0065\u006E\u0074\u0065\u0072"});},544018^543806);});});var _0x9e_0x24a;const _0xfc78f=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u002E\u0062\u0074\u006E\u002C\u0020\u002E\u0061\u0063\u0074\u0069\u006F\u006E\u002D\u0062\u0074\u006E");_0x9e_0x24a="gnbjhb".split("").reverse().join("");_0xfc78f['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](btn=>{btn['\u0073\u0074\u0079\u006C\u0065']['\u006D\u0069\u006E\u0048\u0065\u0069\u0067\u0068\u0074']="\u0034\u0034\u0070\u0078";btn['\u0073\u0074\u0079\u006C\u0065']['\u006D\u0069\u006E\u0057\u0069\u0064\u0074\u0068']="\u0034\u0034\u0070\u0078";btn['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0075\u0072\u0073\u006F\u0072']="retniop".split("").reverse().join("");btn['\u0073\u0065\u0074\u0041\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065']("elor".split("").reverse().join(""),"\u0062\u0075\u0074\u0074\u006F\u006E");btn['\u0073\u0065\u0074\u0041\u0074\u0074\u0072\u0069\u0062\u0075\u0074\u0065']("lebal-aira".split("").reverse().join(""),btn['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']||"\u94AE\u6309".split("").reverse().join(""));});var _0x15970a;const _0x6e113f=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u002E\u0064\u0061\u0074\u0061\u002D\u0074\u0061\u0062\u006C\u0065");_0x15970a='\u0066\u006F\u0063\u006F\u0065\u0065';_0x6e113f['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](table=>{table['\u0073\u0074\u0079\u006C\u0065']['\u0057\u0065\u0062\u006B\u0069\u0074\u004F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u0053\u0063\u0072\u006F\u006C\u006C\u0069\u006E\u0067']="hcuot".split("").reverse().join("");table['\u0073\u0074\u0079\u006C\u0065']['\u006F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u0058']="otua".split("").reverse().join("");});}function optimizeMobileTables(){var _0xeef9c=(301305^301308)+(879317^879317);const _0xc7ff=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u002E\u0064\u0061\u0074\u0061\u002D\u0074\u0061\u0062\u006C\u0065");_0xeef9c="jnboio".split("").reverse().join("");if(_0xc7ff['\u006C\u0065\u006E\u0067\u0074\u0068']===(730883^730883))return;_0xc7ff['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](table=>{table['\u0073\u0074\u0079\u006C\u0065']['\u0074\u0061\u0062\u006C\u0065\u004C\u0061\u0079\u006F\u0075\u0074']="\u0066\u0069\u0078\u0065\u0064";table['\u0073\u0074\u0079\u006C\u0065']['\u0077\u0069\u0064\u0074\u0068']="\u0031\u0030\u0030\u0025";var _0x2gec;const _0xg26c=table['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0074\u0068");_0x2gec=393044^393047;_0xg26c['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](th=>{th['\u0073\u0074\u0079\u006C\u0065']['\u0070\u006F\u0073\u0069\u0074\u0069\u006F\u006E']="\u0073\u0074\u0069\u0063\u006B\u0079";th['\u0073\u0074\u0079\u006C\u0065']['\u0074\u006F\u0070']="\u0030";th['\u0073\u0074\u0079\u006C\u0065']['\u007A\u0049\u006E\u0064\u0065\u0078']="\u0031";th['\u0073\u0074\u0079\u006C\u0065']['\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u0043\u006F\u006C\u006F\u0072']="af9f8f#".split("").reverse().join("");th['\u0073\u0074\u0079\u006C\u0065']['\u0070\u0061\u0064\u0064\u0069\u006E\u0067']="xp6 xp8".split("").reverse().join("");th['\u0073\u0074\u0079\u006C\u0065']['\u0066\u006F\u006E\u0074\u0053\u0069\u007A\u0065']="\u0031\u0032\u0070\u0078";});var _0x4b9c1c;const _0x10_0xc8e=table['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0074\u0064");_0x4b9c1c=(918550^918551)+(200610^200613);_0x10_0xc8e['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](td=>{td['\u0073\u0074\u0079\u006C\u0065']['\u0070\u0061\u0064\u0064\u0069\u006E\u0067']="xp6 xp8".split("").reverse().join("");td['\u0073\u0074\u0079\u006C\u0065']['\u0066\u006F\u006E\u0074\u0053\u0069\u007A\u0065']="xp21".split("").reverse().join("");td['\u0073\u0074\u0079\u006C\u0065']['\u006C\u0069\u006E\u0065\u0048\u0065\u0069\u0067\u0068\u0074']="\u0031\u002E\u0033";td['\u0073\u0074\u0079\u006C\u0065']['\u0077\u006F\u0072\u0064\u0042\u0072\u0065\u0061\u006B']="\u0062\u0072\u0065\u0061\u006B\u002D\u0077\u006F\u0072\u0064";});});}function setupBackGestureLock(_0xa7321g){var _0x3d_0x2c9;_0xa7321g=766446^766446;_0x3d_0x2c9=574401^574404;let _0xeba42b=null;history['\u0070\u0075\u0073\u0068\u0053\u0074\u0061\u0074\u0065'](null,null,window['\u006C\u006F\u0063\u0061\u0074\u0069\u006F\u006E']['\u0068\u0072\u0065\u0066']);window['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0070\u006F\u0070\u0073\u0074\u0061\u0074\u0065",function(e){e['\u0070\u0072\u0065\u0076\u0065\u006E\u0074\u0044\u0065\u0066\u0061\u0075\u006C\u0074']();_0xa7321g++;if(_0xa7321g===(373303^373302)){const _0x9fc37e=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0062\u0061\u0063\u006B\u0047\u0065\u0073\u0074\u0075\u0072\u0065\u004C\u006F\u0063\u006B");if(_0x9fc37e){_0x9fc37e['\u0063\u006C\u0061\u0073\u0073\u004C\u0069\u0073\u0074']['\u0061\u0064\u0064']("\u0073\u0068\u006F\u0077");setTimeout(()=>{_0x9fc37e['\u0063\u006C\u0061\u0073\u0073\u004C\u0069\u0073\u0074']['\u0072\u0065\u006D\u006F\u0076\u0065']("\u0073\u0068\u006F\u0077");},909644^912116);}if(_0xeba42b)clearTimeout(_0xeba42b);_0xeba42b=setTimeout(()=>{_0xa7321g=398252^398252;},495069^495157);}else if(_0xa7321g>=(678612^678614)){if(confirm("\uFF1F\u5417\u7EDF\u7CFB\u51FA\u9000\u8981\u5B9A\u786E".split("").reverse().join(""))){if(typeof logout==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){logout();}else{location['\u0072\u0065\u006C\u006F\u0061\u0064']();}}else{_0xa7321g=235614^235614;}}history['\u0070\u0075\u0073\u0068\u0053\u0074\u0061\u0074\u0065'](null,null,window['\u006C\u006F\u0063\u0061\u0074\u0069\u006F\u006E']['\u0068\u0072\u0065\u0066']);});}function validateAndFixData(){try{console['\u006C\u006F\u0067']("...\u636E\u6570\u590D\u4FEE\u548C\u8BC1\u9A8C\u59CB\u5F00".split("").reverse().join(""));if(!Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](window['\u0073\u0069\u0074\u0065\u0073'])){console['\u0077\u0061\u0072\u006E']("\u0073\u0069\u0074\u0065\u0073\u0020\u4E0D\u662F\u6570\u7EC4\uFF0C\u91CD\u7F6E\u4E3A\u7A7A\u6570\u7EC4");window['\u0073\u0069\u0074\u0065\u0073']=[];}if(!Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067'])){console['\u0077\u0061\u0072\u006E']("\u7EC4\u6570\u7A7A\u4E3A\u7F6E\u91CD\uFF0C\u7EC4\u6570\u662F\u4E0D goLegnahc".split("").reverse().join(""));window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=[];}window['\u0073\u0069\u0074\u0065\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068']((site,index)=>{if(!site['\u0069\u0064']){console['\u0077\u0061\u0072\u006E'](`工地 ${index} 缺少id，重新生成`);site['\u0069\u0064']=generateId();}const _0xe51b=["\u0074\u006F\u0064\u006F\u0073","sesnepxe".split("").reverse().join(""),"stnemeriuqer".split("").reverse().join(""),"\u0072\u0065\u0070\u0061\u0069\u0072\u0073","srekrow".split("").reverse().join(""),"smetIevomeRdda".split("").reverse().join(""),"\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0073","secneirepxe".split("").reverse().join(""),"sgoLyliad".split("").reverse().join("")];_0xe51b['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](key=>{if(!Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](site[key])){site[key]=[];}});});console['\u006C\u006F\u0067'](":\u91CF\u6570\u5730\u5DE5\uFF0C\u6210\u5B8C\u8BC1\u9A8C\u636E\u6570".split("").reverse().join(""),window['\u0073\u0069\u0074\u0065\u0073']['\u006C\u0065\u006E\u0067\u0074\u0068']);return!![];}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u6570\u636E\u9A8C\u8BC1\u5931\u8D25\u003A",error);window['\u0073\u0069\u0074\u0065\u0073']=[];window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=[];return false;}}document['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0044\u004F\u004D\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u004C\u006F\u0061\u0064\u0065\u0064",function(){setTimeout(()=>{if(typeof validateAndFixData==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){validateAndFixData();}},696971^697215);});function clearChangeLog(){if(!isAdmin()){alert("\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u6E05\u7A7A\u66F4\u6539\u65E5\u5FD7\uFF01");return;}if(!confirm("\u786E\u5B9A\u8981\u6E05\u7A7A\u6240\u6709\u66F4\u6539\u65E5\u5FD7\u5417\uFF1F\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D\uFF01")){return;}window['\u0063\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=[];saveData();showChangeLog();alert("\u66F4\u6539\u65E5\u5FD7\u5DF2\u6E05\u7A7A\uFF01");}window['\u0076\u0061\u006C\u0069\u0064\u0061\u0074\u0065\u0041\u006E\u0064\u0046\u0069\u0078\u0044\u0061\u0074\u0061']=validateAndFixData;window['\u0063\u006F\u006D\u0070\u0072\u0065\u0073\u0073\u0049\u006D\u0061\u0067\u0065\u0054\u006F\u0053\u0069\u007A\u0065']=compressImageToSize;window['\u0067\u0065\u0074\u004D\u0069\u006D\u0065\u0054\u0079\u0070\u0065\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=getMimeTypeFromFileName;window['\u0067\u0065\u0074\u0045\u0078\u0074\u0065\u006E\u0073\u0069\u006F\u006E\u0046\u0072\u006F\u006D\u004D\u0069\u006D\u0065\u0054\u0079\u0070\u0065']=getExtensionFromMimeType;window['\u0067\u0065\u0074\u0045\u0078\u0074\u0065\u006E\u0073\u0069\u006F\u006E\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065\u004E\u0061\u006D\u0065']=getExtensionFromFileName;window['\u0067\u0065\u0074\u0044\u0072\u0061\u0077\u0069\u006E\u0067\u0054\u0079\u0070\u0065\u0054\u0065\u0078\u0074']=getDrawingTypeText;window['\u0067\u0065\u0074\u0046\u0069\u006C\u0065\u0049\u0063\u006F\u006E']=getFileIcon;window['\u0063\u0068\u0065\u0063\u006B\u0044\u0061\u0074\u0061\u0053\u0069\u007A\u0065\u0042\u0065\u0066\u006F\u0072\u0065\u0055\u0070\u006C\u006F\u0061\u0064']=checkDataSizeBeforeUpload;window['\u0066\u006F\u0072\u006D\u0061\u0074\u0044\u0061\u0074\u0065']=formatDate;window['\u0063\u006F\u006E\u0076\u0065\u0072\u0074\u0041\u006C\u006C\u0054\u0069\u006D\u0065\u0073\u0054\u006F\u0044\u0061\u0074\u0065']=convertAllTimesToDate;window['\u0072\u0065\u006D\u006F\u0076\u0065\u0041\u006C\u006C\u0042\u0061\u0073\u0065\u0036\u0034\u0044\u0061\u0074\u0061']=removeAllBase64Data;window['\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u004A\u0073\u0043\u006F\u006E\u0074\u0065\u006E\u0074']=loadFromJsContent;window['\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u004A\u0073\u006F\u006E\u0043\u006F\u006E\u0074\u0065\u006E\u0074']=loadFromJsonContent;window['\u0072\u0065\u0073\u0074\u006F\u0072\u0065\u0046\u0069\u006C\u0065\u0073\u0046\u0072\u006F\u006D\u005A\u0069\u0070']=restoreFilesFromZip;window['\u0073\u0068\u006F\u0077\u0053\u0069\u006D\u0070\u006C\u0065\u0054\u006F\u0061\u0073\u0074']=showSimpleToast;window['\u0066\u006F\u0072\u006D\u0061\u0074\u0046\u0069\u006C\u0065\u0053\u0069\u007A\u0065']=formatFileSize;window['\u0066\u0069\u0078\u004D\u006F\u0062\u0069\u006C\u0065\u0055\u0049']=fixMobileUI;window['\u006F\u0070\u0074\u0069\u006D\u0069\u007A\u0065\u004D\u006F\u0062\u0069\u006C\u0065\u0054\u0061\u0062\u006C\u0065\u0073']=optimizeMobileTables;window['\u0073\u0065\u0074\u0075\u0070\u0042\u0061\u0063\u006B\u0047\u0065\u0073\u0074\u0075\u0072\u0065\u004C\u006F\u0063\u006B']=setupBackGestureLock;window['\u0070\u0072\u0065\u0076\u0069\u0065\u0077\u0044\u0072\u0061\u0077\u0069\u006E\u0067']=previewDrawing;window['\u0070\u0072\u0065\u0076\u0069\u0065\u0077\u0052\u0065\u0070\u0061\u0069\u0072\u0050\u0068\u006F\u0074\u006F\u0046\u006F\u0072\u0044\u0072\u0061\u0077\u0069\u006E\u0067']=previewRepairPhotoForDrawing;window['\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=showChangeLog;window['\u0068\u0069\u0064\u0065\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=hideChangeLog;window['\u0061\u0064\u0064\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=addChangeLog;