if(typeof window['\u0041\u0044\u004D\u0049\u004E\u005F\u0055\u0053\u0045\u0052\u0053']==="\u0075\u006E\u0064\u0065\u0066\u0069\u006E\u0065\u0064"){window['\u0041\u0044\u004D\u0049\u004E\u005F\u0055\u0053\u0045\u0052\u0053']=["\u0061\u0064\u006D\u0069\u006E","\u0071\u0069\u0079\u0075"];}var _0x5de=(117828^117831)+(884035^884034);const localAdminUser={"\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065":"qiyu","password":"8418","name":"\u7CFB\u7EDF\u7BA1\u7406\u5458","isLocal":!![],"\u0069\u0073\u0041\u0064\u006D\u0069\u006E":!![]};_0x5de=(265301^265298)+(534291^534299);if(typeof window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']==="\u0075\u006E\u0064\u0065\u0066\u0069\u006E\u0065\u0064"){window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']=[];}if(typeof window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']==="\u0075\u006E\u0064\u0065\u0066\u0069\u006E\u0065\u0064"){window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']={'\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{},'\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073':[]};}if(typeof window['\u0063\u0075\u0072\u0072\u0065\u006E\u0074\u0055\u0073\u0065\u0072']==="\u0075\u006E\u0064\u0065\u0066\u0069\u006E\u0065\u0064"){window['\u0063\u0075\u0072\u0072\u0065\u006E\u0074\u0055\u0073\u0065\u0072']=null;}var _0x488ce;const localBuiltInUsers=[{"\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065":"\u0031","\u0070\u0061\u0073\u0073\u0077\u006F\u0072\u0064":"1234","\u006E\u0061\u006D\u0065":"\u6D4B\u8BD5","isLocal":!![],"isAdmin":false},localAdminUser];_0x488ce=627751^627751;window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']=[...localBuiltInUsers];window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']["\u0031"]={'\u006E\u0061\u006D\u0065':"\u6D4B\u8BD5","description":"\u9ED8\u8BA4\u6743\u9650","permissions":{'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073':!![],'\u0061\u0064\u0064\u0053\u0069\u0074\u0065':!![],'\u0063\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063':!![],'\u0065\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065':!![],'\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073':!![],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073':[],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073':[]}};window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']['\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073']=[{"id":"\u0070\u0072\u006F\u0067\u0072\u0065\u0073\u0073\u0054\u0061\u0062","name":"进度"},{"id":"todoTab",'\u006E\u0061\u006D\u0065':"\u5F85\u529E"},{"id":"expenseTab",'\u006E\u0061\u006D\u0065':"\u652F\u51FA"},{"id":"\u0072\u0065\u0071\u0075\u0069\u0072\u0065\u006D\u0065\u006E\u0074\u0054\u0061\u0062",'\u006E\u0061\u006D\u0065':"\u5BA2\u6237\u8981\u6C42"},{'\u0069\u0064':"dailyLogTab","name":"日常记录"},{'\u0069\u0064':"\u0072\u0065\u0070\u0061\u0069\u0072\u0054\u0061\u0062",'\u006E\u0061\u006D\u0065':"\u5F85\u7EF4\u4FEE"},{'\u0069\u0064':"workerTab",'\u006E\u0061\u006D\u0065':"工人"},{'\u0069\u0064':"\u0071\u0075\u006F\u0074\u0065\u0054\u0061\u0062",'\u006E\u0061\u006D\u0065':"\u62A5\u4EF7"},{'\u0069\u0064':"addRemoveTab",'\u006E\u0061\u006D\u0065':"\u589E\u51CF\u9879"},{"id":"\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0054\u0061\u0062","name":"图纸"},{"id":"experienceTab","name":"\u7ECF\u9A8C\u603B\u7ED3"}];function getTemplateByType(templateType){const _0x4e_0xb86={"\u0061\u0064\u006D\u0069\u006E":{"name":"\u8D85\u7EA7\u7BA1\u7406\u5458","description":'拥有所有权限','\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073':!![],"addSite":!![],'\u0063\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063':!![],'\u0062\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065':!![],'\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065':!![],'\u0065\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065':!![],'\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073':!![],'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073':!![],'\u0064\u0065\u006C\u0065\u0074\u0065\u0053\u0069\u0074\u0065':!![],"deleteItems":!![],'\u0065\u0064\u0069\u0074\u0041\u006C\u006C':!![],'\u0065\u0078\u0070\u006F\u0072\u0074\u0044\u0061\u0074\u0061':!![],"importData":!![],'\u0076\u0069\u0065\u0077\u004C\u006F\u0067\u0073':!![],'\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067':!![],'\u0073\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072':!![],'\u0072\u0065\u0066\u0072\u0065\u0073\u0068\u0043\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0073':!![],'\u0069\u0073\u0041\u0064\u006D\u0069\u006E':!![],"allowedSites":[],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073':[]}},"\u0075\u0073\u0065\u0072":{'\u006E\u0061\u006D\u0065':'普通-用户','\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':"\u666E\u901A\u7528\u6237\u6743\u9650",'\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{"addSite":!![],'\u0063\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063':!![],'\u0062\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065':!![],'\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065':!![],'\u0065\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065':false,'\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073':!![],"deleteSite":false,"viewAllSites":false,"viewAllTabs":false,'\u0064\u0065\u006C\u0065\u0074\u0065\u0049\u0074\u0065\u006D\u0073':false,"editAll":false,'\u0065\u0078\u0070\u006F\u0072\u0074\u0044\u0061\u0074\u0061':false,"importData":false,'\u0076\u0069\u0065\u0077\u004C\u006F\u0067\u0073':false,'\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067':false,"showPermissionManager":false,"refreshCloudUsers":false,'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073':["\u0073\u0069\u0074\u0065\u0030\u0030\u0031"],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073':["\u0072\u0065\u0070\u0061\u0069\u0072\u0054\u0061\u0062","\u0072\u0065\u0071\u0075\u0069\u0072\u0065\u006D\u0065\u006E\u0074\u0054\u0061\u0062","\u0074\u006F\u0064\u006F\u0054\u0061\u0062","\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0054\u0061\u0062","\u0064\u0061\u0069\u006C\u0079\u004C\u006F\u0067\u0054\u0061\u0062"]}},"\u0063\u0075\u0073\u0074\u006F\u006D\u0065\u0072":{'\u006E\u0061\u006D\u0065':'客户','\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':'客户权限（只能查看指定内容）','\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{"viewAllSites":false,'\u0061\u0064\u0064\u0053\u0069\u0074\u0065':false,'\u0063\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063':false,'\u0062\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065':false,'\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065':false,'\u0065\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065':false,"addItems":false,'\u0064\u0065\u006C\u0065\u0074\u0065\u0053\u0069\u0074\u0065':false,'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073':false,"deleteItems":false,"editAll":false,'\u0065\u0078\u0070\u006F\u0072\u0074\u0044\u0061\u0074\u0061':false,'\u0069\u006D\u0070\u006F\u0072\u0074\u0044\u0061\u0074\u0061':false,'\u0076\u0069\u0065\u0077\u004C\u006F\u0067\u0073':false,'\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067':false,"showPermissionManager":false,'\u0072\u0065\u0066\u0072\u0065\u0073\u0068\u0043\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0073':false,'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073':[],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073':["\u0072\u0065\u0070\u0061\u0069\u0072\u0054\u0061\u0062","baTtnemeriuqer".split("").reverse().join(""),"\u0074\u006F\u0064\u006F\u0054\u0061\u0062"]}}};return _0x4e_0xb86[templateType]||_0x4e_0xb86['user'];}function hasPermission(permissionName){if(!currentUser){return false;}if(isAdmin()){return!![];}const _0x3c2=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];if(!_0x3c2){return false;}return _0x3c2['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][permissionName]||false;}function isAdmin(){if(!currentUser)return false;if(currentUser['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']===!![]){return!![];}if(window['\u0041\u0044\u004D\u0049\u004E\u005F\u0055\u0053\u0045\u0052\u0053']&&window['\u0041\u0044\u004D\u0049\u004E\u005F\u0055\u0053\u0045\u0052\u0053']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065'])){return!![];}const _0xcg45ef=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];if(_0xcg45ef&&_0xcg45ef['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']&&_0xcg45ef['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']===!![]){return!![];}return false;}function canViewSite(siteId){if(!currentUser)return false;if(hasPermission("setiSllAweiv".split("").reverse().join(""))){return!![];}const _0x1d2aba=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];if(!_0x1d2aba)return false;return _0x1d2aba['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073']?.includes(siteId)||false;}function canViewTab(tabId){if(!currentUser)return false;if(isAdmin()){return!![];}const _0x_0x852=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];if(_0x_0x852&&_0x_0x852['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073']===!![]){return!![];}return _0x_0x852?.permissions?.allowedTabs?.includes(tabId)||false;}function canAddSite(){return hasPermission("\u0061\u0064\u0064\u0053\u0069\u0074\u0065");}function canCloudSync(){return hasPermission("cnySduolc".split("").reverse().join(""));}function canBackupToFile(){return hasPermission("eliFoTpukcab".split("").reverse().join(""));}function canLoadFromFile(){return hasPermission("\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065");}function canEditQuote(){return hasPermission("etouQtide".split("").reverse().join(""));}function canAdd(){return hasPermission("\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073");}function canDelete(){return hasPermission("\u0064\u0065\u006C\u0065\u0074\u0065\u0049\u0074\u0065\u006D\u0073");}function canDeleteSite(){return hasPermission("etiSeteled".split("").reverse().join(""));}function canShowPermissionManager(){return hasPermission("\u0073\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072");}function canShowChangeLog(){return hasPermission("\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067");}function getAllowedTabs(){console['\u006C\u006F\u0067']("=== \u884C\u6267 sbaTdewollAteg ===".split("").reverse().join(""));console['\u006C\u006F\u0067'](":\u6237\u7528\u524D\u5F53".split("").reverse().join(""));if(!currentUser){console['\u006C\u006F\u0067']("\u7EC4\u6570\u7A7A\u56DE\u8FD4\uFF0C\u6237\u7528\u524D\u5F53\u6709\u6CA1".split("").reverse().join(""));return[];}if(hasPermission("sbaTllAweiv".split("").reverse().join(""))){console['\u006C\u006F\u0067']("\u7B7E\u6807\u7528\u53EF\u6709\u6240\u56DE\u8FD4\uFF0C\u9650\u6743 sbaTllAweiv \u6709\u62E5".split("").reverse().join(""));return PERMISSION_CONFIG['\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073'];}var _0x7362cd=(186059^186050)+(559988^559989);const _0x96d=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];_0x7362cd=(894261^894269)+(123443^123451);console['\u006C\u006F\u0067']("\u7528\u6237\u6743\u9650\u914D\u7F6E\u003A",_0x96d);if(!_0x96d||!_0x96d['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']){console['\u006C\u006F\u0067']("\u7EC4\u6570\u7A7A\u56DE\u8FD4\uFF0CsbaTdewolla \u6216\u7F6E\u914D\u9650\u6743\u6237\u7528\u6709\u6CA1".split("").reverse().join(""));return[];}console['\u006C\u006F\u0067'](":\u7B7E\u6807\u7684\u8BB8\u5141\u6237\u7528".split("").reverse().join(""),_0x96d['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']);const _0xbcgc7b=PERMISSION_CONFIG['\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073']['\u0066\u0069\u006C\u0074\u0065\u0072'](tab=>_0x96d['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](tab['\u0069\u0064']));console['\u006C\u006F\u0067'](":\u7B7E\u6807\u7684\u540E\u6EE4\u8FC7".split("").reverse().join(""),_0xbcgc7b);return _0xbcgc7b;}function loadPermissionConfig(){try{const _0xf0518d=localStorage['\u0067\u0065\u0074\u0049\u0074\u0065\u006D']("\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u005F\u0063\u006F\u006E\u0066\u0069\u0067");if(_0xf0518d){const _0x52ge=JSON['\u0070\u0061\u0072\u0073\u0065'](_0xf0518d);PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']=_0x52ge['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']||{};}}catch(e){console['\u0077\u0061\u0072\u006E']("\u52A0\u8F7D\u6743\u9650\u914D\u7F6E\u5931\u8D25\u003A",e);}}function savePermissionConfig(){try{localStorage['\u0073\u0065\u0074\u0049\u0074\u0065\u006D']("gifnoc_noissimrep".split("").reverse().join(""),JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({"userPermissions":PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'],'\u006C\u0061\u0073\u0074\u004D\u006F\u0064\u0069\u0066\u0069\u0065\u0064':new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()}));}catch(e){console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u7F6E\u914D\u9650\u6743\u5B58\u4FDD".split("").reverse().join(""),e);}}function initPermissionSystem(){loadPermissionConfig();setTimeout(async()=>{try{if(typeof window['\u006C\u006F\u0061\u0064\u0043\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0044\u0061\u0074\u0061']==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){var _0x9570e;const _0x42287c=await window['\u006C\u006F\u0061\u0064\u0043\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0044\u0061\u0074\u0061']();_0x9570e=(496628^496624)+(396467^396464);if(_0x42287c){console['\u006C\u006F\u0067']("\u4E91\u7AEF\u8D26\u6237\u6570\u636E\u5DF2\u52A0\u8F7D");var _0x3ddga=(888349^888340)+(981839^981833);const _0x196dc=window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']['\u0066\u0069\u006C\u0074\u0065\u0072'](u=>!u['\u0069\u0073\u004C\u006F\u0063\u0061\u006C']);_0x3ddga='\u0065\u0066\u006B\u006B\u0064\u006C';localStorage['\u0073\u0065\u0074\u0049\u0074\u0065\u006D']("\u0063\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0044\u0061\u0074\u0061",JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({"builtInUsers":_0x196dc,"PERMISSION_CONFIG":window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047'],"timestamp":new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()}));}}}catch(e){console['\u0077\u0061\u0072\u006E']("\u5F02\u6B65\u52A0\u8F7D\u4E91\u7AEF\u6570\u636E\u5931\u8D25\u003A",e);}},776650^774770);}function showPermissionManager(){if(!isAdmin()){alert("\uFF01\u9650\u6743\u7406\u7BA1\u4EE5\u53EF\u5458\u7406\u7BA1\u6709\u53EA".split("").reverse().join(""));return;}var _0xee9a;const _0xg8f=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("\u0064\u0069\u0076");_0xee9a='\u0065\u0064\u0062\u0068\u0064\u0069';_0xg8f['\u0063\u006C\u0061\u0073\u0073\u004E\u0061\u006D\u0065']="\u006D\u006F\u0064\u0061\u006C";_0xg8f['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0073\u0073\u0054\u0065\u0078\u0074']=`
        display: flex;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        justify-content: center;
        align-items: center;
    `;_0xg8f['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
    <div class="modal-content" style="width: 900px; max-height: 90vh; overflow-y: auto; font-size: 12px;">
        <div class="modal-header">
            <h3 style="font-size: 16px; margin: 0;">用户权限管理</h3>
            <button class="close-btn" onclick="this.closest('.modal').remove()" style="font-size: 20px; padding: 0 5px;" name="closePermissionManagerBtn">&times;</button>
        </div>
        <div style="padding: 15px;">
            <div style="margin-bottom: 15px;">
                <h4 style="font-size: 14px; margin: 0 0 10px 0;">权限配置操作</h4>
                <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                    <button class="btn btn-success" id="addUserBtn" style="padding: 5px 10px; font-size: 14px; flex: 1;" name="addUserBtn">添加用户</button>
                    <button class="btn btn-primary" id="saveToCloudBtn" style="padding: 5px 10px; font-size: 14px; flex: 1;" name="saveToCloudBtn">保存并上传到云端</button>
                </div>
            </div>
            
            <div id="permissionUserList" style="margin-bottom: 15px;">
                <!-- 用户列表会动态生成 -->
            </div>
            
            <div style="text-align: right;">
                <button class="btn btn-secondary" id="closePermissionManager" style="padding: 5px 10px; font-size: 12px;" name="closePermissionManager">关闭</button>
            </div>
        </div>
    </div>`;document['\u0062\u006F\u0064\u0079']['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0xg8f);renderPermissionUserList();document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0073\u0061\u0076\u0065\u0054\u006F\u0043\u006C\u006F\u0075\u0064\u0042\u0074\u006E")['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0063\u006C\u0069\u0063\u006B",exportPermissionConfig);document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("ntBresUdda".split("").reverse().join(""))['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0063\u006C\u0069\u0063\u006B",showAddUserModal);document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("reganaMnoissimrePesolc".split("").reverse().join(""))['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0063\u006C\u0069\u0063\u006B",()=>{_0xg8f['\u0072\u0065\u006D\u006F\u0076\u0065']();});}function renderPermissionUserList(_0x84176a){const _0x8856f=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("tsiLresUnoissimrep".split("").reverse().join(""));if(!_0x8856f)return;_0x84176a=">4h/<\u7F6E\u914D\u9650\u6743\u6237\u7528>\";0 xp01 0 0 :nigram ;xp41 :ezis-tnof\"=elyts 4h<".split("").reverse().join("");_0x84176a+="\u003C\u0064\u0069\u0076\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u006F\u0076\u0065\u0072\u0066\u006C\u006F\u0077\u002D\u0078\u003A\u0020\u0061\u0075\u0074\u006F\u003B\u0022\u003E";_0x84176a+="\u003C\u0074\u0061\u0062\u006C\u0065\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0077\u0069\u0064\u0074\u0068\u003A\u0020\u0031\u0030\u0030\u0025\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u002D\u0063\u006F\u006C\u006C\u0061\u0070\u0073\u0065\u003A\u0020\u0063\u006F\u006C\u006C\u0061\u0070\u0073\u0065\u003B\u0020\u0066\u006F\u006E\u0074\u002D\u0073\u0069\u007A\u0065\u003A\u0020\u0031\u0031\u0070\u0078\u003B\u0022\u003E";_0x84176a+="\u003C\u0074\u0068\u0065\u0061\u0064\u003E\u003C\u0074\u0072\u003E";_0x84176a+=">ht/<\u540D\u6237\u7528>\";5f5f5f# :dnuorgkcab ;ddd# dilos xp1 :redrob ;xp6 :gniddap\"=elyts ht<".split("").reverse().join("");_0x84176a+="\u003C\u0074\u0068\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0036\u0070\u0078\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u003A\u0020\u0031\u0070\u0078\u0020\u0073\u006F\u006C\u0069\u0064\u0020\u0023\u0064\u0064\u0064\u003B\u0020\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u003A\u0020\u0023\u0066\u0035\u0066\u0035\u0066\u0035\u003B\u0022\u003E\u59D3\u540D\u003C\u002F\u0074\u0068\u003E";_0x84176a+="\u003C\u0074\u0068\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0036\u0070\u0078\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u003A\u0020\u0031\u0070\u0078\u0020\u0073\u006F\u006C\u0069\u0064\u0020\u0023\u0064\u0064\u0064\u003B\u0020\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u003A\u0020\u0023\u0066\u0035\u0066\u0035\u0066\u0035\u003B\u0022\u003E\u6743\u9650\u6A21\u677F\u003C\u002F\u0074\u0068\u003E";_0x84176a+="\u003C\u0074\u0068\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0036\u0070\u0078\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u003A\u0020\u0031\u0070\u0078\u0020\u0073\u006F\u006C\u0069\u0064\u0020\u0023\u0064\u0064\u0064\u003B\u0020\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u003A\u0020\u0023\u0066\u0035\u0066\u0035\u0066\u0035\u003B\u0022\u003E\u64CD\u4F5C\u003C\u002F\u0074\u0068\u003E";_0x84176a+="\u003C\u002F\u0074\u0072\u003E\u003C\u002F\u0074\u0068\u0065\u0061\u0064\u003E\u003C\u0074\u0062\u006F\u0064\u0079\u003E";window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](user=>{const _0x46e=window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']]||{'\u006E\u0061\u006D\u0065':'自定义'};_0x84176a+=`<tr>
            <td style="padding: 6px; border: 1px solid #ddd;">${user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']}</td>
            <td style="padding: 6px; border: 1px solid #ddd;">${user['\u006E\u0061\u006D\u0065']}</td>
            <td style="padding: 6px; border: 1px solid #ddd;">${_0x46e['\u006E\u0061\u006D\u0065']||"\u4E49\u5B9A\u81EA".split("").reverse().join("")}</td>
            <td style="padding: 6px; border: 1px solid #ddd; white-space: nowrap;">
                <button class="btn btn-sm btn-primary" onclick="editUserPermissions('${user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']}')" 
                        style="padding: 2px 6px; font-size: 10px; margin-right: 3px;" name="editUserPermissionsBtn">编辑</button>
                ${user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']!=="\u0071\u0069\u0079\u0075"?`<button class="btn btn-sm btn-danger" onclick="deleteUser('${user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']}')" 
                            style="padding: 2px 6px; font-size: 10px;" name="deleteUserBtn">删除</button>`:''}
            </td>
        </tr>`;});_0x84176a+=">vid/<>elbat/<>ydobt/<".split("").reverse().join("");_0x8856f['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=_0x84176a;}function showAddUserModal(){const _0x7dae5e=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("vid".split("").reverse().join(""));_0x7dae5e['\u0063\u006C\u0061\u0073\u0073\u004E\u0061\u006D\u0065']="ladom".split("").reverse().join("");_0x7dae5e['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0073\u0073\u0054\u0065\u0078\u0074']=`
        display: flex;
        position: fixed;
        z-index: 2002;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        justify-content: center;
        align-items: center;
    `;_0x7dae5e['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
    <div class="modal-content" style="width: 500px; max-height: 90vh; overflow-y: auto; font-size: 12px;">
        <div class="modal-header">
            <h3 style="font-size: 16px; margin: 0;">添加新用户</h3>
            <button class="close-btn" onclick="this.closest('.modal').remove()" style="font-size: 20px; padding: 0 5px;" name="closeAddUserBtn">&times;</button>
        </div>
        <div style="padding: 15px;">
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">用户名：</label>
                <input type="text" id="newUsername" name="newUsername" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" 
                       placeholder="只能使用字母、数字和下划线">
            </div>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">姓名：</label>
                <input type="text" id="newName" name="newName" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" 
                       placeholder="显示姓名">
            </div>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">密码：</label>
                <input type="password" id="newPassword" name="newPassword" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" 
                       placeholder="最少3位">
            </div>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">确认密码：</label>
                <input type="password" id="confirmPassword" name="confirmPassword" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">权限模板：</label>
                <select id="userTemplate" name="userTemplate" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                    <option value="admin">超级管理员</option>
                    <option value="user" selected>普通用户</option>
                    <option value="customer">客户</option>
                </select>
            </div>
            
            <div id="customPermissions" style="display: none; margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <h5 style="margin-bottom: 10px;">自定义权限</h5>
                <div style="margin-bottom: 10px;">
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_viewAllSites" name="perm_viewAllSites">
                        查看所有工地
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_addSite" name="perm_addSite">
                        添加工地
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_deleteSite" name="perm_deleteSite">
                        删除工地
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_editQuote" name="perm_editQuote">
                        编辑报价
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_addItems" name="perm_addItems">
                        添加分页项目
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_deleteItems" name="perm_deleteItems">
                        删除分页项目
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_cloudSync" name="perm_cloudSync">
                        云端同步
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_backupToFile" name="perm_backupToFile">
                        备份到文件
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_loadFromFile" name="perm_loadFromFile">
                        从文件加载
                    </label>
                </div>
            </div>
            
            <div style="margin-top: 20px; display: flex; justify-content: space-between; align-items: center;">
                <button class="btn btn-primary" onclick="saveNewUser()" 
                        style="padding: 6px 12px; font-size: 12px;" name="saveNewUserBtn">保存用户</button>
                <button class="btn btn-secondary" onclick="this.closest('.modal').remove()" 
                        style="padding: 6px 12px; font-size: 12px;" name="cancelAddUserBtn">取消</button>
            </div>
            
            <div id="addUserError" style="color: #dc3545; margin-top: 10px; display: none; font-size: 11px;"></div>
        </div>
    </div>`;document['\u0062\u006F\u0064\u0079']['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0x7dae5e);document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0075\u0073\u0065\u0072\u0054\u0065\u006D\u0070\u006C\u0061\u0074\u0065")['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("egnahc".split("").reverse().join(""),function(){var _0x6d_0xfed=(727716^727714)+(664249^664255);const _0xb05e=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0063\u0075\u0073\u0074\u006F\u006D\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073");_0x6d_0xfed=522270^522269;if(this['\u0076\u0061\u006C\u0075\u0065']==="\u0063\u0075\u0073\u0074\u006F\u006D"){_0xb05e['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";}else{_0xb05e['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="enon".split("").reverse().join("");}});}function saveNewUser(){const _0x5bb7bc=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u006E\u0065\u0077\u0055\u0073\u0065\u0072\u006E\u0061\u006D\u0065")['\u0076\u0061\u006C\u0075\u0065']['\u0074\u0072\u0069\u006D']();var _0x8664c;const _0x3dgf7d=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("emaNwen".split("").reverse().join(""))['\u0076\u0061\u006C\u0075\u0065']['\u0074\u0072\u0069\u006D']();_0x8664c=126793^126797;var _0x8c5g;const _0x2_0xdf5=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u006E\u0065\u0077\u0050\u0061\u0073\u0073\u0077\u006F\u0072\u0064")['\u0076\u0061\u006C\u0075\u0065'];_0x8c5g="dgmgio".split("").reverse().join("");const _0xec1cd=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0063\u006F\u006E\u0066\u0069\u0072\u006D\u0050\u0061\u0073\u0073\u0077\u006F\u0072\u0064")['\u0076\u0061\u006C\u0075\u0065'];const _0xfa0g=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("etalpmeTresu".split("").reverse().join(""))['\u0076\u0061\u006C\u0075\u0065'];const _0xd02bf=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("rorrEresUdda".split("").reverse().join(""));if(!_0x5bb7bc||!_0x3dgf7d||!_0x2_0xdf5){_0xd02bf['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\u8BF7\u586B\u5199\u6240\u6709\u5FC5\u586B\u9879\uFF01";_0xd02bf['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="kcolb".split("").reverse().join("");return;}if(!new RegExp('\u005E\u005B\u0061\u002D\u007A\u0041\u002D\u005A\u0030\u002D\u0039\u005F\u005D\u002B\u0024',"")['\u0074\u0065\u0073\u0074'](_0x5bb7bc)){_0xd02bf['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\uFF01\u7EBF\u5212\u4E0B\u548C\u5B57\u6570\u3001\u6BCD\u5B57\u542B\u5305\u80FD\u53EA\u540D\u6237\u7528".split("").reverse().join("");_0xd02bf['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";return;}if(builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===_0x5bb7bc)){_0xd02bf['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\uFF01\u5728\u5B58\u5DF2\u540D\u6237\u7528".split("").reverse().join("");_0xd02bf['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="kcolb".split("").reverse().join("");return;}if(_0x2_0xdf5['\u006C\u0065\u006E\u0067\u0074\u0068']<(904704^904707)){_0xd02bf['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\uFF01\u4F4D3\u8981\u9700\u5C11\u6700\u7801\u5BC6".split("").reverse().join("");_0xd02bf['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";return;}if(_0x2_0xdf5!==_0xec1cd){_0xd02bf['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4\uFF01";_0xd02bf['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";return;}const _0xaa039d={'\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065':_0x5bb7bc,'\u0070\u0061\u0073\u0073\u0077\u006F\u0072\u0064':_0x2_0xdf5,"name":_0x3dgf7d,'\u0069\u0073\u004C\u006F\u0063\u0061\u006C':!![]};if(_0xfa0g==="\u0061\u0064\u006D\u0069\u006E"){_0xaa039d['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']=!![];}builtInUsers['\u0070\u0075\u0073\u0068'](_0xaa039d);if(_0xfa0g==="motsuc".split("").reverse().join("")){var _0xba952f;const templatePermissions=getTemplateByType("resu".split("").reverse().join(""));_0xba952f=959109^959110;PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][_0x5bb7bc]={'\u006E\u0061\u006D\u0065':_0x3dgf7d,'\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':"\u81EA\u5B9A\u4E49\u6743\u9650","permissions":{...templatePermissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']}};}else{var _0xgc3c2g=(196052^196061)+(446442^446441);const templatePermissions=getTemplateByType(_0xfa0g);_0xgc3c2g=(660718^660718)+(606182^606179);PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][_0x5bb7bc]={'\u006E\u0061\u006D\u0065':_0x3dgf7d,'\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':templatePermissions['\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E'],'\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{...templatePermissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']}};}savePermissionConfig();const _0xb34a=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("\u002E\u006D\u006F\u0064\u0061\u006C\u005B\u0073\u0074\u0079\u006C\u0065\u002A\u003D\u0022\u007A\u002D\u0069\u006E\u0064\u0065\u0078\u003A\u0020\u0032\u0030\u0030\u0032\u0022\u005D");if(_0xb34a){_0xb34a['\u0072\u0065\u006D\u006F\u0076\u0065']();}setTimeout(()=>{var _0xb_0xga2=(131806^131799)+(446493^446489);const _0x991bbe=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("]\"0002 :xedni-z\"=*elyts[ladom.".split("").reverse().join(""));_0xb_0xga2=(280071^280064)+(589642^589642);if(_0x991bbe&&document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("tsiLresUnoissimrep".split("").reverse().join(""))){renderPermissionUserList();}},168149^168113);console['\u006C\u006F\u0067'](`用户 ${_0x5bb7bc} (${_0x3dgf7d}) 已添加成功`);showSimpleToast(`用户 ${_0x3dgf7d} 添加成功`,"\u0073\u0075\u0063\u0063\u0065\u0073\u0073");}function deleteUser(username){if(!isAdmin()){alert("\uFF01\u6237\u7528\u9664\u5220\u4EE5\u53EF\u5458\u7406\u7BA1\u6709\u53EA".split("").reverse().join(""));return;}if(username==="\u0071\u0069\u0079\u0075"){alert("\uFF01\u6237\u8D26\u5458\u7406\u7BA1\u9664\u5220\u80FD\u4E0D".split("").reverse().join(""));return;}var _0xbggd7e=(708577^708584)+(786678^786675);const _0xge66d=builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username);_0xbggd7e="fkmfmk".split("").reverse().join("");if(!_0xge66d)return;if(!confirm(`确定要删除用户 "${_0xge66d['\u006E\u0061\u006D\u0065']} (${username})" 吗？此操作不可恢复！`)){return;}var _0x3c_0x2c6=(796752^796760)+(926350^926351);const _0x1d4f=builtInUsers['\u0066\u0069\u006E\u0064\u0049\u006E\u0064\u0065\u0078'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username);_0x3c_0x2c6=(725461^725457)+(387617^387618);if(_0x1d4f>-(910290^910291)){builtInUsers['\u0073\u0070\u006C\u0069\u0063\u0065'](_0x1d4f,784299^784298);}if(PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]){delete PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username];}if(currentUser&&currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username){logout();}savePermissionConfig();const _0xa46c=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("\u002E\u006D\u006F\u0064\u0061\u006C");if(_0xa46c){renderPermissionUserList();}setTimeout(()=>{if(typeof initTabs==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){console['\u006C\u006F\u0067']("\u9875\u7B7E\u6807\u5316\u59CB\u521D\u65B0\u91CD\u540E\u6237\u7528\u9664\u5220".split("").reverse().join(""));initTabs();}},782609^782709);alert("\u7528\u6237\u5220\u9664\u6210\u529F\uFF01");}function editUserPermissions(username){const _0xdc7aa=builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username);if(!_0xdc7aa)return;var _0x4403e=(701841^701848)+(720822^720823);const _0x49e=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]||getTemplateByType("\u0075\u0073\u0065\u0072");_0x4403e=340712^340718;const _0x17ee=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("\u0064\u0069\u0076");_0x17ee['\u0063\u006C\u0061\u0073\u0073\u004E\u0061\u006D\u0065']="\u006D\u006F\u0064\u0061\u006C";_0x17ee['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0073\u0073\u0054\u0065\u0078\u0074']=`
        display: flex;
        position: fixed;
        z-index: 2001;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        justify-content: center;
        align-items: center;
    `;_0x17ee['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
        <div class="modal-content" style="width: 800px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h3>编辑权限 - ${_0xdc7aa['\u006E\u0061\u006D\u0065']} (${username})</h3>
                <button class="close-btn" onclick="this.closest('.modal').remove()" name="closeEditPermissionsBtn">&times;</button>
            </div>
            <div style="padding: 20px;">
                <div style="margin-bottom: 20px;">
                    <h4>用户权限配置</h4>
                    <p style="color: #666; font-size: 14px; margin-top: 5px;">
                        当前用户：${_0xdc7aa['\u006E\u0061\u006D\u0065']} (${username})
                    </p>
                </div>
                
                <div id="permissionControls" style="margin-bottom: 20px;"></div>
                
                <div id="siteSelection" style="margin-bottom: 20px; display: ${_0x49e['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073']?"enon".split("").reverse().join(""):"\u0062\u006C\u006F\u0063\u006B"}">
                    <h4>选择可访问工地</h4>
                    <div style="max-height: 200px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; border-radius: 5px; background: #f9f9f9;">
                        <div id="siteCheckboxes"></div>
                    </div>
                </div>
                
                <div id="tabSelection" style="margin-bottom: 20px; display: ${_0x49e['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073']?"\u006E\u006F\u006E\u0065":"kcolb".split("").reverse().join("")}">
                    <h4>选择可访问标签页</h4>
                    <div style="display: flex; flex-wrap: wrap; gap: 10px; border: 1px solid #ddd; padding: 10px; border-radius: 5px;">
                        ${PERMISSION_CONFIG['\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073']['\u006D\u0061\u0070'](tab=>`
                            <label style="display: flex; align-items: center; gap: 5px; padding: 5px 10px; background: #f5f5f5; border-radius: 4px;">
                                <input type="checkbox" name="allowedTabs" value="${tab['\u0069\u0064']}" 
                                    ${_0x49e['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']?.includes(tab['\u0069\u0064'])?"\u0063\u0068\u0065\u0063\u006B\u0065\u0064":''}>
                                ${tab['\u006E\u0061\u006D\u0065']}
                            </label>
                        `)['\u006A\u006F\u0069\u006E']('')}
                    </div>
                </div>
                
                <div style="text-align: right; margin-top: 20px;">
                    <button class="btn btn-primary" onclick="saveUserPermissions('${username}')" name="saveUserPermissionsBtn">保存</button>
                    <button class="btn btn-secondary" onclick="this.closest('.modal').remove()" name="cancelEditPermissionsBtn">取消</button>
                </div>
            </div>
        </div>
    `;document['\u0062\u006F\u0064\u0079']['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0x17ee);setTimeout(()=>{renderPermissionControls(username,_0x49e);renderSiteCheckboxes(username,_0x49e);},175994^175944);}function renderPermissionControls(username,permissions,_0x87e){const _0x62537d=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0043\u006F\u006E\u0074\u0072\u006F\u006C\u0073");if(!_0x62537d)return;const _0xe27cc=[{'\u0069\u0064':"\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073",'\u006C\u0061\u0062\u0065\u006C':"\u67E5\u770B\u6240\u6709\u5DE5\u5730"},{'\u0069\u0064':"\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073",'\u006C\u0061\u0062\u0065\u006C':"\u67E5\u770B\u6240\u6709\u6807\u7B7E\u9875"},{'\u0069\u0064':"\u0061\u0064\u0064\u0053\u0069\u0074\u0065","label":"\u6DFB\u52A0\u5DE5\u5730"},{'\u0069\u0064':'deleteSite','\u006C\u0061\u0062\u0065\u006C':'删除工地'},{"id":'editQuote','\u006C\u0061\u0062\u0065\u006C':"\u7F16\u8F91\u62A5\u4EF7"},{"id":"\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073",'\u006C\u0061\u0062\u0065\u006C':"\u6DFB\u52A0\u9879\u76EE"},{"id":'deleteItems','\u006C\u0061\u0062\u0065\u006C':"\u5220\u9664\u9879\u76EE"},{'\u0069\u0064':"\u0063\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063","label":'云端同步'},{'\u0069\u0064':"\u0062\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065","label":"\u5907\u4EFD\u5230\u6587\u4EF6"},{"id":"\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065","label":'从文件加载'}];_0x87e="\u003C\u0068\u0034\u003E\u8BE6\u7EC6\u6743\u9650\u8BBE\u7F6E\u003C\u002F\u0068\u0034\u003E";_0x87e+=">\";xp01 :pag ;))rf1 ,xp002(xamnim ,llif-otua(taeper :snmuloc-etalpmet-dirg ;dirg :yalpsid\"=elyts vid<".split("").reverse().join("");_0x87e+=`
        <label style="display: flex; align-items: center; gap: 5px; padding: 5px; background: #f5f5f5; border-radius: 4px; color: #d32f2f; font-weight: bold;">
            <input type="checkbox" name="isAdmin" 
                ${permissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']?"\u0063\u0068\u0065\u0063\u006B\u0065\u0064":''}
                onchange="updatePermissionValue('${username}', 'isAdmin', this.checked)">
            设为系统管理员
        </label>
    `;_0xe27cc['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](control=>{_0x87e+=`
            <label style="display: flex; align-items: center; gap: 5px; padding: 5px; background: #f5f5f5; border-radius: 4px;">
                <input type="checkbox" name="${control['\u0069\u0064']}" 
                    ${permissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][control['\u0069\u0064']]?"\u0063\u0068\u0065\u0063\u006B\u0065\u0064":''}
                    onchange="updatePermissionValue('${username}', '${control['\u0069\u0064']}', this.checked)">
                ${control['\u006C\u0061\u0062\u0065\u006C']}
            </label>
        `;});_0x87e+=">vid/<".split("").reverse().join("");_0x62537d['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=_0x87e;}function updatePermissionValue(username,permission,value){if(!PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]){PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]=JSON['\u0070\u0061\u0072\u0073\u0065'](JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](getTemplateByType("\u0075\u0073\u0065\u0072")));}PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][permission]=value;const _0x7cdc2f=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("noitceleSetis".split("").reverse().join(""));var _0x1d_0xf96;const _0x276bbc=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("noitceleSbat".split("").reverse().join(""));_0x1d_0xf96=(113987^113991)+(884696^884696);if(permission==="setiSllAweiv".split("").reverse().join("")&&_0x7cdc2f){_0x7cdc2f['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']=value?"enon".split("").reverse().join(""):"kcolb".split("").reverse().join("");}if(permission==="\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073"&&_0x276bbc){_0x276bbc['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']=value?"\u006E\u006F\u006E\u0065":"\u0062\u006C\u006F\u0063\u006B";}}function renderSiteCheckboxes(username,permissions,_0x734c){var _0xde9ee;const _0x824a=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("sexobkcehCetis".split("").reverse().join(""));_0xde9ee=(766612^766615)+(107614^107614);if(!_0x824a)return;var _0x78564a=(239778^239783)+(212467^212474);let _0x39ca=[];_0x78564a=741142^741143;if(window['\u0073\u0069\u0074\u0065\u0073']&&Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](window['\u0073\u0069\u0074\u0065\u0073'])){_0x39ca=window['\u0073\u0069\u0074\u0065\u0073'];}else{try{var _0x8b665d;const _0x9f486c=localStorage['\u0067\u0065\u0074\u0049\u0074\u0065\u006D']("\u0063\u006F\u006E\u0073\u0074\u0072\u0075\u0063\u0074\u0069\u006F\u006E\u0053\u0069\u0074\u0065\u0073");_0x8b665d=147625^147624;if(_0x9f486c){_0x39ca=JSON['\u0070\u0061\u0072\u0073\u0065'](_0x9f486c);}}catch(e){console['\u0077\u0061\u0072\u006E'](":\u8D25\u5931\u636E\u6570\u5730\u5DE5\u8F7D\u52A0egarotSlacol\u4ECE".split("").reverse().join(""),e);}}if(_0x39ca['\u006C\u0065\u006E\u0067\u0074\u0068']===(606483^606483)){_0x824a['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
            <div style="text-align: center; padding: 20px; color: #666;">
                <div style="margin-bottom: 10px;">暂无工地数据</div>
                <small style="font-size: 12px;">
                    请先添加工地，或刷新页面后重试
                </small>
            </div>
        `;return;}var _0x096f;_0x734c=">\";xp5 :pag ;nmuloc :noitcerid-xelf ;xelf :yalpsid\"=elyts vid<".split("").reverse().join("");_0x096f="qbgmjl".split("").reverse().join("");_0x39ca['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](site=>{const _0xe63a=permissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073']?.includes(site['\u0069\u0064'])||false;var _0xgbgb9f=(131249^131250)+(740887^740884);const _0xe1a=site['\u006E\u0061\u006D\u0065']||`未命名工地 (${site['\u0069\u0064']})`;_0xgbgb9f='\u006B\u0068\u006E\u0064\u0071\u0071';_0x734c+=`
            <label style="display: flex; align-items: center; gap: 8px; padding: 5px 10px; border: 1px solid #eee; border-radius: 4px; cursor: pointer;">
                <input type="checkbox" name="allowedSites" value="${site['\u0069\u0064']}" 
                    ${_0xe63a?"dekcehc".split("").reverse().join(""):''}
                    style="margin: 0;">
                <span style="flex: 1; font-size: 14px;">${_0xe1a}</span>
                <span style="font-size: 12px; color: #666;">${site['\u0069\u0064']}</span>
            </label>
        `;});_0x734c+="\u003C\u002F\u0064\u0069\u0076\u003E";_0x824a['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=_0x734c;}function saveUserPermissions(username){if(!PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]){PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]={"name":builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username)?.name||username,'\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':'独立权限配置','\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{...getTemplateByType("\u0075\u0073\u0065\u0072")['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']}};}var _0xab8ca;const _0x8b_0xc1b=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("dekcehc:]\"setiSdewolla\"=eman[tupni".split("").reverse().join(""));_0xab8ca=(315166^315165)+(673669^673670);PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073']=Array['\u0066\u0072\u006F\u006D'](_0x8b_0xc1b)['\u006D\u0061\u0070'](cb=>cb['\u0076\u0061\u006C\u0075\u0065']);const _0xd2b03c=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("dekcehc:]\"sbaTdewolla\"=eman[tupni".split("").reverse().join(""));PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']=Array['\u0066\u0072\u006F\u006D'](_0xd2b03c)['\u006D\u0061\u0070'](cb=>cb['\u0076\u0061\u006C\u0075\u0065']);savePermissionConfig();document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("\u002E\u006D\u006F\u0064\u0061\u006C")['\u0072\u0065\u006D\u006F\u0076\u0065']();setTimeout(()=>{var _0x70bb=(134309^134306)+(833776^833783);const _0x3_0x22c=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("ladom.".split("").reverse().join(""));_0x70bb=(616717^616715)+(883290^883293);if(_0x3_0x22c){renderPermissionUserList();}},692884^692976);alert("\u6743\u9650\u5DF2\u4FDD\u5B58");}async function exportPermissionConfig(){if(!isAdmin()){alert("\uFF01\u7F6E\u914D\u9650\u6743\u51FA\u5BFC\u4EE5\u53EF\u5458\u7406\u7BA1\u6709\u53EA".split("").reverse().join(""));return;}savePermissionConfig();let _0xa586c=GIST_CONFIG['\u0047\u0049\u0054\u0048\u0055\u0042\u005F\u0054\u004F\u004B\u0045\u004E'];if(!_0xa586c||_0xa586c['\u006C\u0065\u006E\u0067\u0074\u0068']<(526102^526108)){_0xa586c=await ensureGitHubToken({"checkDataSize":false,"purpose":"\u0063\u006F\u006E\u0066\u0069\u0067",'\u0073\u0068\u006F\u0077\u0057\u0061\u0072\u006E\u0069\u006E\u0067':false});if(!_0xa586c){alert("\u4E0A\u4F20\u6743\u9650\u914D\u7F6E\u9700\u8981\u0020\u0047\u0069\u0074\u0048\u0075\u0062\u0020\u0054\u006F\u006B\u0065\u006E\uFF0C\u5DF2\u53D6\u6D88");return;}}let _0x54d=CLOUD_CONFIG['\u0047\u0049\u0053\u0054\u005F\u0049\u0044'];const _0x5903db=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("vid".split("").reverse().join(""));_0x5903db['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']="...\u7AEF\u4E91\u5230\u7F6E\u914D\u9650\u6743\u4F20\u4E0A\u5728\u6B63".split("").reverse().join("");_0x5903db['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0073\u0073\u0054\u0065\u0078\u0074']=`
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 20px 30px;
        border-radius: 10px;
        z-index: 9999;
        text-align: center;
        min-width: 200px;
    `;document['\u0062\u006F\u0064\u0079']['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0x5903db);try{const _0xcdf07b=`// 权限配置数据结构
const PERMISSION_CONFIG = ${JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](PERMISSION_CONFIG,null,778233^778237)};

// ==================== 权限管理系统 ====================
// 内置用户列表
const builtInUsers = ${JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](builtInUsers,null,607211^607209)};`;const _0xa_0x247=await fetch(`https://api.github.com/gists/${_0x54d}`,{"method":"\u0050\u0041\u0054\u0043\u0048","headers":{'Authorization':`token ${_0xa586c}`,"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E",'Accept':"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u0067\u0069\u0074\u0068\u0075\u0062\u002E\u0076\u0033\u002B\u006A\u0073\u006F\u006E"},'\u0062\u006F\u0064\u0079':JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({'\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':`权限配置文件更新 - ${new Date()['\u0074\u006F\u004C\u006F\u0063\u0061\u006C\u0065\u0053\u0074\u0072\u0069\u006E\u0067']()}`,"files":{[CLOUD_FILE_NAMES['\u0055\u0053\u0045\u0052\u005F\u0043\u004F\u004E\u0046\u0049\u0047']]:{"content":_0xcdf07b}}})});if(_0x5903db['\u0070\u0061\u0072\u0065\u006E\u0074\u004E\u006F\u0064\u0065']){_0x5903db['\u0072\u0065\u006D\u006F\u0076\u0065']();}if(_0xa_0x247['\u006F\u006B']){alert(`✅ 权限配置已成功上传到云端！\n文件名：${CLOUD_FILE_NAMES['\u0055\u0053\u0045\u0052\u005F\u0043\u004F\u004E\u0046\u0049\u0047']}`);}else{const _0x1366a=await _0xa_0x247['\u0074\u0065\u0078\u0074']();console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u4F20\u4E0A".split("").reverse().join(""),_0x1366a);if(_0xa_0x247['\u0073\u0074\u0061\u0074\u0075\u0073']===(234885^234516)){alert("\u0047\u0069\u0074\u0048\u0075\u0062\u0020\u0054\u006F\u006B\u0065\u006E\u0020\u5DF2\u8FC7\u671F\u6216\u65E0\u6548\uFF01\u000A\u000A\u8BF7\u91CD\u65B0\u914D\u7F6E\u0020\u0047\u0069\u0074\u0048\u0075\u0062\u0020\u0054\u006F\u006B\u0065\u006E\u3002");localStorage['\u0072\u0065\u006D\u006F\u0076\u0065\u0049\u0074\u0065\u006D']("\u0067\u0069\u0074\u0068\u0075\u0062\u005F\u0063\u006F\u006E\u0066\u0069\u0067");GIST_CONFIG['\u0047\u0049\u0054\u0048\u0055\u0042\u005F\u0054\u004F\u004B\u0045\u004E']='';GIST_CONFIG['\u0063\u006F\u006E\u0066\u0069\u0067\u004C\u006F\u0061\u0064\u0065\u0064']=false;}else{alert(`上传失败：${_0xa_0x247['\u0073\u0074\u0061\u0074\u0075\u0073']} ${_0xa_0x247['\u0073\u0074\u0061\u0074\u0075\u0073\u0054\u0065\u0078\u0074']}`);}}}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u4E0A\u4F20\u5F02\u5E38\u003A",error);if(_0x5903db['\u0070\u0061\u0072\u0065\u006E\u0074\u004E\u006F\u0064\u0065']){_0x5903db['\u0072\u0065\u006D\u006F\u0076\u0065']();}alert("\u4E0A\u4F20\u5931\u8D25\uFF1A"+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);}}var _0xcc_0xa92;let originalShowChangeLog=null;_0xcc_0xa92=360517^360517;function wrapChangeLogWithPermission(){if(typeof window['\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){originalShowChangeLog=window['\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067'];window['\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=function(){if(!canShowChangeLog()){alert("\uFF01\u5FD7\u65E5\u6539\u66F4\u770B\u67E5\u4EE5\u53EF\u5458\u7406\u7BA1\u6709\u53EA \uFE0F\u26A0".split("").reverse().join(""));return;}if(originalShowChangeLog){originalShowChangeLog();}};}}function saveUserPermissions(username){if(!PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]){PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]={'\u006E\u0061\u006D\u0065':builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username)?.name||username,"description":"\u72EC\u7ACB\u6743\u9650\u914D\u7F6E",'\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{...getTemplateByType("resu".split("").reverse().join(""))['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']}};}var _0x3ce5f;const _0x16792c=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0069\u006E\u0070\u0075\u0074\u005B\u006E\u0061\u006D\u0065\u003D\u0022\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073\u0022\u005D\u003A\u0063\u0068\u0065\u0063\u006B\u0065\u0064");_0x3ce5f=(939541^939538)+(949530^949523);PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073']=Array['\u0066\u0072\u006F\u006D'](_0x16792c)['\u006D\u0061\u0070'](cb=>cb['\u0076\u0061\u006C\u0075\u0065']);const _0x95f75b=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0069\u006E\u0070\u0075\u0074\u005B\u006E\u0061\u006D\u0065\u003D\u0022\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073\u0022\u005D\u003A\u0063\u0068\u0065\u0063\u006B\u0065\u0064");PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']=Array['\u0066\u0072\u006F\u006D'](_0x95f75b)['\u006D\u0061\u0070'](cb=>cb['\u0076\u0061\u006C\u0075\u0065']);savePermissionConfig();const _0x6e2eaf=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("]\"1002 :xedni-z\"=*elyts[ladom.".split("").reverse().join(""));if(_0x6e2eaf){_0x6e2eaf['\u0072\u0065\u006D\u006F\u0076\u0065']();}setTimeout(()=>{var _0xa2bc;const _0xa9c9d=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("\u002E\u006D\u006F\u0064\u0061\u006C\u005B\u0073\u0074\u0079\u006C\u0065\u002A\u003D\u0022\u007A\u002D\u0069\u006E\u0064\u0065\u0078\u003A\u0020\u0032\u0030\u0030\u0030\u0022\u005D");_0xa2bc=(747161^747167)+(199505^199505);if(_0xa9c9d&&document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0055\u0073\u0065\u0072\u004C\u0069\u0073\u0074")){renderPermissionUserList();}},594789^594689);console['\u006C\u006F\u0067']("\u6743\u9650\u5DF2\u4FDD\u5B58");showSimpleToast("\u6743\u9650\u5DF2\u4FDD\u5B58","sseccus".split("").reverse().join(""));}document['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("dedaoLtnetnoCMOD".split("").reverse().join(""),function(){setTimeout(function(){if(typeof initPermissionSystem==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){initPermissionSystem();}},826596^826824);setTimeout(wrapChangeLogWithPermission,228995^229239);});window['\u0068\u0061\u0073\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E']=hasPermission;window['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']=isAdmin;window['\u0063\u0061\u006E\u0056\u0069\u0065\u0077\u0053\u0069\u0074\u0065']=canViewSite;window['\u0063\u0061\u006E\u0056\u0069\u0065\u0077\u0054\u0061\u0062']=canViewTab;window['\u0063\u0061\u006E\u0041\u0064\u0064\u0053\u0069\u0074\u0065']=canAddSite;window['\u0063\u0061\u006E\u0043\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063']=canCloudSync;window['\u0063\u0061\u006E\u0042\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065']=canBackupToFile;window['\u0063\u0061\u006E\u004C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065']=canLoadFromFile;window['\u0063\u0061\u006E\u0045\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065']=canEditQuote;window['\u0063\u0061\u006E\u0041\u0064\u0064']=canAdd;window['\u0063\u0061\u006E\u0044\u0065\u006C\u0065\u0074\u0065']=canDelete;window['\u0063\u0061\u006E\u0044\u0065\u006C\u0065\u0074\u0065\u0053\u0069\u0074\u0065']=canDeleteSite;window['\u0063\u0061\u006E\u0053\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072']=canShowPermissionManager;window['\u0063\u0061\u006E\u0053\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=canShowChangeLog;window['\u0067\u0065\u0074\u0041\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']=getAllowedTabs;window['\u0069\u006E\u0069\u0074\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0053\u0079\u0073\u0074\u0065\u006D']=initPermissionSystem;window['\u006C\u006F\u0061\u0064\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0043\u006F\u006E\u0066\u0069\u0067']=loadPermissionConfig;window['\u0073\u0061\u0076\u0065\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0043\u006F\u006E\u0066\u0069\u0067']=savePermissionConfig;window['\u0073\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072']=showPermissionManager;window['\u0065\u0078\u0070\u006F\u0072\u0074\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0043\u006F\u006E\u0066\u0069\u0067']=exportPermissionConfig;window['\u0065\u0064\u0069\u0074\u0055\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']=editUserPermissions;window['\u0073\u0061\u0076\u0065\u0055\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']=saveUserPermissions;window['\u0075\u0070\u0064\u0061\u0074\u0065\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0056\u0061\u006C\u0075\u0065']=updatePermissionValue;window['\u0073\u0068\u006F\u0077\u0041\u0064\u0064\u0055\u0073\u0065\u0072\u004D\u006F\u0064\u0061\u006C']=showAddUserModal;window['\u0064\u0065\u006C\u0065\u0074\u0065\u0055\u0073\u0065\u0072']=deleteUser;