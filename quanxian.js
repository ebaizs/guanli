if(typeof window['\u0041\u0044\u004D\u0049\u004E\u005F\u0055\u0053\u0045\u0052\u0053']==="\u0075\u006E\u0064\u0065\u0066\u0069\u006E\u0065\u0064"){window['\u0041\u0044\u004D\u0049\u004E\u005F\u0055\u0053\u0045\u0052\u0053']=["nimda".split("").reverse().join(""),"\u0071\u0069\u0079\u0075"];}var _0x91bgcb=(195768^195775)+(361101^361103);const localAdminUser={"username":"qiyu","\u0070\u0061\u0073\u0073\u0077\u006F\u0072\u0064":"8418","name":"系统管理员","\u0069\u0073\u004C\u006F\u0063\u0061\u006C":!![],"\u0069\u0073\u0041\u0064\u006D\u0069\u006E":!![]};_0x91bgcb=190100^190109;if(typeof window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']==="denifednu".split("").reverse().join("")){window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']=[];}if(typeof window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']==="denifednu".split("").reverse().join("")){window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']={"userPermissions":{},'\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073':[]};}if(typeof window['\u0063\u0075\u0072\u0072\u0065\u006E\u0074\u0055\u0073\u0065\u0072']==="\u0075\u006E\u0064\u0065\u0066\u0069\u006E\u0065\u0064"){window['\u0063\u0075\u0072\u0072\u0065\u006E\u0074\u0055\u0073\u0065\u0072']=null;}var _0xcac3d=(899252^899253)+(854296^854289);const localBuiltInUsers=[{"username":"\u0031","\u0070\u0061\u0073\u0073\u0077\u006F\u0072\u0064":"\u0031\u0032\u0033\u0034","\u006E\u0061\u006D\u0065":"测试","isLocal":!![],"\u0069\u0073\u0041\u0064\u006D\u0069\u006E":false},localAdminUser];_0xcac3d=(373315^373317)+(255126^255135);window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']=[...localBuiltInUsers];window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']["\u0031"]={'\u006E\u0061\u006D\u0065':"\u6D4B\u8BD5","description":"\u9ED8\u8BA4\u6743\u9650",'\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073':!![],"addSite":!![],"cloudSync":!![],'\u0065\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065':!![],'\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073':!![],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073':[],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073':[]}};window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']['\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073']=[{"id":"\u0070\u0072\u006F\u0067\u0072\u0065\u0073\u0073\u0054\u0061\u0062",'\u006E\u0061\u006D\u0065':"\u8FDB\u5EA6"},{'\u0069\u0064':"\u0074\u006F\u0064\u006F\u0054\u0061\u0062",'\u006E\u0061\u006D\u0065':"\u5F85\u529E"},{'\u0069\u0064':"\u0065\u0078\u0070\u0065\u006E\u0073\u0065\u0054\u0061\u0062","name":"支出"},{"id":"\u0072\u0065\u0071\u0075\u0069\u0072\u0065\u006D\u0065\u006E\u0074\u0054\u0061\u0062","name":"\u5BA2\u6237\u8981\u6C42"},{'\u0069\u0064':"dailyLogTab",'\u006E\u0061\u006D\u0065':"日常记录"},{'\u0069\u0064':"\u0072\u0065\u0070\u0061\u0069\u0072\u0054\u0061\u0062",'\u006E\u0061\u006D\u0065':"待维修"},{"id":"\u0077\u006F\u0072\u006B\u0065\u0072\u0054\u0061\u0062","name":"工人"},{"id":"\u0071\u0075\u006F\u0074\u0065\u0054\u0061\u0062","name":"\u62A5\u4EF7"},{'\u0069\u0064':"\u0061\u0064\u0064\u0052\u0065\u006D\u006F\u0076\u0065\u0054\u0061\u0062","name":"\u589E\u51CF\u9879"},{'\u0069\u0064':"\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0054\u0061\u0062",'\u006E\u0061\u006D\u0065':"\u56FE\u7EB8"},{'\u0069\u0064':"\u0065\u0078\u0070\u0065\u0072\u0069\u0065\u006E\u0063\u0065\u0054\u0061\u0062","name":"经验总结"}];function getTemplateByType(templateType){const _0xadc2df={'admin':{'\u006E\u0061\u006D\u0065':'超级管理员','\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':'拥有所有权限',"permissions":{"viewAllSites":!![],'\u0061\u0064\u0064\u0053\u0069\u0074\u0065':!![],"cloudSync":!![],'\u0062\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065':!![],'\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065':!![],'\u0065\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065':!![],'\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073':!![],'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073':!![],'\u0064\u0065\u006C\u0065\u0074\u0065\u0053\u0069\u0074\u0065':!![],"deleteItems":!![],"editAll":!![],"exportData":!![],'\u0069\u006D\u0070\u006F\u0072\u0074\u0044\u0061\u0074\u0061':!![],"viewLogs":!![],"showChangeLog":!![],'\u0073\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072':!![],'\u0072\u0065\u0066\u0072\u0065\u0073\u0068\u0043\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0073':!![],'\u0069\u0073\u0041\u0064\u006D\u0069\u006E':!![],"allowedSites":[],"allowedTabs":[]}},"\u0075\u0073\u0065\u0072":{'\u006E\u0061\u006D\u0065':"\u666E\u901A\u7528\u6237","description":'普通用户权限','\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073':!![],'\u0061\u0064\u0064\u0053\u0069\u0074\u0065':!![],'\u0063\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063':!![],"backupToFile":!![],"loadFromFile":!![],"editQuote":!![],'\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073':!![],"viewAllTabs":!![],"deleteSite":false,'\u0064\u0065\u006C\u0065\u0074\u0065\u0049\u0074\u0065\u006D\u0073':false,"editAll":false,'\u0065\u0078\u0070\u006F\u0072\u0074\u0044\u0061\u0074\u0061':false,"importData":false,"viewLogs":false,'\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067':false,'\u0073\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072':false,"refreshCloudUsers":false,'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073':[],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073':[]}},'customer':{'\u006E\u0061\u006D\u0065':'客户','\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':"\u5BA2\u6237\u6743\u9650\uFF08\u53EA\u80FD\u67E5\u770B\u6307\u5B9A\u5185\u5BB9\uFF09",'\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073':false,'\u0061\u0064\u0064\u0053\u0069\u0074\u0065':false,'\u0063\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063':false,"backupToFile":false,"loadFromFile":false,'\u0065\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065':false,'\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073':false,'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073':!![],"deleteSite":false,"deleteItems":false,'\u0065\u0064\u0069\u0074\u0041\u006C\u006C':false,"exportData":false,"importData":false,'\u0076\u0069\u0065\u0077\u004C\u006F\u0067\u0073':false,"showChangeLog":false,"showPermissionManager":false,'\u0072\u0065\u0066\u0072\u0065\u0073\u0068\u0043\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0073':false,'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073':[],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073':["\u0072\u0065\u0070\u0061\u0069\u0072\u0054\u0061\u0062","\u0072\u0065\u0071\u0075\u0069\u0072\u0065\u006D\u0065\u006E\u0074\u0054\u0061\u0062"]}}};return _0xadc2df[templateType]||_0xadc2df["\u0075\u0073\u0065\u0072"];}function hasPermission(permissionName){if(!currentUser){return false;}if(isAdmin()){return!![];}const _0xac_0x8f9=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];if(!_0xac_0x8f9){return false;}return _0xac_0x8f9['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][permissionName]||false;}function isAdmin(){if(!currentUser)return false;if(currentUser['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']===!![]){return!![];}if(window['\u0041\u0044\u004D\u0049\u004E\u005F\u0055\u0053\u0045\u0052\u0053']&&window['\u0041\u0044\u004D\u0049\u004E\u005F\u0055\u0053\u0045\u0052\u0053']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065'])){return!![];}const _0x62c3f=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];if(_0x62c3f&&_0x62c3f['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']&&_0x62c3f['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']===!![]){return!![];}return false;}function canViewSite(siteId){if(!currentUser)return false;if(hasPermission("\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073")){return!![];}var _0x99ffe=(240046^240039)+(504162^504165);const _0x3_0x416=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];_0x99ffe=(829862^829861)+(112427^112427);if(!_0x3_0x416)return false;return _0x3_0x416['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073']?.includes(siteId)||false;}function canViewTab(tabId){if(!currentUser)return false;if(isAdmin()){return!![];}var _0xee3b=(355243^355244)+(369028^369029);const _0xcgd=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];_0xee3b=(963699^963697)+(778207^778204);if(_0xcgd&&_0xcgd['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073']===!![]){return!![];}return _0xcgd?.permissions?.allowedTabs?.includes(tabId)||false;}function canAddSite(){return hasPermission("\u0061\u0064\u0064\u0053\u0069\u0074\u0065");}function canCloudSync(){return hasPermission("\u0063\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063");}function canBackupToFile(){return hasPermission("\u0062\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065");}function canLoadFromFile(){return hasPermission("eliFmorFdaol".split("").reverse().join(""));}function canEditQuote(){return hasPermission("\u0065\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065");}function canAdd(){return hasPermission("smetIdda".split("").reverse().join(""));}function canDelete(){return hasPermission("smetIeteled".split("").reverse().join(""));}function canDeleteSite(){return hasPermission("etiSeteled".split("").reverse().join(""));}function canShowPermissionManager(){return hasPermission("\u0073\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072");}function canShowChangeLog(){return hasPermission("\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067");}function getAllowedTabs(){console['\u006C\u006F\u0067']("\u003D\u003D\u003D\u0020\u0067\u0065\u0074\u0041\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073\u0020\u6267\u884C\u0020\u003D\u003D\u003D");console['\u006C\u006F\u0067']("\u5F53\u524D\u7528\u6237\u003A",currentUser);if(!currentUser){console['\u006C\u006F\u0067']("\u6CA1\u6709\u5F53\u524D\u7528\u6237\uFF0C\u8FD4\u56DE\u7A7A\u6570\u7EC4");return[];}if(hasPermission("sbaTllAweiv".split("").reverse().join(""))){console['\u006C\u006F\u0067']("\u62E5\u6709\u0020\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073\u0020\u6743\u9650\uFF0C\u8FD4\u56DE\u6240\u6709\u53EF\u7528\u6807\u7B7E");return PERMISSION_CONFIG['\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073'];}var _0xe_0x9bd=(861137^861145)+(232952^232953);const _0x4_0xdg5=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];_0xe_0x9bd=(278872^278876)+(351440^351449);console['\u006C\u006F\u0067']("\u7528\u6237\u6743\u9650\u914D\u7F6E\u003A",_0x4_0xdg5);if(!_0x4_0xdg5||!_0x4_0xdg5['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']){console['\u006C\u006F\u0067']("\u6CA1\u6709\u7528\u6237\u6743\u9650\u914D\u7F6E\u6216\u0020\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073\uFF0C\u8FD4\u56DE\u7A7A\u6570\u7EC4");return[];}console['\u006C\u006F\u0067']("\u7528\u6237\u5141\u8BB8\u7684\u6807\u7B7E\u003A",_0x4_0xdg5['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']);var _0x2c_0x6f6=(555843^555843)+(800739^800739);const _0xa2689d=PERMISSION_CONFIG['\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073']['\u0066\u0069\u006C\u0074\u0065\u0072'](tab=>_0x4_0xdg5['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](tab['\u0069\u0064']));_0x2c_0x6f6='\u0070\u0069\u0069\u0067\u0064\u006E';console['\u006C\u006F\u0067'](":\u7B7E\u6807\u7684\u540E\u6EE4\u8FC7".split("").reverse().join(""),_0xa2689d);return _0xa2689d;}function loadPermissionConfig(){try{var _0x85a=(522186^522179)+(824072^824074);const _0x7cc1cd=localStorage['\u0067\u0065\u0074\u0049\u0074\u0065\u006D']("\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u005F\u0063\u006F\u006E\u0066\u0069\u0067");_0x85a=(602242^602245)+(872554^872553);if(_0x7cc1cd){var _0x0942de;const _0x5c6ffg=JSON['\u0070\u0061\u0072\u0073\u0065'](_0x7cc1cd);_0x0942de=(732745^732737)+(592899^592903);PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']=_0x5c6ffg['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']||{};}}catch(e){console['\u0077\u0061\u0072\u006E']("\u52A0\u8F7D\u6743\u9650\u914D\u7F6E\u5931\u8D25\u003A",e);}}function savePermissionConfig(){try{localStorage['\u0073\u0065\u0074\u0049\u0074\u0065\u006D']("\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u005F\u0063\u006F\u006E\u0066\u0069\u0067",JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({'\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'],"lastModified":new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()}));}catch(e){console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u7F6E\u914D\u9650\u6743\u5B58\u4FDD".split("").reverse().join(""),e);}}function initPermissionSystem(){loadPermissionConfig();setTimeout(async()=>{try{if(typeof window['\u006C\u006F\u0061\u0064\u0043\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0044\u0061\u0074\u0061']==="noitcnuf".split("").reverse().join("")){const _0x7e_0x7a5=await window['\u006C\u006F\u0061\u0064\u0043\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0044\u0061\u0074\u0061']();if(_0x7e_0x7a5){console['\u006C\u006F\u0067']("\u8F7D\u52A0\u5DF2\u636E\u6570\u6237\u8D26\u7AEF\u4E91".split("").reverse().join(""));var _0xd4b17e=(807784^807777)+(655765^655765);const _0x19037c=window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']['\u0066\u0069\u006C\u0074\u0065\u0072'](u=>!u['\u0069\u0073\u004C\u006F\u0063\u0061\u006C']);_0xd4b17e=(785006^785001)+(693833^693839);localStorage['\u0073\u0065\u0074\u0049\u0074\u0065\u006D']("ataDresUduolc".split("").reverse().join(""),JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({"builtInUsers":_0x19037c,"PERMISSION_CONFIG":window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047'],'\u0074\u0069\u006D\u0065\u0073\u0074\u0061\u006D\u0070':new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()}));}}}catch(e){console['\u0077\u0061\u0072\u006E'](":\u8D25\u5931\u636E\u6570\u7AEF\u4E91\u8F7D\u52A0\u6B65\u5F02".split("").reverse().join(""),e);}},242778^245730);}function showPermissionManager(){if(!isAdmin()){alert("\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u7BA1\u7406\u6743\u9650\uFF01");return;}var _0xcbea=(200105^200109)+(458761^458761);const _0xd03d8f=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("\u0064\u0069\u0076");_0xcbea=(549405^549404)+(977104^977105);_0xd03d8f['\u0063\u006C\u0061\u0073\u0073\u004E\u0061\u006D\u0065']="ladom".split("").reverse().join("");_0xd03d8f['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0073\u0073\u0054\u0065\u0078\u0074']=`
        display: flex;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        justify-content: center;
        align-items: center;
    `;_0xd03d8f['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
    <div class="modal-content" style="width: 900px; max-height: 90vh; overflow-y: auto; font-size: 12px;">
        <div class="modal-header">
            <h3 style="font-size: 16px; margin: 0;">用户权限管理</h3>
            <button class="close-btn" onclick="this.closest('.modal').remove()" style="font-size: 20px; padding: 0 5px;">&times;</button>
        </div>
        <div style="padding: 15px;">
            <div style="margin-bottom: 15px;">
                <h4 style="font-size: 14px; margin: 0 0 10px 0;">权限配置操作</h4>
                <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                    <button class="btn btn-success" id="addUserBtn" style="padding: 5px 10px; font-size: 14px; flex: 1;">添加用户</button>
                    <button class="btn btn-primary" id="saveToCloudBtn" style="padding: 5px 10px; font-size: 14px; flex: 1;">保存并上传到云端</button>
                </div>
            </div>
            
            <div id="permissionUserList" style="margin-bottom: 15px;">
                <!-- 用户列表会动态生成 -->
            </div>
            
            <div style="text-align: right;">
                <button class="btn btn-secondary" id="closePermissionManager" style="padding: 5px 10px; font-size: 12px;">关闭</button>
            </div>
        </div>
    </div>`;document['\u0062\u006F\u0064\u0079']['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0xd03d8f);renderPermissionUserList();document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0073\u0061\u0076\u0065\u0054\u006F\u0043\u006C\u006F\u0075\u0064\u0042\u0074\u006E")['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("kcilc".split("").reverse().join(""),exportPermissionConfig);document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0061\u0064\u0064\u0055\u0073\u0065\u0072\u0042\u0074\u006E")['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("kcilc".split("").reverse().join(""),showAddUserModal);document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0063\u006C\u006F\u0073\u0065\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072")['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0063\u006C\u0069\u0063\u006B",()=>{_0xd03d8f['\u0072\u0065\u006D\u006F\u0076\u0065']();});}function renderPermissionUserList(_0x6e48ea){var _0x54be=(737489^737492)+(959963^959967);const _0x8d29f=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("tsiLresUnoissimrep".split("").reverse().join(""));_0x54be=(957457^957462)+(349274^349274);if(!_0x8d29f)return;var _0xd428c=(511549^511544)+(902758^902757);_0x6e48ea="\u003C\u0068\u0034\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0066\u006F\u006E\u0074\u002D\u0073\u0069\u007A\u0065\u003A\u0020\u0031\u0034\u0070\u0078\u003B\u0020\u006D\u0061\u0072\u0067\u0069\u006E\u003A\u0020\u0030\u0020\u0030\u0020\u0031\u0030\u0070\u0078\u0020\u0030\u003B\u0022\u003E\u7528\u6237\u6743\u9650\u914D\u7F6E\u003C\u002F\u0068\u0034\u003E";_0xd428c=(583745^583751)+(190895^190890);_0x6e48ea+=">\";otua :x-wolfrevo\"=elyts vid<".split("").reverse().join("");_0x6e48ea+="\u003C\u0074\u0061\u0062\u006C\u0065\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0077\u0069\u0064\u0074\u0068\u003A\u0020\u0031\u0030\u0030\u0025\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u002D\u0063\u006F\u006C\u006C\u0061\u0070\u0073\u0065\u003A\u0020\u0063\u006F\u006C\u006C\u0061\u0070\u0073\u0065\u003B\u0020\u0066\u006F\u006E\u0074\u002D\u0073\u0069\u007A\u0065\u003A\u0020\u0031\u0031\u0070\u0078\u003B\u0022\u003E";_0x6e48ea+="\u003C\u0074\u0068\u0065\u0061\u0064\u003E\u003C\u0074\u0072\u003E";_0x6e48ea+="\u003C\u0074\u0068\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0036\u0070\u0078\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u003A\u0020\u0031\u0070\u0078\u0020\u0073\u006F\u006C\u0069\u0064\u0020\u0023\u0064\u0064\u0064\u003B\u0020\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u003A\u0020\u0023\u0066\u0035\u0066\u0035\u0066\u0035\u003B\u0022\u003E\u7528\u6237\u540D\u003C\u002F\u0074\u0068\u003E";_0x6e48ea+="\u003C\u0074\u0068\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0036\u0070\u0078\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u003A\u0020\u0031\u0070\u0078\u0020\u0073\u006F\u006C\u0069\u0064\u0020\u0023\u0064\u0064\u0064\u003B\u0020\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u003A\u0020\u0023\u0066\u0035\u0066\u0035\u0066\u0035\u003B\u0022\u003E\u59D3\u540D\u003C\u002F\u0074\u0068\u003E";_0x6e48ea+="\u003C\u0074\u0068\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0036\u0070\u0078\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u003A\u0020\u0031\u0070\u0078\u0020\u0073\u006F\u006C\u0069\u0064\u0020\u0023\u0064\u0064\u0064\u003B\u0020\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u003A\u0020\u0023\u0066\u0035\u0066\u0035\u0066\u0035\u003B\u0022\u003E\u6743\u9650\u6A21\u677F\u003C\u002F\u0074\u0068\u003E";_0x6e48ea+="\u003C\u0074\u0068\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0036\u0070\u0078\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u003A\u0020\u0031\u0070\u0078\u0020\u0073\u006F\u006C\u0069\u0064\u0020\u0023\u0064\u0064\u0064\u003B\u0020\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u003A\u0020\u0023\u0066\u0035\u0066\u0035\u0066\u0035\u003B\u0022\u003E\u64CD\u4F5C\u003C\u002F\u0074\u0068\u003E";_0x6e48ea+="\u003C\u002F\u0074\u0072\u003E\u003C\u002F\u0074\u0068\u0065\u0061\u0064\u003E\u003C\u0074\u0062\u006F\u0064\u0079\u003E";window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](user=>{var _0x0cb0dc;const _0x8e4cda=window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']]||{"name":'自定义'};_0x0cb0dc=(640127^640119)+(356190^356189);_0x6e48ea+=`<tr>
            <td style="padding: 6px; border: 1px solid #ddd;">${user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']}</td>
            <td style="padding: 6px; border: 1px solid #ddd;">${user['\u006E\u0061\u006D\u0065']}</td>
            <td style="padding: 6px; border: 1px solid #ddd;">${_0x8e4cda['\u006E\u0061\u006D\u0065']||"\u81EA\u5B9A\u4E49"}</td>
            <td style="padding: 6px; border: 1px solid #ddd; white-space: nowrap;">
                <button class="btn btn-sm btn-primary" onclick="editUserPermissions('${user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']}')" 
                        style="padding: 2px 6px; font-size: 10px; margin-right: 3px;">编辑</button>
                ${user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']!=="uyiq".split("").reverse().join("")?`<button class="btn btn-sm btn-danger" onclick="deleteUser('${user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']}')" 
                            style="padding: 2px 6px; font-size: 10px;">删除</button>`:''}
            </td>
        </tr>`;});_0x6e48ea+=">vid/<>elbat/<>ydobt/<".split("").reverse().join("");_0x8d29f['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=_0x6e48ea;}function showAddUserModal(){const _0x7de=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("\u0064\u0069\u0076");_0x7de['\u0063\u006C\u0061\u0073\u0073\u004E\u0061\u006D\u0065']="\u006D\u006F\u0064\u0061\u006C";_0x7de['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0073\u0073\u0054\u0065\u0078\u0074']=`
        display: flex;
        position: fixed;
        z-index: 2002;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        justify-content: center;
        align-items: center;
    `;_0x7de['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
    <div class="modal-content" style="width: 500px; max-height: 90vh; overflow-y: auto; font-size: 12px;">
        <div class="modal-header">
            <h3 style="font-size: 16px; margin: 0;">添加新用户</h3>
            <button class="close-btn" onclick="this.closest('.modal').remove()" style="font-size: 20px; padding: 0 5px;">&times;</button>
        </div>
        <div style="padding: 15px;">
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">用户名：</label>
                <input type="text" id="newUsername" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" 
                       placeholder="只能使用字母、数字和下划线">
            </div>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">姓名：</label>
                <input type="text" id="newName" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" 
                       placeholder="显示姓名">
            </div>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">密码：</label>
                <input type="password" id="newPassword" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" 
                       placeholder="最少3位">
            </div>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">确认密码：</label>
                <input type="password" id="confirmPassword" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">权限模板：</label>
                <select id="userTemplate" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                    <option value="admin">超级管理员</option>
                    <option value="user" selected>普通用户</option>
                    <option value="customer">客户</option>
                </select>
            </div>
            
            <div id="customPermissions" style="display: none; margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <h5 style="margin-bottom: 10px;">自定义权限</h5>
                <div style="margin-bottom: 10px;">
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_viewAllSites">
                        查看所有工地
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_addSite">
                        添加工地
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_deleteSite">
                        删除工地
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_editQuote">
                        编辑报价
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_addItems">
                        添加分页项目
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_deleteItems">
                        删除分页项目
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_cloudSync">
                        云端同步
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_backupToFile">
                        备份到文件
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_loadFromFile">
                        从文件加载
                    </label>
                </div>
            </div>
            
            <div style="margin-top: 20px; display: flex; justify-content: space-between; align-items: center;">
                <button class="btn btn-primary" onclick="saveNewUser()" 
                        style="padding: 6px 12px; font-size: 12px;">保存用户</button>
                <button class="btn btn-secondary" onclick="this.closest('.modal').remove()" 
                        style="padding: 6px 12px; font-size: 12px;">取消</button>
            </div>
            
            <div id="addUserError" style="color: #dc3545; margin-top: 10px; display: none; font-size: 11px;"></div>
        </div>
    </div>`;document['\u0062\u006F\u0064\u0079']['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0x7de);document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0075\u0073\u0065\u0072\u0054\u0065\u006D\u0070\u006C\u0061\u0074\u0065")['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0063\u0068\u0061\u006E\u0067\u0065",function(){var _0x36ac7d;const _0x7e952b=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0063\u0075\u0073\u0074\u006F\u006D\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073");_0x36ac7d='\u006A\u0069\u0062\u0065\u0063\u006E';if(this['\u0076\u0061\u006C\u0075\u0065']==="motsuc".split("").reverse().join("")){_0x7e952b['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="kcolb".split("").reverse().join("");}else{_0x7e952b['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u006E\u006F\u006E\u0065";}});}function saveNewUser(){var _0x6a_0x1e9;const _0x95e89b=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u006E\u0065\u0077\u0055\u0073\u0065\u0072\u006E\u0061\u006D\u0065")['\u0076\u0061\u006C\u0075\u0065']['\u0074\u0072\u0069\u006D']();_0x6a_0x1e9=(518964^518964)+(579715^579723);const _0x1f348g=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u006E\u0065\u0077\u004E\u0061\u006D\u0065")['\u0076\u0061\u006C\u0075\u0065']['\u0074\u0072\u0069\u006D']();const _0x5agabg=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("drowssaPwen".split("").reverse().join(""))['\u0076\u0061\u006C\u0075\u0065'];var _0xe9ee=(281259^281259)+(738238^738235);const _0xa_0xag8=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0063\u006F\u006E\u0066\u0069\u0072\u006D\u0050\u0061\u0073\u0073\u0077\u006F\u0072\u0064")['\u0076\u0061\u006C\u0075\u0065'];_0xe9ee="mghhnl".split("").reverse().join("");const _0x597b1a=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0075\u0073\u0065\u0072\u0054\u0065\u006D\u0070\u006C\u0061\u0074\u0065")['\u0076\u0061\u006C\u0075\u0065'];const _0x6b_0x375=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("rorrEresUdda".split("").reverse().join(""));if(!_0x95e89b||!_0x1f348g||!_0x5agabg){_0x6b_0x375['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\u8BF7\u586B\u5199\u6240\u6709\u5FC5\u586B\u9879\uFF01";_0x6b_0x375['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";return;}if(!new RegExp('\u005E\u005B\u0061\u002D\u007A\u0041\u002D\u005A\u0030\u002D\u0039\u005F\u005D\u002B\u0024',"")['\u0074\u0065\u0073\u0074'](_0x95e89b)){_0x6b_0x375['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\uFF01\u7EBF\u5212\u4E0B\u548C\u5B57\u6570\u3001\u6BCD\u5B57\u542B\u5305\u80FD\u53EA\u540D\u6237\u7528".split("").reverse().join("");_0x6b_0x375['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="kcolb".split("").reverse().join("");return;}if(builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===_0x95e89b)){_0x6b_0x375['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\uFF01\u5728\u5B58\u5DF2\u540D\u6237\u7528".split("").reverse().join("");_0x6b_0x375['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";return;}if(_0x5agabg['\u006C\u0065\u006E\u0067\u0074\u0068']<(564701^564702)){_0x6b_0x375['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\u5BC6\u7801\u6700\u5C11\u9700\u8981\u0033\u4F4D\uFF01";_0x6b_0x375['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="kcolb".split("").reverse().join("");return;}if(_0x5agabg!==_0xa_0xag8){_0x6b_0x375['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4\uFF01";_0x6b_0x375['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";return;}var _0x00c6f;const _0xe365ad={'\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065':_0x95e89b,'\u0070\u0061\u0073\u0073\u0077\u006F\u0072\u0064':_0x5agabg,"name":_0x1f348g,'\u0069\u0073\u004C\u006F\u0063\u0061\u006C':!![]};_0x00c6f=(369145^369149)+(776668^776667);if(_0x597b1a==="\u0061\u0064\u006D\u0069\u006E"){_0xe365ad['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']=!![];}builtInUsers['\u0070\u0075\u0073\u0068'](_0xe365ad);if(_0x597b1a==="motsuc".split("").reverse().join("")){const templatePermissions=getTemplateByType("\u0075\u0073\u0065\u0072");PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][_0x95e89b]={"name":_0x1f348g,'\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':'自定义权限','\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{...templatePermissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']}};}else{var _0x_0x981=(713834^713834)+(246289^246296);const templatePermissions=getTemplateByType(_0x597b1a);_0x_0x981=(427421^427422)+(428490^428493);PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][_0x95e89b]={'\u006E\u0061\u006D\u0065':_0x1f348g,'\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':templatePermissions['\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E'],'\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{...templatePermissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']}};}savePermissionConfig();const _0xaaag=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("]\"2002 :xedni-z\"=*elyts[ladom.".split("").reverse().join(""));if(_0xaaag){_0xaaag['\u0072\u0065\u006D\u006F\u0076\u0065']();}setTimeout(()=>{const _0xe211b=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("]\"0002 :xedni-z\"=*elyts[ladom.".split("").reverse().join(""));if(_0xe211b&&document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("tsiLresUnoissimrep".split("").reverse().join(""))){renderPermissionUserList();}},951420^951320);console['\u006C\u006F\u0067'](`用户 ${_0x95e89b} (${_0x1f348g}) 已添加成功`);showSimpleToast(`用户 ${_0x1f348g} 添加成功`,"sseccus".split("").reverse().join(""));}function deleteUser(username){if(!isAdmin()){alert("\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u5220\u9664\u7528\u6237\uFF01");return;}if(username==="uyiq".split("").reverse().join("")){alert("\u4E0D\u80FD\u5220\u9664\u7BA1\u7406\u5458\u8D26\u6237\uFF01");return;}var _0xc3c7b;const _0x9fe4b=builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username);_0xc3c7b=(896881^896886)+(442165^442165);if(!_0x9fe4b)return;if(!confirm(`确定要删除用户 "${_0x9fe4b['\u006E\u0061\u006D\u0065']} (${username})" 吗？此操作不可恢复！`)){return;}const _0x09f2fb=builtInUsers['\u0066\u0069\u006E\u0064\u0049\u006E\u0064\u0065\u0078'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username);if(_0x09f2fb>-(144797^144796)){builtInUsers['\u0073\u0070\u006C\u0069\u0063\u0065'](_0x09f2fb,254560^254561);}if(PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]){delete PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username];}if(currentUser&&currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username){logout();}savePermissionConfig();var _0x2_0x8e3=(583886^583886)+(359602^359605);const _0x58a=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("\u002E\u006D\u006F\u0064\u0061\u006C");_0x2_0x8e3=(150373^150373)+(344459^344462);if(_0x58a){renderPermissionUserList();}setTimeout(()=>{if(typeof initTabs==="noitcnuf".split("").reverse().join("")){console['\u006C\u006F\u0067']("\u5220\u9664\u7528\u6237\u540E\u91CD\u65B0\u521D\u59CB\u5316\u6807\u7B7E\u9875");initTabs();}},608705^608677);alert("\u7528\u6237\u5220\u9664\u6210\u529F\uFF01");}function editUserPermissions(username){const _0xfc93a=builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username);if(!_0xfc93a)return;const _0x3c3ge=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]||getTemplateByType("\u0075\u0073\u0065\u0072");var _0xg6294e;const _0x65d=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("\u0064\u0069\u0076");_0xg6294e=(460746^460751)+(931600^931608);_0x65d['\u0063\u006C\u0061\u0073\u0073\u004E\u0061\u006D\u0065']="\u006D\u006F\u0064\u0061\u006C";_0x65d['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0073\u0073\u0054\u0065\u0078\u0074']=`
        display: flex;
        position: fixed;
        z-index: 2001;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        justify-content: center;
        align-items: center;
    `;_0x65d['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
        <div class="modal-content" style="width: 800px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h3>编辑权限 - ${_0xfc93a['\u006E\u0061\u006D\u0065']} (${username})</h3>
                <button class="close-btn" onclick="this.closest('.modal').remove()">&times;</button>
            </div>
            <div style="padding: 20px;">
                <div style="margin-bottom: 20px;">
                    <h4>用户权限配置</h4>
                    <p style="color: #666; font-size: 14px; margin-top: 5px;">
                        当前用户：${_0xfc93a['\u006E\u0061\u006D\u0065']} (${username})
                    </p>
                </div>
                
                <div id="permissionControls" style="margin-bottom: 20px;"></div>
                
                <div id="siteSelection" style="margin-bottom: 20px; display: ${_0x3c3ge['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073']?"\u006E\u006F\u006E\u0065":"kcolb".split("").reverse().join("")}">
                    <h4>选择可访问工地</h4>
                    <div style="max-height: 200px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; border-radius: 5px; background: #f9f9f9;">
                        <div id="siteCheckboxes"></div>
                    </div>
                </div>
                
                <div id="tabSelection" style="margin-bottom: 20px; display: ${_0x3c3ge['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073']?"enon".split("").reverse().join(""):"\u0062\u006C\u006F\u0063\u006B"}">
                    <h4>选择可访问标签页</h4>
                    <div style="display: flex; flex-wrap: wrap; gap: 10px; border: 1px solid #ddd; padding: 10px; border-radius: 5px;">
                        ${PERMISSION_CONFIG['\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073']['\u006D\u0061\u0070'](tab=>`
                            <label style="display: flex; align-items: center; gap: 5px; padding: 5px 10px; background: #f5f5f5; border-radius: 4px;">
                                <input type="checkbox" name="allowedTabs" value="${tab['\u0069\u0064']}" 
                                    ${_0x3c3ge['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']?.includes(tab['\u0069\u0064'])?"\u0063\u0068\u0065\u0063\u006B\u0065\u0064":''}>
                                ${tab['\u006E\u0061\u006D\u0065']}
                            </label>
                        `)['\u006A\u006F\u0069\u006E']('')}
                    </div>
                </div>
                
                <div style="text-align: right; margin-top: 20px;">
                    <button class="btn btn-primary" onclick="saveUserPermissions('${username}')">保存</button>
                    <button class="btn btn-secondary" onclick="this.closest('.modal').remove()">取消</button>
                </div>
            </div>
        </div>
    `;document['\u0062\u006F\u0064\u0079']['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0x65d);setTimeout(()=>{renderPermissionControls(username,_0x3c3ge);renderSiteCheckboxes(username,_0x3c3ge);},623670^623620);}function renderPermissionControls(username,permissions,_0xd78f1a){const _0xga08ba=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("slortnoCnoissimrep".split("").reverse().join(""));if(!_0xga08ba)return;const _0xce55b=[{'\u0069\u0064':"\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073",'\u006C\u0061\u0062\u0065\u006C':'查看所有工地'},{"id":"\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073",'\u006C\u0061\u0062\u0065\u006C':"\u67E5\u770B\u6240\u6709\u6807\u7B7E\u9875"},{"id":'addSite','\u006C\u0061\u0062\u0065\u006C':"\u6DFB\u52A0\u5DE5\u5730"},{"id":'deleteSite',"label":"\u5220\u9664\u5DE5\u5730"},{'\u0069\u0064':"\u0065\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065",'\u006C\u0061\u0062\u0065\u006C':"\u7F16\u8F91\u62A5\u4EF7"},{'\u0069\u0064':'addItems','\u006C\u0061\u0062\u0065\u006C':"\u6DFB\u52A0\u9879\u76EE"},{'\u0069\u0064':"\u0064\u0065\u006C\u0065\u0074\u0065\u0049\u0074\u0065\u006D\u0073",'\u006C\u0061\u0062\u0065\u006C':"\u5220\u9664\u9879\u76EE"},{'\u0069\u0064':"\u0063\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063",'\u006C\u0061\u0062\u0065\u006C':'云端同步'},{'\u0069\u0064':"\u0062\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065",'\u006C\u0061\u0062\u0065\u006C':"\u5907\u4EFD\u5230\u6587\u4EF6"},{'\u0069\u0064':"\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065","label":"\u4ECE\u6587\u4EF6\u52A0\u8F7D"}];_0xd78f1a="\u003C\u0068\u0034\u003E\u8BE6\u7EC6\u6743\u9650\u8BBE\u7F6E\u003C\u002F\u0068\u0034\u003E";_0xd78f1a+=">\";xp01 :pag ;))rf1 ,xp002(xamnim ,llif-otua(taeper :snmuloc-etalpmet-dirg ;dirg :yalpsid\"=elyts vid<".split("").reverse().join("");_0xd78f1a+=`
        <label style="display: flex; align-items: center; gap: 5px; padding: 5px; background: #f5f5f5; border-radius: 4px; color: #d32f2f; font-weight: bold;">
            <input type="checkbox" name="isAdmin" 
                ${permissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']?"dekcehc".split("").reverse().join(""):''}
                onchange="updatePermissionValue('${username}', 'isAdmin', this.checked)">
            设为系统管理员
        </label>
    `;_0xce55b['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](control=>{_0xd78f1a+=`
            <label style="display: flex; align-items: center; gap: 5px; padding: 5px; background: #f5f5f5; border-radius: 4px;">
                <input type="checkbox" name="${control['\u0069\u0064']}" 
                    ${permissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][control['\u0069\u0064']]?"dekcehc".split("").reverse().join(""):''}
                    onchange="updatePermissionValue('${username}', '${control['\u0069\u0064']}', this.checked)">
                ${control['\u006C\u0061\u0062\u0065\u006C']}
            </label>
        `;});_0xd78f1a+="\u003C\u002F\u0064\u0069\u0076\u003E";_0xga08ba['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=_0xd78f1a;}function updatePermissionValue(username,permission,value){if(!PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]){PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]=JSON['\u0070\u0061\u0072\u0073\u0065'](JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](getTemplateByType("\u0075\u0073\u0065\u0072")));}PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][permission]=value;var _0x670fe;const _0x7877c=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0073\u0069\u0074\u0065\u0053\u0065\u006C\u0065\u0063\u0074\u0069\u006F\u006E");_0x670fe=(149130^149131)+(591101^591096);const _0xa827ce=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0074\u0061\u0062\u0053\u0065\u006C\u0065\u0063\u0074\u0069\u006F\u006E");if(permission==="\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073"&&_0x7877c){_0x7877c['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']=value?"\u006E\u006F\u006E\u0065":"\u0062\u006C\u006F\u0063\u006B";}if(permission==="\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073"&&_0xa827ce){_0xa827ce['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']=value?"\u006E\u006F\u006E\u0065":"kcolb".split("").reverse().join("");}}function renderSiteCheckboxes(username,permissions,_0x0916g){var _0x7f621b;const _0xa2_0xf68=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0073\u0069\u0074\u0065\u0043\u0068\u0065\u0063\u006B\u0062\u006F\u0078\u0065\u0073");_0x7f621b="dnbbdd".split("").reverse().join("");if(!_0xa2_0xf68)return;var _0xf1e8de;let _0x62geb=[];_0xf1e8de=214326^214324;if(window['\u0073\u0069\u0074\u0065\u0073']&&Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](window['\u0073\u0069\u0074\u0065\u0073'])){_0x62geb=window['\u0073\u0069\u0074\u0065\u0073'];}else{try{var _0x91fc5f;const _0xbafc2c=localStorage['\u0067\u0065\u0074\u0049\u0074\u0065\u006D']("\u0063\u006F\u006E\u0073\u0074\u0072\u0075\u0063\u0074\u0069\u006F\u006E\u0053\u0069\u0074\u0065\u0073");_0x91fc5f='\u0067\u006A\u0063\u006C\u0067\u006E';if(_0xbafc2c){_0x62geb=JSON['\u0070\u0061\u0072\u0073\u0065'](_0xbafc2c);}}catch(e){console['\u0077\u0061\u0072\u006E']("\u4ECE\u006C\u006F\u0063\u0061\u006C\u0053\u0074\u006F\u0072\u0061\u0067\u0065\u52A0\u8F7D\u5DE5\u5730\u6570\u636E\u5931\u8D25\u003A",e);}}if(_0x62geb['\u006C\u0065\u006E\u0067\u0074\u0068']===(331041^331041)){_0xa2_0xf68['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
            <div style="text-align: center; padding: 20px; color: #666;">
                <div style="margin-bottom: 10px;">暂无工地数据</div>
                <small style="font-size: 12px;">
                    请先添加工地，或刷新页面后重试
                </small>
            </div>
        `;return;}_0x0916g="\u003C\u0064\u0069\u0076\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0064\u0069\u0073\u0070\u006C\u0061\u0079\u003A\u0020\u0066\u006C\u0065\u0078\u003B\u0020\u0066\u006C\u0065\u0078\u002D\u0064\u0069\u0072\u0065\u0063\u0074\u0069\u006F\u006E\u003A\u0020\u0063\u006F\u006C\u0075\u006D\u006E\u003B\u0020\u0067\u0061\u0070\u003A\u0020\u0035\u0070\u0078\u003B\u0022\u003E";_0x62geb['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](site=>{const _0xgf3ce=permissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073']?.includes(site['\u0069\u0064'])||false;const _0x1f5e1e=site['\u006E\u0061\u006D\u0065']||`未命名工地 (${site['\u0069\u0064']})`;_0x0916g+=`
            <label style="display: flex; align-items: center; gap: 8px; padding: 5px 10px; border: 1px solid #eee; border-radius: 4px; cursor: pointer;">
                <input type="checkbox" name="allowedSites" value="${site['\u0069\u0064']}" 
                    ${_0xgf3ce?"\u0063\u0068\u0065\u0063\u006B\u0065\u0064":''}
                    style="margin: 0;">
                <span style="flex: 1; font-size: 14px;">${_0x1f5e1e}</span>
                <span style="font-size: 12px; color: #666;">${site['\u0069\u0064']}</span>
            </label>
        `;});_0x0916g+="\u003C\u002F\u0064\u0069\u0076\u003E";_0xa2_0xf68['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=_0x0916g;}function saveUserPermissions(username){if(!PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]){PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]={"name":builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username)?.name||username,'\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':'独立权限配置','\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{...getTemplateByType("\u0075\u0073\u0065\u0072")['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']}};}var _0xfgc;const _0xaedd=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("dekcehc:]\"setiSdewolla\"=eman[tupni".split("").reverse().join(""));_0xfgc='\u0071\u006F\u0062\u0070\u0066\u0064';PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073']=Array['\u0066\u0072\u006F\u006D'](_0xaedd)['\u006D\u0061\u0070'](cb=>cb['\u0076\u0061\u006C\u0075\u0065']);const _0x9b43df=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("dekcehc:]\"sbaTdewolla\"=eman[tupni".split("").reverse().join(""));PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']=Array['\u0066\u0072\u006F\u006D'](_0x9b43df)['\u006D\u0061\u0070'](cb=>cb['\u0076\u0061\u006C\u0075\u0065']);savePermissionConfig();document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("\u002E\u006D\u006F\u0064\u0061\u006C")['\u0072\u0065\u006D\u006F\u0076\u0065']();setTimeout(()=>{var _0xda2bd;const _0xf7816d=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("ladom.".split("").reverse().join(""));_0xda2bd=(824857^824858)+(414289^414290);if(_0xf7816d){renderPermissionUserList();}},639707^639679);alert("\u5B58\u4FDD\u5DF2\u9650\u6743".split("").reverse().join(""));}async function exportPermissionConfig(){if(!isAdmin()){alert("\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u5BFC\u51FA\u6743\u9650\u914D\u7F6E\uFF01");return;}savePermissionConfig();let _0x8c108e=GIST_CONFIG['\u0047\u0049\u0054\u0048\u0055\u0042\u005F\u0054\u004F\u004B\u0045\u004E'];if(!_0x8c108e||_0x8c108e['\u006C\u0065\u006E\u0067\u0074\u0068']<(337522^337528)){_0x8c108e=await ensureGitHubToken({"checkDataSize":false,'\u0070\u0075\u0072\u0070\u006F\u0073\u0065':'config','\u0073\u0068\u006F\u0077\u0057\u0061\u0072\u006E\u0069\u006E\u0067':false});if(!_0x8c108e){alert("\u4E0A\u4F20\u6743\u9650\u914D\u7F6E\u9700\u8981\u0020\u0047\u0069\u0074\u0048\u0075\u0062\u0020\u0054\u006F\u006B\u0065\u006E\uFF0C\u5DF2\u53D6\u6D88");return;}}var _0xde7ddb=(170524^170527)+(732033^732035);let _0x5_0x959=CLOUD_CONFIG['\u0047\u0049\u0053\u0054\u005F\u0049\u0044'];_0xde7ddb='\u006C\u0069\u0063\u0070\u006B\u0068';const _0xc7ed=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("vid".split("").reverse().join(""));_0xc7ed['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']="...\u7AEF\u4E91\u5230\u7F6E\u914D\u9650\u6743\u4F20\u4E0A\u5728\u6B63".split("").reverse().join("");_0xc7ed['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0073\u0073\u0054\u0065\u0078\u0074']=`
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 20px 30px;
        border-radius: 10px;
        z-index: 9999;
        text-align: center;
        min-width: 200px;
    `;document['\u0062\u006F\u0064\u0079']['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0xc7ed);try{var _0x2f_0xe54;const _0x6_0x698=`// 权限配置数据结构
const PERMISSION_CONFIG = ${JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](PERMISSION_CONFIG,null,260538^260542)};

// ==================== 权限管理系统 ====================
// 内置用户列表
const builtInUsers = ${JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](builtInUsers,null,329790^329788)};`;_0x2f_0xe54=(256204^256196)+(890598^890596);const _0xa5a5b=await fetch(`https://api.github.com/gists/${_0x5_0x959}`,{'\u006D\u0065\u0074\u0068\u006F\u0064':"\u0050\u0041\u0054\u0043\u0048",'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{'Authorization':`token ${_0x8c108e}`,'Content-Type':'application/json','Accept':"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u0067\u0069\u0074\u0068\u0075\u0062\u002E\u0076\u0033\u002B\u006A\u0073\u006F\u006E"},'\u0062\u006F\u0064\u0079':JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({"description":`权限配置文件更新 - ${new Date()['\u0074\u006F\u004C\u006F\u0063\u0061\u006C\u0065\u0053\u0074\u0072\u0069\u006E\u0067']()}`,'\u0066\u0069\u006C\u0065\u0073':{[CLOUD_FILE_NAMES['\u0055\u0053\u0045\u0052\u005F\u0043\u004F\u004E\u0046\u0049\u0047']]:{'\u0063\u006F\u006E\u0074\u0065\u006E\u0074':_0x6_0x698}}})});if(_0xc7ed['\u0070\u0061\u0072\u0065\u006E\u0074\u004E\u006F\u0064\u0065']){_0xc7ed['\u0072\u0065\u006D\u006F\u0076\u0065']();}if(_0xa5a5b['\u006F\u006B']){alert(`✅ 权限配置已成功上传到云端！\n文件名：${CLOUD_FILE_NAMES['\u0055\u0053\u0045\u0052\u005F\u0043\u004F\u004E\u0046\u0049\u0047']}`);}else{var _0x3g_0x433=(901543^901541)+(768482^768487);const _0x56c2af=await _0xa5a5b['\u0074\u0065\u0078\u0074']();_0x3g_0x433=(849847^849840)+(393057^393057);console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u4F20\u4E0A".split("").reverse().join(""),_0x56c2af);if(_0xa5a5b['\u0073\u0074\u0061\u0074\u0075\u0073']===(657024^657169)){alert("\u3002nekoT buHtiG \u7F6E\u914D\u65B0\u91CD\u8BF7\n\n\uFF01\u6548\u65E0\u6216\u671F\u8FC7\u5DF2 nekoT buHtiG".split("").reverse().join(""));localStorage['\u0072\u0065\u006D\u006F\u0076\u0065\u0049\u0074\u0065\u006D']("gifnoc_buhtig".split("").reverse().join(""));GIST_CONFIG['\u0047\u0049\u0054\u0048\u0055\u0042\u005F\u0054\u004F\u004B\u0045\u004E']='';GIST_CONFIG['\u0063\u006F\u006E\u0066\u0069\u0067\u004C\u006F\u0061\u0064\u0065\u0064']=false;}else{alert(`上传失败：${_0xa5a5b['\u0073\u0074\u0061\u0074\u0075\u0073']} ${_0xa5a5b['\u0073\u0074\u0061\u0074\u0075\u0073\u0054\u0065\u0078\u0074']}`);}}}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u4E0A\u4F20\u5F02\u5E38\u003A",error);if(_0xc7ed['\u0070\u0061\u0072\u0065\u006E\u0074\u004E\u006F\u0064\u0065']){_0xc7ed['\u0072\u0065\u006D\u006F\u0076\u0065']();}alert("\uFF1A\u8D25\u5931\u4F20\u4E0A".split("").reverse().join("")+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);}}var _0x9c43c=(205971^205974)+(741731^741731);let originalShowChangeLog=null;_0x9c43c=919078^919077;function wrapChangeLogWithPermission(){if(typeof window['\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){originalShowChangeLog=window['\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067'];window['\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=function(){if(!canShowChangeLog()){alert("\u26A0\uFE0F\u0020\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u67E5\u770B\u66F4\u6539\u65E5\u5FD7\uFF01");return;}if(originalShowChangeLog){originalShowChangeLog();}};}}function saveUserPermissions(username){if(!PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]){PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]={'\u006E\u0061\u006D\u0065':builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username)?.name||username,"description":'独立权限配置','\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{...getTemplateByType("\u0075\u0073\u0065\u0072")['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']}};}var _0x2db9cf=(738134^738132)+(440659^440660);const _0xg8f=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0069\u006E\u0070\u0075\u0074\u005B\u006E\u0061\u006D\u0065\u003D\u0022\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073\u0022\u005D\u003A\u0063\u0068\u0065\u0063\u006B\u0065\u0064");_0x2db9cf=(989370^989368)+(433681^433687);PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073']=Array['\u0066\u0072\u006F\u006D'](_0xg8f)['\u006D\u0061\u0070'](cb=>cb['\u0076\u0061\u006C\u0075\u0065']);var _0x12e4a=(699706^699709)+(239284^239282);const _0xafc=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("dekcehc:]\"sbaTdewolla\"=eman[tupni".split("").reverse().join(""));_0x12e4a=(939382^939390)+(109584^109591);PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']=Array['\u0066\u0072\u006F\u006D'](_0xafc)['\u006D\u0061\u0070'](cb=>cb['\u0076\u0061\u006C\u0075\u0065']);savePermissionConfig();var _0xdcbbgg;const _0x7_0x423=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("]\"1002 :xedni-z\"=*elyts[ladom.".split("").reverse().join(""));_0xdcbbgg='\u0066\u0065\u0061\u0065\u0061\u0067';if(_0x7_0x423){_0x7_0x423['\u0072\u0065\u006D\u006F\u0076\u0065']();}setTimeout(()=>{const _0x3855d=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("\u002E\u006D\u006F\u0064\u0061\u006C\u005B\u0073\u0074\u0079\u006C\u0065\u002A\u003D\u0022\u007A\u002D\u0069\u006E\u0064\u0065\u0078\u003A\u0020\u0032\u0030\u0030\u0030\u0022\u005D");if(_0x3855d&&document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0055\u0073\u0065\u0072\u004C\u0069\u0073\u0074")){renderPermissionUserList();}},755025^754997);console['\u006C\u006F\u0067']("\u5B58\u4FDD\u5DF2\u9650\u6743".split("").reverse().join(""));showSimpleToast("\u5B58\u4FDD\u5DF2\u9650\u6743".split("").reverse().join(""),"sseccus".split("").reverse().join(""));}document['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("dedaoLtnetnoCMOD".split("").reverse().join(""),function(){setTimeout(function(){if(typeof initPermissionSystem==="noitcnuf".split("").reverse().join("")){initPermissionSystem();}},920007^919787);setTimeout(wrapChangeLogWithPermission,123133^123145);});window['\u0068\u0061\u0073\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E']=hasPermission;window['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']=isAdmin;window['\u0063\u0061\u006E\u0056\u0069\u0065\u0077\u0053\u0069\u0074\u0065']=canViewSite;window['\u0063\u0061\u006E\u0056\u0069\u0065\u0077\u0054\u0061\u0062']=canViewTab;window['\u0063\u0061\u006E\u0041\u0064\u0064\u0053\u0069\u0074\u0065']=canAddSite;window['\u0063\u0061\u006E\u0043\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063']=canCloudSync;window['\u0063\u0061\u006E\u0042\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065']=canBackupToFile;window['\u0063\u0061\u006E\u004C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065']=canLoadFromFile;window['\u0063\u0061\u006E\u0045\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065']=canEditQuote;window['\u0063\u0061\u006E\u0041\u0064\u0064']=canAdd;window['\u0063\u0061\u006E\u0044\u0065\u006C\u0065\u0074\u0065']=canDelete;window['\u0063\u0061\u006E\u0044\u0065\u006C\u0065\u0074\u0065\u0053\u0069\u0074\u0065']=canDeleteSite;window['\u0063\u0061\u006E\u0053\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072']=canShowPermissionManager;window['\u0063\u0061\u006E\u0053\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=canShowChangeLog;window['\u0067\u0065\u0074\u0041\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']=getAllowedTabs;window['\u0069\u006E\u0069\u0074\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0053\u0079\u0073\u0074\u0065\u006D']=initPermissionSystem;window['\u006C\u006F\u0061\u0064\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0043\u006F\u006E\u0066\u0069\u0067']=loadPermissionConfig;window['\u0073\u0061\u0076\u0065\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0043\u006F\u006E\u0066\u0069\u0067']=savePermissionConfig;window['\u0073\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072']=showPermissionManager;window['\u0065\u0078\u0070\u006F\u0072\u0074\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0043\u006F\u006E\u0066\u0069\u0067']=exportPermissionConfig;window['\u0065\u0064\u0069\u0074\u0055\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']=editUserPermissions;window['\u0073\u0061\u0076\u0065\u0055\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']=saveUserPermissions;window['\u0075\u0070\u0064\u0061\u0074\u0065\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0056\u0061\u006C\u0075\u0065']=updatePermissionValue;window['\u0073\u0068\u006F\u0077\u0041\u0064\u0064\u0055\u0073\u0065\u0072\u004D\u006F\u0064\u0061\u006C']=showAddUserModal;window['\u0064\u0065\u006C\u0065\u0074\u0065\u0055\u0073\u0065\u0072']=deleteUser;