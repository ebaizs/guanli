if(typeof window['\u0041\u0044\u004D\u0049\u004E\u005F\u0055\u0053\u0045\u0052\u0053']==="denifednu".split("").reverse().join("")){window['\u0041\u0044\u004D\u0049\u004E\u005F\u0055\u0053\u0045\u0052\u0053']=["\u0061\u0064\u006D\u0069\u006E","uyiq".split("").reverse().join("")];}var _0xgaab4f;const localAdminUser={"username":"qiyu","\u0070\u0061\u0073\u0073\u0077\u006F\u0072\u0064":"\u0038\u0034\u0031\u0038","\u006E\u0061\u006D\u0065":"系统管理员","\u0069\u0073\u004C\u006F\u0063\u0061\u006C":!![],"isAdmin":!![]};_0xgaab4f=223467^223458;if(typeof window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']==="\u0075\u006E\u0064\u0065\u0066\u0069\u006E\u0065\u0064"){window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']=[];}if(typeof window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']==="\u0075\u006E\u0064\u0065\u0066\u0069\u006E\u0065\u0064"){window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']={"userPermissions":{},'\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073':[]};}if(typeof window['\u0063\u0075\u0072\u0072\u0065\u006E\u0074\u0055\u0073\u0065\u0072']==="\u0075\u006E\u0064\u0065\u0066\u0069\u006E\u0065\u0064"){window['\u0063\u0075\u0072\u0072\u0065\u006E\u0074\u0055\u0073\u0065\u0072']=null;}var _0x58db=(821442^821445)+(294738^294747);const localBuiltInUsers=[{"username":"\u0031","password":"1234","\u006E\u0061\u006D\u0065":"\u6D4B\u8BD5","\u0069\u0073\u004C\u006F\u0063\u0061\u006C":!![],"isAdmin":false},localAdminUser];_0x58db='\u006D\u006A\u0069\u006F\u006C\u006A';window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']=[...localBuiltInUsers];window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']["\u0031"]={"name":"\u6D4B\u8BD5","description":'默认权限',"permissions":{'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073':!![],"addSite":!![],"cloudSync":!![],"editQuote":!![],'\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073':!![],"allowedSites":[],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073':[]}};window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']['\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073']=[{"id":"\u0070\u0072\u006F\u0067\u0072\u0065\u0073\u0073\u0054\u0061\u0062","name":"进度"},{"id":"todoTab",'\u006E\u0061\u006D\u0065':"\u5F85\u529E"},{'\u0069\u0064':"expenseTab",'\u006E\u0061\u006D\u0065':"支出"},{'\u0069\u0064':"\u0072\u0065\u0071\u0075\u0069\u0072\u0065\u006D\u0065\u006E\u0074\u0054\u0061\u0062","name":"\u5BA2\u6237\u8981\u6C42"},{'\u0069\u0064':"\u0064\u0061\u0069\u006C\u0079\u004C\u006F\u0067\u0054\u0061\u0062","name":"日常记录"},{'\u0069\u0064':"repairTab","name":"待维修"},{'\u0069\u0064':"\u0077\u006F\u0072\u006B\u0065\u0072\u0054\u0061\u0062",'\u006E\u0061\u006D\u0065':"\u5DE5\u4EBA"},{'\u0069\u0064':"quoteTab",'\u006E\u0061\u006D\u0065':"报价"},{'\u0069\u0064':"\u0061\u0064\u0064\u0052\u0065\u006D\u006F\u0076\u0065\u0054\u0061\u0062",'\u006E\u0061\u006D\u0065':"\u589E\u51CF\u9879"},{'\u0069\u0064':"drawingTab",'\u006E\u0061\u006D\u0065':"图纸"},{"id":"experienceTab","name":"经验总结"}];function getTemplateByType(templateType){const _0xc2g1c={'admin':{'\u006E\u0061\u006D\u0065':"\u8D85\u7EA7\u7BA1\u7406\u5458","description":'拥有所有权限',"permissions":{"viewAllSites":!![],"addSite":!![],'\u0063\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063':!![],'\u0062\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065':!![],'\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065':!![],'\u0065\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065':!![],'\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073':!![],'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073':!![],"deleteSite":!![],'\u0064\u0065\u006C\u0065\u0074\u0065\u0049\u0074\u0065\u006D\u0073':!![],'\u0065\u0064\u0069\u0074\u0041\u006C\u006C':!![],'\u0065\u0078\u0070\u006F\u0072\u0074\u0044\u0061\u0074\u0061':!![],"importData":!![],"viewLogs":!![],"showChangeLog":!![],'\u0073\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072':!![],"refreshCloudUsers":!![],'\u0069\u0073\u0041\u0064\u006D\u0069\u006E':!![],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073':[],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073':[]}},'user':{"name":"\u666E\u901A\u002D\u7528\u6237","description":"\u666E\u901A\u7528\u6237\u6743\u9650","permissions":{"addSite":!![],"cloudSync":!![],"backupToFile":!![],'\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065':!![],'\u0065\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065':false,'\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073':!![],'\u0064\u0065\u006C\u0065\u0074\u0065\u0053\u0069\u0074\u0065':false,'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073':false,"viewAllTabs":false,"deleteItems":false,"editAll":false,"exportData":false,'\u0069\u006D\u0070\u006F\u0072\u0074\u0044\u0061\u0074\u0061':false,"viewLogs":false,"showChangeLog":false,'\u0073\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072':false,'\u0072\u0065\u0066\u0072\u0065\u0073\u0068\u0043\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0073':false,'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073':["\u0073\u0069\u0074\u0065\u0030\u0030\u0031"],'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073':["\u0072\u0065\u0070\u0061\u0069\u0072\u0054\u0061\u0062","baTtnemeriuqer".split("").reverse().join(""),"\u0074\u006F\u0064\u006F\u0054\u0061\u0062","\u0064\u0072\u0061\u0077\u0069\u006E\u0067\u0054\u0061\u0062","\u0064\u0061\u0069\u006C\u0079\u004C\u006F\u0067\u0054\u0061\u0062"]}},'customer':{"name":"\u5BA2\u6237","description":"\u5BA2\u6237\u6743\u9650\uFF08\u53EA\u80FD\u67E5\u770B\u6307\u5B9A\u5185\u5BB9\uFF09",'\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073':false,'\u0061\u0064\u0064\u0053\u0069\u0074\u0065':false,'\u0063\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063':false,'\u0062\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065':false,'\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065':false,"editQuote":false,"addItems":false,'\u0064\u0065\u006C\u0065\u0074\u0065\u0053\u0069\u0074\u0065':false,'\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073':false,"deleteItems":false,"editAll":false,'\u0065\u0078\u0070\u006F\u0072\u0074\u0044\u0061\u0074\u0061':false,'\u0069\u006D\u0070\u006F\u0072\u0074\u0044\u0061\u0074\u0061':false,'\u0076\u0069\u0065\u0077\u004C\u006F\u0067\u0073':false,'\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067':false,'\u0073\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072':false,'\u0072\u0065\u0066\u0072\u0065\u0073\u0068\u0043\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0073':false,'\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073':[],"allowedTabs":["\u0072\u0065\u0070\u0061\u0069\u0072\u0054\u0061\u0062","\u0072\u0065\u0071\u0075\u0069\u0072\u0065\u006D\u0065\u006E\u0074\u0054\u0061\u0062","baTodot".split("").reverse().join("")]}}};return _0xc2g1c[templateType]||_0xc2g1c["\u0075\u0073\u0065\u0072"];}function hasPermission(permissionName){if(!currentUser){return false;}if(isAdmin()){return!![];}var _0xcg1dc=(492996^493004)+(640970^640962);const _0xdc39b=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];_0xcg1dc=903861^903860;if(!_0xdc39b){return false;}return _0xdc39b['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][permissionName]||false;}function isAdmin(){if(!currentUser)return false;if(currentUser['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']===!![]){return!![];}if(window['\u0041\u0044\u004D\u0049\u004E\u005F\u0055\u0053\u0045\u0052\u0053']&&window['\u0041\u0044\u004D\u0049\u004E\u005F\u0055\u0053\u0045\u0052\u0053']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065'])){return!![];}var _0x857a1b=(356691^356689)+(353330^353328);const _0x51b4fe=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];_0x857a1b=(213388^213391)+(992159^992159);if(_0x51b4fe&&_0x51b4fe['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']&&_0x51b4fe['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']===!![]){return!![];}return false;}function canViewSite(siteId){if(!currentUser)return false;if(hasPermission("\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073")){return!![];}var _0x7299d=(874652^874653)+(249430^249425);const _0x672bd=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];_0x7299d=(335211^335214)+(505061^505062);if(!_0x672bd)return false;return _0x672bd['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073']?.includes(siteId)||false;}function canViewTab(tabId){if(!currentUser)return false;if(isAdmin()){return!![];}var _0x4ab=(986157^986158)+(907201^907201);const _0x0b114g=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];_0x4ab=(683048^683054)+(756481^756482);if(_0x0b114g&&_0x0b114g['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073']===!![]){return!![];}return _0x0b114g?.permissions?.allowedTabs?.includes(tabId)||false;}function canAddSite(){return hasPermission("\u0061\u0064\u0064\u0053\u0069\u0074\u0065");}function canCloudSync(){return hasPermission("\u0063\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063");}function canBackupToFile(){return hasPermission("\u0062\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065");}function canLoadFromFile(){return hasPermission("eliFmorFdaol".split("").reverse().join(""));}function canEditQuote(){return hasPermission("etouQtide".split("").reverse().join(""));}function canAdd(){return hasPermission("smetIdda".split("").reverse().join(""));}function canDelete(){return hasPermission("\u0064\u0065\u006C\u0065\u0074\u0065\u0049\u0074\u0065\u006D\u0073");}function canDeleteSite(){return hasPermission("\u0064\u0065\u006C\u0065\u0074\u0065\u0053\u0069\u0074\u0065");}function canShowPermissionManager(){return hasPermission("reganaMnoissimrePwohs".split("").reverse().join(""));}function canShowChangeLog(){return hasPermission("\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067");}function getAllowedTabs(){console['\u006C\u006F\u0067']("\u003D\u003D\u003D\u0020\u0067\u0065\u0074\u0041\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073\u0020\u6267\u884C\u0020\u003D\u003D\u003D");console['\u006C\u006F\u0067']("\u5F53\u524D\u7528\u6237\u003A",currentUser);if(!currentUser){console['\u006C\u006F\u0067']("\u6CA1\u6709\u5F53\u524D\u7528\u6237\uFF0C\u8FD4\u56DE\u7A7A\u6570\u7EC4");return[];}if(hasPermission("\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073")){console['\u006C\u006F\u0067']("\u62E5\u6709\u0020\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073\u0020\u6743\u9650\uFF0C\u8FD4\u56DE\u6240\u6709\u53EF\u7528\u6807\u7B7E");return PERMISSION_CONFIG['\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073'];}const _0x7g168e=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']];console['\u006C\u006F\u0067'](":\u7F6E\u914D\u9650\u6743\u6237\u7528".split("").reverse().join(""),_0x7g168e);if(!_0x7g168e||!_0x7g168e['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']){console['\u006C\u006F\u0067']("\u6CA1\u6709\u7528\u6237\u6743\u9650\u914D\u7F6E\u6216\u0020\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073\uFF0C\u8FD4\u56DE\u7A7A\u6570\u7EC4");return[];}console['\u006C\u006F\u0067']("\u7528\u6237\u5141\u8BB8\u7684\u6807\u7B7E\u003A",_0x7g168e['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']);const _0x8a01c=PERMISSION_CONFIG['\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073']['\u0066\u0069\u006C\u0074\u0065\u0072'](tab=>_0x7g168e['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](tab['\u0069\u0064']));console['\u006C\u006F\u0067']("\u8FC7\u6EE4\u540E\u7684\u6807\u7B7E\u003A",_0x8a01c);return _0x8a01c;}function loadPermissionConfig(){try{var _0xd8998a;const _0x557c0e=localStorage['\u0067\u0065\u0074\u0049\u0074\u0065\u006D']("gifnoc_noissimrep".split("").reverse().join(""));_0xd8998a=239452^239455;if(_0x557c0e){const _0xde_0xba7=JSON['\u0070\u0061\u0072\u0073\u0065'](_0x557c0e);PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']=_0xde_0xba7['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']||{};}}catch(e){console['\u0077\u0061\u0072\u006E']("\u52A0\u8F7D\u6743\u9650\u914D\u7F6E\u5931\u8D25\u003A",e);}}function savePermissionConfig(){try{localStorage['\u0073\u0065\u0074\u0049\u0074\u0065\u006D']("\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u005F\u0063\u006F\u006E\u0066\u0069\u0067",JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({"userPermissions":PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'],'\u006C\u0061\u0073\u0074\u004D\u006F\u0064\u0069\u0066\u0069\u0065\u0064':new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()}));}catch(e){console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u7F6E\u914D\u9650\u6743\u5B58\u4FDD".split("").reverse().join(""),e);}}function initPermissionSystem(){loadPermissionConfig();setTimeout(async()=>{try{if(typeof window['\u006C\u006F\u0061\u0064\u0043\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0044\u0061\u0074\u0061']==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){var _0x6eeee=(282105^282105)+(641010^641009);const _0xe8d73f=await window['\u006C\u006F\u0061\u0064\u0043\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0044\u0061\u0074\u0061']();_0x6eeee=(353761^353760)+(240535^240532);if(_0xe8d73f){console['\u006C\u006F\u0067']("\u4E91\u7AEF\u8D26\u6237\u6570\u636E\u5DF2\u52A0\u8F7D");var _0x57952b=(227279^227277)+(485694^485689);const _0x42a=window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']['\u0066\u0069\u006C\u0074\u0065\u0072'](u=>!u['\u0069\u0073\u004C\u006F\u0063\u0061\u006C']);_0x57952b="oeojgg".split("").reverse().join("");localStorage['\u0073\u0065\u0074\u0049\u0074\u0065\u006D']("\u0063\u006C\u006F\u0075\u0064\u0055\u0073\u0065\u0072\u0044\u0061\u0074\u0061",JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({'\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073':_0x42a,'\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047':window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047'],"timestamp":new Date()['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()}));}}}catch(e){console['\u0077\u0061\u0072\u006E']("\u5F02\u6B65\u52A0\u8F7D\u4E91\u7AEF\u6570\u636E\u5931\u8D25\u003A",e);}},205956^208700);}function showPermissionManager(){if(!isAdmin()){alert("\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u7BA1\u7406\u6743\u9650\uFF01");return;}var _0xea_0x61a=(757801^757792)+(440290^440298);const _0x4b7c=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("\u0064\u0069\u0076");_0xea_0x61a="pkdakc".split("").reverse().join("");_0x4b7c['\u0063\u006C\u0061\u0073\u0073\u004E\u0061\u006D\u0065']="ladom".split("").reverse().join("");_0x4b7c['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0073\u0073\u0054\u0065\u0078\u0074']=`
        display: flex;
        position: fixed;
        z-index: 2000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        justify-content: center;
        align-items: center;
    `;_0x4b7c['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
    <div class="modal-content" style="width: 900px; max-height: 90vh; overflow-y: auto; font-size: 12px;">
        <div class="modal-header">
            <h3 style="font-size: 16px; margin: 0;">用户权限管理</h3>
            <button class="close-btn" onclick="this.closest('.modal').remove()" style="font-size: 20px; padding: 0 5px;" name="closePermissionManagerBtn">&times;</button>
        </div>
        <div style="padding: 15px;">
            <div style="margin-bottom: 15px;">
                <h4 style="font-size: 14px; margin: 0 0 10px 0;">权限配置操作</h4>
                <div style="display: flex; gap: 8px; margin-bottom: 8px;">
                    <button class="btn btn-success" id="addUserBtn" style="padding: 5px 10px; font-size: 14px; flex: 1;" name="addUserBtn">添加用户</button>
                    <button class="btn btn-primary" id="saveToCloudBtn" style="padding: 5px 10px; font-size: 14px; flex: 1;" name="saveToCloudBtn">保存并上传到云端</button>
                </div>
            </div>
            
            <div id="permissionUserList" style="margin-bottom: 15px;">
                <!-- 用户列表会动态生成 -->
            </div>
            
            <div style="text-align: right;">
                <button class="btn btn-secondary" id="closePermissionManager" style="padding: 5px 10px; font-size: 12px;" name="closePermissionManager">关闭</button>
            </div>
        </div>
    </div>`;document['\u0062\u006F\u0064\u0079']['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0x4b7c);renderPermissionUserList();document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0073\u0061\u0076\u0065\u0054\u006F\u0043\u006C\u006F\u0075\u0064\u0042\u0074\u006E")['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0063\u006C\u0069\u0063\u006B",exportPermissionConfig);document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0061\u0064\u0064\u0055\u0073\u0065\u0072\u0042\u0074\u006E")['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("kcilc".split("").reverse().join(""),showAddUserModal);document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0063\u006C\u006F\u0073\u0065\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072")['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0063\u006C\u0069\u0063\u006B",()=>{_0x4b7c['\u0072\u0065\u006D\u006F\u0076\u0065']();});}function renderPermissionUserList(_0x3176g){const _0x951b=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("tsiLresUnoissimrep".split("").reverse().join(""));if(!_0x951b)return;var _0xc53be=(721255^721249)+(877214^877207);_0x3176g="\u003C\u0068\u0034\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0066\u006F\u006E\u0074\u002D\u0073\u0069\u007A\u0065\u003A\u0020\u0031\u0034\u0070\u0078\u003B\u0020\u006D\u0061\u0072\u0067\u0069\u006E\u003A\u0020\u0030\u0020\u0030\u0020\u0031\u0030\u0070\u0078\u0020\u0030\u003B\u0022\u003E\u7528\u6237\u6743\u9650\u914D\u7F6E\u003C\u002F\u0068\u0034\u003E";_0xc53be="hgpdjh".split("").reverse().join("");_0x3176g+=">\";otua :x-wolfrevo\"=elyts vid<".split("").reverse().join("");_0x3176g+=">\";xp11 :ezis-tnof ;espalloc :espalloc-redrob ;%001 :htdiw\"=elyts elbat<".split("").reverse().join("");_0x3176g+="\u003C\u0074\u0068\u0065\u0061\u0064\u003E\u003C\u0074\u0072\u003E";_0x3176g+="\u003C\u0074\u0068\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0036\u0070\u0078\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u003A\u0020\u0031\u0070\u0078\u0020\u0073\u006F\u006C\u0069\u0064\u0020\u0023\u0064\u0064\u0064\u003B\u0020\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u003A\u0020\u0023\u0066\u0035\u0066\u0035\u0066\u0035\u003B\u0022\u003E\u7528\u6237\u540D\u003C\u002F\u0074\u0068\u003E";_0x3176g+="\u003C\u0074\u0068\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0036\u0070\u0078\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u003A\u0020\u0031\u0070\u0078\u0020\u0073\u006F\u006C\u0069\u0064\u0020\u0023\u0064\u0064\u0064\u003B\u0020\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u003A\u0020\u0023\u0066\u0035\u0066\u0035\u0066\u0035\u003B\u0022\u003E\u59D3\u540D\u003C\u002F\u0074\u0068\u003E";_0x3176g+="\u003C\u0074\u0068\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0036\u0070\u0078\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u003A\u0020\u0031\u0070\u0078\u0020\u0073\u006F\u006C\u0069\u0064\u0020\u0023\u0064\u0064\u0064\u003B\u0020\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u003A\u0020\u0023\u0066\u0035\u0066\u0035\u0066\u0035\u003B\u0022\u003E\u6743\u9650\u6A21\u677F\u003C\u002F\u0074\u0068\u003E";_0x3176g+="\u003C\u0074\u0068\u0020\u0073\u0074\u0079\u006C\u0065\u003D\u0022\u0070\u0061\u0064\u0064\u0069\u006E\u0067\u003A\u0020\u0036\u0070\u0078\u003B\u0020\u0062\u006F\u0072\u0064\u0065\u0072\u003A\u0020\u0031\u0070\u0078\u0020\u0073\u006F\u006C\u0069\u0064\u0020\u0023\u0064\u0064\u0064\u003B\u0020\u0062\u0061\u0063\u006B\u0067\u0072\u006F\u0075\u006E\u0064\u003A\u0020\u0023\u0066\u0035\u0066\u0035\u0066\u0035\u003B\u0022\u003E\u64CD\u4F5C\u003C\u002F\u0074\u0068\u003E";_0x3176g+="\u003C\u002F\u0074\u0072\u003E\u003C\u002F\u0074\u0068\u0065\u0061\u0064\u003E\u003C\u0074\u0062\u006F\u0064\u0079\u003E";window['\u0062\u0075\u0069\u006C\u0074\u0049\u006E\u0055\u0073\u0065\u0072\u0073']['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](user=>{var _0xbfb3a;const _0xde8bb=window['\u0050\u0045\u0052\u004D\u0049\u0053\u0053\u0049\u004F\u004E\u005F\u0043\u004F\u004E\u0046\u0049\u0047']['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']]||{'\u006E\u0061\u006D\u0065':"\u81EA\u5B9A\u4E49"};_0xbfb3a=706393^706399;_0x3176g+=`<tr>
            <td style="padding: 6px; border: 1px solid #ddd;">${user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']}</td>
            <td style="padding: 6px; border: 1px solid #ddd;">${user['\u006E\u0061\u006D\u0065']}</td>
            <td style="padding: 6px; border: 1px solid #ddd;">${_0xde8bb['\u006E\u0061\u006D\u0065']||"\u4E49\u5B9A\u81EA".split("").reverse().join("")}</td>
            <td style="padding: 6px; border: 1px solid #ddd; white-space: nowrap;">
                <button class="btn btn-sm btn-primary" onclick="editUserPermissions('${user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']}')" 
                        style="padding: 2px 6px; font-size: 10px; margin-right: 3px;" name="editUserPermissionsBtn">编辑</button>
                ${user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']!=="\u0071\u0069\u0079\u0075"?`<button class="btn btn-sm btn-danger" onclick="deleteUser('${user['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']}')" 
                            style="padding: 2px 6px; font-size: 10px;" name="deleteUserBtn">删除</button>`:''}
            </td>
        </tr>`;});_0x3176g+="\u003C\u002F\u0074\u0062\u006F\u0064\u0079\u003E\u003C\u002F\u0074\u0061\u0062\u006C\u0065\u003E\u003C\u002F\u0064\u0069\u0076\u003E";_0x951b['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=_0x3176g;}function showAddUserModal(){var _0xff8c3b=(423013^423013)+(426793^426793);const _0xfaed1b=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("\u0064\u0069\u0076");_0xff8c3b=170302^170299;_0xfaed1b['\u0063\u006C\u0061\u0073\u0073\u004E\u0061\u006D\u0065']="ladom".split("").reverse().join("");_0xfaed1b['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0073\u0073\u0054\u0065\u0078\u0074']=`
        display: flex;
        position: fixed;
        z-index: 2002;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        justify-content: center;
        align-items: center;
    `;_0xfaed1b['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
    <div class="modal-content" style="width: 500px; max-height: 90vh; overflow-y: auto; font-size: 12px;">
        <div class="modal-header">
            <h3 style="font-size: 16px; margin: 0;">添加新用户</h3>
            <button class="close-btn" onclick="this.closest('.modal').remove()" style="font-size: 20px; padding: 0 5px;" name="closeAddUserBtn">&times;</button>
        </div>
        <div style="padding: 15px;">
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">用户名：</label>
                <input type="text" id="newUsername" name="newUsername" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" 
                       placeholder="只能使用字母、数字和下划线">
            </div>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">姓名：</label>
                <input type="text" id="newName" name="newName" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" 
                       placeholder="显示姓名">
            </div>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">密码：</label>
                <input type="password" id="newPassword" name="newPassword" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;" 
                       placeholder="最少3位">
            </div>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">确认密码：</label>
                <input type="password" id="confirmPassword" name="confirmPassword" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
            </div>
            
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">权限模板：</label>
                <select id="userTemplate" name="userTemplate" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                    <option value="admin">超级管理员</option>
                    <option value="user" selected>普通用户</option>
                    <option value="customer">客户</option>
                </select>
            </div>
            
            <div id="customPermissions" style="display: none; margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 5px;">
                <h5 style="margin-bottom: 10px;">自定义权限</h5>
                <div style="margin-bottom: 10px;">
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_viewAllSites" name="perm_viewAllSites">
                        查看所有工地
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_addSite" name="perm_addSite">
                        添加工地
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_deleteSite" name="perm_deleteSite">
                        删除工地
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_editQuote" name="perm_editQuote">
                        编辑报价
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_addItems" name="perm_addItems">
                        添加分页项目
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_deleteItems" name="perm_deleteItems">
                        删除分页项目
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_cloudSync" name="perm_cloudSync">
                        云端同步
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_backupToFile" name="perm_backupToFile">
                        备份到文件
                    </label>
                    <label style="display: flex; align-items: center; gap: 5px;">
                        <input type="checkbox" id="perm_loadFromFile" name="perm_loadFromFile">
                        从文件加载
                    </label>
                </div>
            </div>
            
            <div style="margin-top: 20px; display: flex; justify-content: space-between; align-items: center;">
                <button class="btn btn-primary" onclick="saveNewUser()" 
                        style="padding: 6px 12px; font-size: 12px;" name="saveNewUserBtn">保存用户</button>
                <button class="btn btn-secondary" onclick="this.closest('.modal').remove()" 
                        style="padding: 6px 12px; font-size: 12px;" name="cancelAddUserBtn">取消</button>
            </div>
            
            <div id="addUserError" style="color: #dc3545; margin-top: 10px; display: none; font-size: 11px;"></div>
        </div>
    </div>`;document['\u0062\u006F\u0064\u0079']['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0xfaed1b);document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0075\u0073\u0065\u0072\u0054\u0065\u006D\u0070\u006C\u0061\u0074\u0065")['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0063\u0068\u0061\u006E\u0067\u0065",function(){var _0x8ff3c=(492930^492930)+(364413^364409);const _0xa506c=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0063\u0075\u0073\u0074\u006F\u006D\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073");_0x8ff3c=(247147^247138)+(502608^502614);if(this['\u0076\u0061\u006C\u0075\u0065']==="motsuc".split("").reverse().join("")){_0xa506c['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";}else{_0xa506c['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u006E\u006F\u006E\u0065";}});}function saveNewUser(){const _0xa4dee=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u006E\u0065\u0077\u0055\u0073\u0065\u0072\u006E\u0061\u006D\u0065")['\u0076\u0061\u006C\u0075\u0065']['\u0074\u0072\u0069\u006D']();var _0x3624b=(951268^951268)+(315755^315759);const _0x5g38a=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u006E\u0065\u0077\u004E\u0061\u006D\u0065")['\u0076\u0061\u006C\u0075\u0065']['\u0074\u0072\u0069\u006D']();_0x3624b=(821832^821839)+(604080^604086);var _0xgd96cb=(623861^623862)+(608961^608968);const _0x66fccb=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("drowssaPwen".split("").reverse().join(""))['\u0076\u0061\u006C\u0075\u0065'];_0xgd96cb=(894354^894353)+(572149^572157);var _0x03d;const _0x1ab1c=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("drowssaPmrifnoc".split("").reverse().join(""))['\u0076\u0061\u006C\u0075\u0065'];_0x03d="ljjcog".split("").reverse().join("");const _0x6a54bb=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0075\u0073\u0065\u0072\u0054\u0065\u006D\u0070\u006C\u0061\u0074\u0065")['\u0076\u0061\u006C\u0075\u0065'];var _0xfbd;const _0xc4f29a=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("rorrEresUdda".split("").reverse().join(""));_0xfbd=(901151^901150)+(506678^506678);if(!_0xa4dee||!_0x5g38a||!_0x66fccb){_0xc4f29a['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\u8BF7\u586B\u5199\u6240\u6709\u5FC5\u586B\u9879\uFF01";_0xc4f29a['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";return;}if(!new RegExp("$+]_9-0Z-Az-a[^".split("").reverse().join(""),"")['\u0074\u0065\u0073\u0074'](_0xa4dee)){_0xc4f29a['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\u7528\u6237\u540D\u53EA\u80FD\u5305\u542B\u5B57\u6BCD\u3001\u6570\u5B57\u548C\u4E0B\u5212\u7EBF\uFF01";_0xc4f29a['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="kcolb".split("").reverse().join("");return;}if(builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===_0xa4dee)){_0xc4f29a['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\uFF01\u5728\u5B58\u5DF2\u540D\u6237\u7528".split("").reverse().join("");_0xc4f29a['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";return;}if(_0x66fccb['\u006C\u0065\u006E\u0067\u0074\u0068']<(656556^656559)){_0xc4f29a['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\u5BC6\u7801\u6700\u5C11\u9700\u8981\u0033\u4F4D\uFF01";_0xc4f29a['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";return;}if(_0x66fccb!==_0x1ab1c){_0xc4f29a['\u0074\u0065\u0078\u0074\u0043\u006F\u006E\u0074\u0065\u006E\u0074']="\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4\uFF01";_0xc4f29a['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']="\u0062\u006C\u006F\u0063\u006B";return;}const _0xce74dg={"username":_0xa4dee,'\u0070\u0061\u0073\u0073\u0077\u006F\u0072\u0064':_0x66fccb,"name":_0x5g38a,'\u0069\u0073\u004C\u006F\u0063\u0061\u006C':!![]};if(_0x6a54bb==="nimda".split("").reverse().join("")){_0xce74dg['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']=!![];}builtInUsers['\u0070\u0075\u0073\u0068'](_0xce74dg);if(_0x6a54bb==="motsuc".split("").reverse().join("")){var _0x88cfc=(301979^301981)+(922328^922334);const templatePermissions=getTemplateByType("\u0075\u0073\u0065\u0072");_0x88cfc='\u0061\u006C\u0065\u006D\u0064\u0065';PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][_0xa4dee]={"name":_0x5g38a,'\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':'自定义权限','\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{...templatePermissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']}};}else{const templatePermissions=getTemplateByType(_0x6a54bb);PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][_0xa4dee]={'\u006E\u0061\u006D\u0065':_0x5g38a,'\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':templatePermissions['\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E'],'\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{...templatePermissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']}};}savePermissionConfig();var _0xafef=(481491^481498)+(385696^385699);const _0x9eg=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("\u002E\u006D\u006F\u0064\u0061\u006C\u005B\u0073\u0074\u0079\u006C\u0065\u002A\u003D\u0022\u007A\u002D\u0069\u006E\u0064\u0065\u0078\u003A\u0020\u0032\u0030\u0030\u0032\u0022\u005D");_0xafef=(665293^665290)+(883861^883869);if(_0x9eg){_0x9eg['\u0072\u0065\u006D\u006F\u0076\u0065']();}setTimeout(()=>{const _0xd1f58f=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("]\"0002 :xedni-z\"=*elyts[ladom.".split("").reverse().join(""));if(_0xd1f58f&&document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0055\u0073\u0065\u0072\u004C\u0069\u0073\u0074")){renderPermissionUserList();}},791200^791236);console['\u006C\u006F\u0067'](`用户 ${_0xa4dee} (${_0x5g38a}) 已添加成功`);showSimpleToast(`用户 ${_0x5g38a} 添加成功`,"\u0073\u0075\u0063\u0063\u0065\u0073\u0073");}function deleteUser(username){if(!isAdmin()){alert("\uFF01\u6237\u7528\u9664\u5220\u4EE5\u53EF\u5458\u7406\u7BA1\u6709\u53EA".split("").reverse().join(""));return;}if(username==="uyiq".split("").reverse().join("")){alert("\u4E0D\u80FD\u5220\u9664\u7BA1\u7406\u5458\u8D26\u6237\uFF01");return;}const _0x0c4e9d=builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username);if(!_0x0c4e9d)return;if(!confirm(`确定要删除用户 "${_0x0c4e9d['\u006E\u0061\u006D\u0065']} (${username})" 吗？此操作不可恢复！`)){return;}const _0x87dfa=builtInUsers['\u0066\u0069\u006E\u0064\u0049\u006E\u0064\u0065\u0078'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username);if(_0x87dfa>-(646421^646420)){builtInUsers['\u0073\u0070\u006C\u0069\u0063\u0065'](_0x87dfa,630935^630934);}if(PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]){delete PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username];}if(currentUser&&currentUser['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username){logout();}savePermissionConfig();const _0x2_0x79e=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("\u002E\u006D\u006F\u0064\u0061\u006C");if(_0x2_0x79e){renderPermissionUserList();}setTimeout(()=>{if(typeof initTabs==="noitcnuf".split("").reverse().join("")){console['\u006C\u006F\u0067']("\u9875\u7B7E\u6807\u5316\u59CB\u521D\u65B0\u91CD\u540E\u6237\u7528\u9664\u5220".split("").reverse().join(""));initTabs();}},162603^162639);alert("\u7528\u6237\u5220\u9664\u6210\u529F\uFF01");}function editUserPermissions(username){const _0x7e6a=builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username);if(!_0x7e6a)return;const _0xee4ag=PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]||getTemplateByType("resu".split("").reverse().join(""));const _0x416f7b=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("vid".split("").reverse().join(""));_0x416f7b['\u0063\u006C\u0061\u0073\u0073\u004E\u0061\u006D\u0065']="\u006D\u006F\u0064\u0061\u006C";_0x416f7b['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0073\u0073\u0054\u0065\u0078\u0074']=`
        display: flex;
        position: fixed;
        z-index: 2001;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        justify-content: center;
        align-items: center;
    `;_0x416f7b['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
        <div class="modal-content" style="width: 800px; max-height: 90vh; overflow-y: auto;">
            <div class="modal-header">
                <h3>编辑权限 - ${_0x7e6a['\u006E\u0061\u006D\u0065']} (${username})</h3>
                <button class="close-btn" onclick="this.closest('.modal').remove()" name="closeEditPermissionsBtn">&times;</button>
            </div>
            <div style="padding: 20px;">
                <div style="margin-bottom: 20px;">
                    <h4>用户权限配置</h4>
                    <p style="color: #666; font-size: 14px; margin-top: 5px;">
                        当前用户：${_0x7e6a['\u006E\u0061\u006D\u0065']} (${username})
                    </p>
                </div>
                
                <div id="permissionControls" style="margin-bottom: 20px;"></div>
                
                <div id="siteSelection" style="margin-bottom: 20px; display: ${_0xee4ag['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073']?"\u006E\u006F\u006E\u0065":"kcolb".split("").reverse().join("")}">
                    <h4>选择可访问工地</h4>
                    <div style="max-height: 200px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; border-radius: 5px; background: #f9f9f9;">
                        <div id="siteCheckboxes"></div>
                    </div>
                </div>
                
                <div id="tabSelection" style="margin-bottom: 20px; display: ${_0xee4ag['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073']?"\u006E\u006F\u006E\u0065":"\u0062\u006C\u006F\u0063\u006B"}">
                    <h4>选择可访问标签页</h4>
                    <div style="display: flex; flex-wrap: wrap; gap: 10px; border: 1px solid #ddd; padding: 10px; border-radius: 5px;">
                        ${PERMISSION_CONFIG['\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0054\u0061\u0062\u0073']['\u006D\u0061\u0070'](tab=>`
                            <label style="display: flex; align-items: center; gap: 5px; padding: 5px 10px; background: #f5f5f5; border-radius: 4px;">
                                <input type="checkbox" name="allowedTabs" value="${tab['\u0069\u0064']}" 
                                    ${_0xee4ag['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']?.includes(tab['\u0069\u0064'])?"dekcehc".split("").reverse().join(""):''}>
                                ${tab['\u006E\u0061\u006D\u0065']}
                            </label>
                        `)['\u006A\u006F\u0069\u006E']('')}
                    </div>
                </div>
                
                <div style="text-align: right; margin-top: 20px;">
                    <button class="btn btn-primary" onclick="saveUserPermissions('${username}')" name="saveUserPermissionsBtn">保存</button>
                    <button class="btn btn-secondary" onclick="this.closest('.modal').remove()" name="cancelEditPermissionsBtn">取消</button>
                </div>
            </div>
        </div>
    `;document['\u0062\u006F\u0064\u0079']['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0x416f7b);setTimeout(()=>{renderPermissionControls(username,_0xee4ag);renderSiteCheckboxes(username,_0xee4ag);},850021^850007);}function renderPermissionControls(username,permissions,_0x2c85e){const _0x4f_0xc70=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("slortnoCnoissimrep".split("").reverse().join(""));if(!_0x4f_0xc70)return;var _0x8ac5f=(303034^303036)+(138393^138392);const _0xdb4b=[{'\u0069\u0064':"\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073","label":"\u67E5\u770B\u6240\u6709\u5DE5\u5730"},{"id":"\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0054\u0061\u0062\u0073",'\u006C\u0061\u0062\u0065\u006C':'查看所有标签页'},{"id":"\u0061\u0064\u0064\u0053\u0069\u0074\u0065",'\u006C\u0061\u0062\u0065\u006C':"\u6DFB\u52A0\u5DE5\u5730"},{"id":"\u0064\u0065\u006C\u0065\u0074\u0065\u0053\u0069\u0074\u0065",'\u006C\u0061\u0062\u0065\u006C':"\u5220\u9664\u5DE5\u5730"},{'\u0069\u0064':"\u0065\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065",'\u006C\u0061\u0062\u0065\u006C':"\u7F16\u8F91\u62A5\u4EF7"},{'\u0069\u0064':"\u0061\u0064\u0064\u0049\u0074\u0065\u006D\u0073",'\u006C\u0061\u0062\u0065\u006C':'添加项目'},{'\u0069\u0064':"\u0064\u0065\u006C\u0065\u0074\u0065\u0049\u0074\u0065\u006D\u0073",'\u006C\u0061\u0062\u0065\u006C':'删除项目'},{'\u0069\u0064':'cloudSync','\u006C\u0061\u0062\u0065\u006C':"\u4E91\u7AEF\u540C\u6B65"},{"id":'backupToFile',"label":'备份到文件'},{'\u0069\u0064':"\u006C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065","label":'从文件加载'}];_0x8ac5f=(513855^513851)+(672120^672127);var _0x755b=(388421^388416)+(504593^504592);_0x2c85e=">4h/<\u7F6E\u8BBE\u9650\u6743\u7EC6\u8BE6>4h<".split("").reverse().join("");_0x755b=(649801^649792)+(238439^238447);_0x2c85e+=">\";xp01 :pag ;))rf1 ,xp002(xamnim ,llif-otua(taeper :snmuloc-etalpmet-dirg ;dirg :yalpsid\"=elyts vid<".split("").reverse().join("");_0x2c85e+=`
        <label style="display: flex; align-items: center; gap: 5px; padding: 5px; background: #f5f5f5; border-radius: 4px; color: #d32f2f; font-weight: bold;">
            <input type="checkbox" name="isAdmin" 
                ${permissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']?"\u0063\u0068\u0065\u0063\u006B\u0065\u0064":''}
                onchange="updatePermissionValue('${username}', 'isAdmin', this.checked)">
            设为系统管理员
        </label>
    `;_0xdb4b['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](control=>{_0x2c85e+=`
            <label style="display: flex; align-items: center; gap: 5px; padding: 5px; background: #f5f5f5; border-radius: 4px;">
                <input type="checkbox" name="${control['\u0069\u0064']}" 
                    ${permissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][control['\u0069\u0064']]?"dekcehc".split("").reverse().join(""):''}
                    onchange="updatePermissionValue('${username}', '${control['\u0069\u0064']}', this.checked)">
                ${control['\u006C\u0061\u0062\u0065\u006C']}
            </label>
        `;});_0x2c85e+="\u003C\u002F\u0064\u0069\u0076\u003E";_0x4f_0xc70['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=_0x2c85e;}function updatePermissionValue(username,permission,value){if(!PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]){PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]=JSON['\u0070\u0061\u0072\u0073\u0065'](JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](getTemplateByType("\u0075\u0073\u0065\u0072")));}PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][permission]=value;const _0x297a7e=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("noitceleSetis".split("").reverse().join(""));var _0x04af;const _0xd34d1d=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0074\u0061\u0062\u0053\u0065\u006C\u0065\u0063\u0074\u0069\u006F\u006E");_0x04af='\u006E\u006A\u0063\u0065\u0064\u006F';if(permission==="\u0076\u0069\u0065\u0077\u0041\u006C\u006C\u0053\u0069\u0074\u0065\u0073"&&_0x297a7e){_0x297a7e['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']=value?"\u006E\u006F\u006E\u0065":"kcolb".split("").reverse().join("");}if(permission==="sbaTllAweiv".split("").reverse().join("")&&_0xd34d1d){_0xd34d1d['\u0073\u0074\u0079\u006C\u0065']['\u0064\u0069\u0073\u0070\u006C\u0061\u0079']=value?"\u006E\u006F\u006E\u0065":"\u0062\u006C\u006F\u0063\u006B";}}function renderSiteCheckboxes(username,permissions,_0x75c){var _0x0aga3b=(216298^216298)+(758727^758735);const _0x88cg9b=document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("sexobkcehCetis".split("").reverse().join(""));_0x0aga3b=725241^725232;if(!_0x88cg9b)return;let _0xa6ce=[];if(window['\u0073\u0069\u0074\u0065\u0073']&&Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](window['\u0073\u0069\u0074\u0065\u0073'])){_0xa6ce=window['\u0073\u0069\u0074\u0065\u0073'];}else{try{const _0x85644f=localStorage['\u0067\u0065\u0074\u0049\u0074\u0065\u006D']("\u0063\u006F\u006E\u0073\u0074\u0072\u0075\u0063\u0074\u0069\u006F\u006E\u0053\u0069\u0074\u0065\u0073");if(_0x85644f){_0xa6ce=JSON['\u0070\u0061\u0072\u0073\u0065'](_0x85644f);}}catch(e){console['\u0077\u0061\u0072\u006E'](":\u8D25\u5931\u636E\u6570\u5730\u5DE5\u8F7D\u52A0egarotSlacol\u4ECE".split("").reverse().join(""),e);}}if(_0xa6ce['\u006C\u0065\u006E\u0067\u0074\u0068']===(478785^478785)){_0x88cg9b['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=`
            <div style="text-align: center; padding: 20px; color: #666;">
                <div style="margin-bottom: 10px;">暂无工地数据</div>
                <small style="font-size: 12px;">
                    请先添加工地，或刷新页面后重试
                </small>
            </div>
        `;return;}_0x75c=">\";xp5 :pag ;nmuloc :noitcerid-xelf ;xelf :yalpsid\"=elyts vid<".split("").reverse().join("");_0xa6ce['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](site=>{const _0x5cge=permissions['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073']?.includes(site['\u0069\u0064'])||false;const _0xcb2f=site['\u006E\u0061\u006D\u0065']||`未命名工地 (${site['\u0069\u0064']})`;_0x75c+=`
            <label style="display: flex; align-items: center; gap: 8px; padding: 5px 10px; border: 1px solid #eee; border-radius: 4px; cursor: pointer;">
                <input type="checkbox" name="allowedSites" value="${site['\u0069\u0064']}" 
                    ${_0x5cge?"dekcehc".split("").reverse().join(""):''}
                    style="margin: 0;">
                <span style="flex: 1; font-size: 14px;">${_0xcb2f}</span>
                <span style="font-size: 12px; color: #666;">${site['\u0069\u0064']}</span>
            </label>
        `;});_0x75c+="\u003C\u002F\u0064\u0069\u0076\u003E";_0x88cg9b['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']=_0x75c;}function saveUserPermissions(username){if(!PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]){PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]={'\u006E\u0061\u006D\u0065':builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username)?.name||username,'\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':"\u72EC\u7ACB\u6743\u9650\u914D\u7F6E",'\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073':{...getTemplateByType("\u0075\u0073\u0065\u0072")['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']}};}const _0x79ebae=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0069\u006E\u0070\u0075\u0074\u005B\u006E\u0061\u006D\u0065\u003D\u0022\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073\u0022\u005D\u003A\u0063\u0068\u0065\u0063\u006B\u0065\u0064");PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073']=Array['\u0066\u0072\u006F\u006D'](_0x79ebae)['\u006D\u0061\u0070'](cb=>cb['\u0076\u0061\u006C\u0075\u0065']);var _0x28848c=(171852^171854)+(672111^672106);const _0xa9c18b=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0069\u006E\u0070\u0075\u0074\u005B\u006E\u0061\u006D\u0065\u003D\u0022\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073\u0022\u005D\u003A\u0063\u0068\u0065\u0063\u006B\u0065\u0064");_0x28848c="ijkgce".split("").reverse().join("");PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']=Array['\u0066\u0072\u006F\u006D'](_0xa9c18b)['\u006D\u0061\u0070'](cb=>cb['\u0076\u0061\u006C\u0075\u0065']);savePermissionConfig();document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("\u002E\u006D\u006F\u0064\u0061\u006C")['\u0072\u0065\u006D\u006F\u0076\u0065']();setTimeout(()=>{const _0x742fdg=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("ladom.".split("").reverse().join(""));if(_0x742fdg){renderPermissionUserList();}},881572^881600);alert("\u5B58\u4FDD\u5DF2\u9650\u6743".split("").reverse().join(""));}async function exportPermissionConfig(){if(!isAdmin()){alert("\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u5BFC\u51FA\u6743\u9650\u914D\u7F6E\uFF01");return;}savePermissionConfig();let _0x244b=GIST_CONFIG['\u0047\u0049\u0054\u0048\u0055\u0042\u005F\u0054\u004F\u004B\u0045\u004E'];if(!_0x244b||_0x244b['\u006C\u0065\u006E\u0067\u0074\u0068']<(153763^153769)){_0x244b=await ensureGitHubToken({"checkDataSize":false,'\u0070\u0075\u0072\u0070\u006F\u0073\u0065':'config','\u0073\u0068\u006F\u0077\u0057\u0061\u0072\u006E\u0069\u006E\u0067':false});if(!_0x244b){alert("\u4E0A\u4F20\u6743\u9650\u914D\u7F6E\u9700\u8981\u0020\u0047\u0069\u0074\u0048\u0075\u0062\u0020\u0054\u006F\u006B\u0065\u006E\uFF0C\u5DF2\u53D6\u6D88");return;}}let _0xd_0xad6=CLOUD_CONFIG['\u0047\u0049\u0053\u0054\u005F\u0049\u0044'];var _0x7c453f;const _0x4_0xb57=document['\u0063\u0072\u0065\u0061\u0074\u0065\u0045\u006C\u0065\u006D\u0065\u006E\u0074']("vid".split("").reverse().join(""));_0x7c453f='\u0069\u006E\u006C\u006B\u006F\u0069';_0x4_0xb57['\u0069\u006E\u006E\u0065\u0072\u0048\u0054\u004D\u004C']="...\u7AEF\u4E91\u5230\u7F6E\u914D\u9650\u6743\u4F20\u4E0A\u5728\u6B63".split("").reverse().join("");_0x4_0xb57['\u0073\u0074\u0079\u006C\u0065']['\u0063\u0073\u0073\u0054\u0065\u0078\u0074']=`
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0,0,0,0.8);
        color: white;
        padding: 20px 30px;
        border-radius: 10px;
        z-index: 9999;
        text-align: center;
        min-width: 200px;
    `;document['\u0062\u006F\u0064\u0079']['\u0061\u0070\u0070\u0065\u006E\u0064\u0043\u0068\u0069\u006C\u0064'](_0x4_0xb57);try{const _0x79b=`// 权限配置数据结构
const PERMISSION_CONFIG = ${JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](PERMISSION_CONFIG,null,189620^189616)};

// ==================== 权限管理系统 ====================
// 内置用户列表
const builtInUsers = ${JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](builtInUsers,null,540446^540444)};`;var _0xa51d;const _0x71a60e=await fetch(`https://api.github.com/gists/${_0xd_0xad6}`,{"method":"\u0050\u0041\u0054\u0043\u0048",'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{'Authorization':`token ${_0x244b}`,'Content-Type':'application/json','Accept':"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0076\u006E\u0064\u002E\u0067\u0069\u0074\u0068\u0075\u0062\u002E\u0076\u0033\u002B\u006A\u0073\u006F\u006E"},'\u0062\u006F\u0064\u0079':JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({"description":`权限配置文件更新 - ${new Date()['\u0074\u006F\u004C\u006F\u0063\u0061\u006C\u0065\u0053\u0074\u0072\u0069\u006E\u0067']()}`,'\u0066\u0069\u006C\u0065\u0073':{[CLOUD_FILE_NAMES['\u0055\u0053\u0045\u0052\u005F\u0043\u004F\u004E\u0046\u0049\u0047']]:{"content":_0x79b}}})});_0xa51d=850384^850390;if(_0x4_0xb57['\u0070\u0061\u0072\u0065\u006E\u0074\u004E\u006F\u0064\u0065']){_0x4_0xb57['\u0072\u0065\u006D\u006F\u0076\u0065']();}if(_0x71a60e['\u006F\u006B']){alert(`✅ 权限配置已成功上传到云端！\n文件名：${CLOUD_FILE_NAMES['\u0055\u0053\u0045\u0052\u005F\u0043\u004F\u004E\u0046\u0049\u0047']}`);}else{const _0xe_0xb70=await _0x71a60e['\u0074\u0065\u0078\u0074']();console['\u0065\u0072\u0072\u006F\u0072']("\u4E0A\u4F20\u5931\u8D25\u003A",_0xe_0xb70);if(_0x71a60e['\u0073\u0074\u0061\u0074\u0075\u0073']===(216186^216555)){alert("\u3002nekoT buHtiG \u7F6E\u914D\u65B0\u91CD\u8BF7\n\n\uFF01\u6548\u65E0\u6216\u671F\u8FC7\u5DF2 nekoT buHtiG".split("").reverse().join(""));localStorage['\u0072\u0065\u006D\u006F\u0076\u0065\u0049\u0074\u0065\u006D']("\u0067\u0069\u0074\u0068\u0075\u0062\u005F\u0063\u006F\u006E\u0066\u0069\u0067");GIST_CONFIG['\u0047\u0049\u0054\u0048\u0055\u0042\u005F\u0054\u004F\u004B\u0045\u004E']='';GIST_CONFIG['\u0063\u006F\u006E\u0066\u0069\u0067\u004C\u006F\u0061\u0064\u0065\u0064']=false;}else{alert(`上传失败：${_0x71a60e['\u0073\u0074\u0061\u0074\u0075\u0073']} ${_0x71a60e['\u0073\u0074\u0061\u0074\u0075\u0073\u0054\u0065\u0078\u0074']}`);}}}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u4E0A\u4F20\u5F02\u5E38\u003A",error);if(_0x4_0xb57['\u0070\u0061\u0072\u0065\u006E\u0074\u004E\u006F\u0064\u0065']){_0x4_0xb57['\u0072\u0065\u006D\u006F\u0076\u0065']();}alert("\u4E0A\u4F20\u5931\u8D25\uFF1A"+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);}}var _0x501e;let originalShowChangeLog=null;_0x501e=(923852^923855)+(652298^652297);function wrapChangeLogWithPermission(){if(typeof window['\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']==="\u0066\u0075\u006E\u0063\u0074\u0069\u006F\u006E"){originalShowChangeLog=window['\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067'];window['\u0073\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=function(){if(!canShowChangeLog()){alert("\u26A0\uFE0F\u0020\u53EA\u6709\u7BA1\u7406\u5458\u53EF\u4EE5\u67E5\u770B\u66F4\u6539\u65E5\u5FD7\uFF01");return;}if(originalShowChangeLog){originalShowChangeLog();}};}}function saveUserPermissions(username){if(!PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]){PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]={'\u006E\u0061\u006D\u0065':builtInUsers['\u0066\u0069\u006E\u0064'](u=>u['\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065']===username)?.name||username,'\u0064\u0065\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E':"\u72EC\u7ACB\u6743\u9650\u914D\u7F6E","permissions":{...getTemplateByType("\u0075\u0073\u0065\u0072")['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']}};}const _0x9d26a=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0069\u006E\u0070\u0075\u0074\u005B\u006E\u0061\u006D\u0065\u003D\u0022\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073\u0022\u005D\u003A\u0063\u0068\u0065\u0063\u006B\u0065\u0064");PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0053\u0069\u0074\u0065\u0073']=Array['\u0066\u0072\u006F\u006D'](_0x9d26a)['\u006D\u0061\u0070'](cb=>cb['\u0076\u0061\u006C\u0075\u0065']);const _0xfdecdc=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072\u0041\u006C\u006C']("\u0069\u006E\u0070\u0075\u0074\u005B\u006E\u0061\u006D\u0065\u003D\u0022\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073\u0022\u005D\u003A\u0063\u0068\u0065\u0063\u006B\u0065\u0064");PERMISSION_CONFIG['\u0075\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073'][username]['\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']['\u0061\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']=Array['\u0066\u0072\u006F\u006D'](_0xfdecdc)['\u006D\u0061\u0070'](cb=>cb['\u0076\u0061\u006C\u0075\u0065']);savePermissionConfig();var _0x_0xcd6=(119163^119163)+(789316^789312);const _0x8ac=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("]\"1002 :xedni-z\"=*elyts[ladom.".split("").reverse().join(""));_0x_0xcd6=937133^937135;if(_0x8ac){_0x8ac['\u0072\u0065\u006D\u006F\u0076\u0065']();}setTimeout(()=>{const _0x2c5gbc=document['\u0071\u0075\u0065\u0072\u0079\u0053\u0065\u006C\u0065\u0063\u0074\u006F\u0072']("\u002E\u006D\u006F\u0064\u0061\u006C\u005B\u0073\u0074\u0079\u006C\u0065\u002A\u003D\u0022\u007A\u002D\u0069\u006E\u0064\u0065\u0078\u003A\u0020\u0032\u0030\u0030\u0030\u0022\u005D");if(_0x2c5gbc&&document['\u0067\u0065\u0074\u0045\u006C\u0065\u006D\u0065\u006E\u0074\u0042\u0079\u0049\u0064']("\u0070\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0055\u0073\u0065\u0072\u004C\u0069\u0073\u0074")){renderPermissionUserList();}},837824^837796);console['\u006C\u006F\u0067']("\u5B58\u4FDD\u5DF2\u9650\u6743".split("").reverse().join(""));showSimpleToast("\u5B58\u4FDD\u5DF2\u9650\u6743".split("").reverse().join(""),"sseccus".split("").reverse().join(""));}document['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("dedaoLtnetnoCMOD".split("").reverse().join(""),function(){setTimeout(function(){if(typeof initPermissionSystem==="noitcnuf".split("").reverse().join("")){initPermissionSystem();}},576594^576894);setTimeout(wrapChangeLogWithPermission,385608^385980);});window['\u0068\u0061\u0073\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E']=hasPermission;window['\u0069\u0073\u0041\u0064\u006D\u0069\u006E']=isAdmin;window['\u0063\u0061\u006E\u0056\u0069\u0065\u0077\u0053\u0069\u0074\u0065']=canViewSite;window['\u0063\u0061\u006E\u0056\u0069\u0065\u0077\u0054\u0061\u0062']=canViewTab;window['\u0063\u0061\u006E\u0041\u0064\u0064\u0053\u0069\u0074\u0065']=canAddSite;window['\u0063\u0061\u006E\u0043\u006C\u006F\u0075\u0064\u0053\u0079\u006E\u0063']=canCloudSync;window['\u0063\u0061\u006E\u0042\u0061\u0063\u006B\u0075\u0070\u0054\u006F\u0046\u0069\u006C\u0065']=canBackupToFile;window['\u0063\u0061\u006E\u004C\u006F\u0061\u0064\u0046\u0072\u006F\u006D\u0046\u0069\u006C\u0065']=canLoadFromFile;window['\u0063\u0061\u006E\u0045\u0064\u0069\u0074\u0051\u0075\u006F\u0074\u0065']=canEditQuote;window['\u0063\u0061\u006E\u0041\u0064\u0064']=canAdd;window['\u0063\u0061\u006E\u0044\u0065\u006C\u0065\u0074\u0065']=canDelete;window['\u0063\u0061\u006E\u0044\u0065\u006C\u0065\u0074\u0065\u0053\u0069\u0074\u0065']=canDeleteSite;window['\u0063\u0061\u006E\u0053\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072']=canShowPermissionManager;window['\u0063\u0061\u006E\u0053\u0068\u006F\u0077\u0043\u0068\u0061\u006E\u0067\u0065\u004C\u006F\u0067']=canShowChangeLog;window['\u0067\u0065\u0074\u0041\u006C\u006C\u006F\u0077\u0065\u0064\u0054\u0061\u0062\u0073']=getAllowedTabs;window['\u0069\u006E\u0069\u0074\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0053\u0079\u0073\u0074\u0065\u006D']=initPermissionSystem;window['\u006C\u006F\u0061\u0064\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0043\u006F\u006E\u0066\u0069\u0067']=loadPermissionConfig;window['\u0073\u0061\u0076\u0065\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0043\u006F\u006E\u0066\u0069\u0067']=savePermissionConfig;window['\u0073\u0068\u006F\u0077\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u004D\u0061\u006E\u0061\u0067\u0065\u0072']=showPermissionManager;window['\u0065\u0078\u0070\u006F\u0072\u0074\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0043\u006F\u006E\u0066\u0069\u0067']=exportPermissionConfig;window['\u0065\u0064\u0069\u0074\u0055\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']=editUserPermissions;window['\u0073\u0061\u0076\u0065\u0055\u0073\u0065\u0072\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0073']=saveUserPermissions;window['\u0075\u0070\u0064\u0061\u0074\u0065\u0050\u0065\u0072\u006D\u0069\u0073\u0073\u0069\u006F\u006E\u0056\u0061\u006C\u0075\u0065']=updatePermissionValue;window['\u0073\u0068\u006F\u0077\u0041\u0064\u0064\u0055\u0073\u0065\u0072\u004D\u006F\u0064\u0061\u006C']=showAddUserModal;window['\u0064\u0065\u006C\u0065\u0074\u0065\u0055\u0073\u0065\u0072']=deleteUser;